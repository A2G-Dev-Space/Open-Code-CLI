# OPEN-CLI ê°œë°œ ì§„í–‰ ìƒí™©

## ğŸ“‹ ê°œë°œ í”„ë¡œì„¸ìŠ¤ ê·œì¹™ (RULES)

### ëª¨ë“  ì‘ì—…ì€ ë‹¤ìŒ 5ë‹¨ê³„ë¥¼ ì—„ê²©íˆ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤:

1. **ê³„íš í™•ì¸ (PLAN CHECK)**
   - PROGRESS.mdì—ì„œ ë‹¤ìŒ ì‘ì—… í™•ì¸
   - ê³„íšë§Œ ì‘ì„±ë˜ê³  ì§„í–‰ë˜ì§€ ì•Šì€ ë‚´ìš© í™•ì¸
   - ì‘ì—… ìš°ì„ ìˆœìœ„ ë° ì˜ì¡´ì„± ê²€í† 

2. **êµ¬í˜„ (IMPLEMENTATION)**
   - ê³„íšëœ ì‘ì—… ë˜ëŠ” Feature êµ¬í˜„
   - ì½”ë“œ ì‘ì„± ì‹œ TypeScript íƒ€ì… ì•ˆì •ì„± ë³´ì¥
   - ëª¨ë“  í•¨ìˆ˜ì— JSDoc ì£¼ì„ ì‘ì„±
   - ì—ëŸ¬ ì²˜ë¦¬ ë° ì—£ì§€ ì¼€ì´ìŠ¤ ê³ ë ¤

3. **í…ŒìŠ¤íŠ¸ (TESTING)**
   - êµ¬í˜„í•œ ê¸°ëŠ¥ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ ì—„ê²©íˆ í…ŒìŠ¤íŠ¸
   - ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ ë° ê²°ê³¼ ê¸°ë¡
   - ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
   - í†µí•© í…ŒìŠ¤íŠ¸ (ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì™€ì˜ ìƒí˜¸ì‘ìš©)

4. **ë¬¸ì„œí™” (DOCUMENTATION)**
   - PROGRESS.mdì— ì§„í–‰í•œ ë‚´ìš© ìµœëŒ€í•œ ìì„¸íˆ ê¸°ë¡
   - êµ¬í˜„ ì„¸ë¶€ì‚¬í•­, ê¸°ìˆ ì  ê²°ì •, ì´ìŠˆ ë° í•´ê²° ë°©ë²• ëª…ì‹œ
   - ì½”ë“œ ì˜ˆì‹œ ë° ì‚¬ìš©ë²• í¬í•¨

5. **ë‹¤ìŒ ì‘ì—… ê³„íš (NEXT STEPS)**
   - ë‹¤ìŒì— ì§„í–‰í•  ì‘ì—… ë˜ëŠ” Feature ì‘ì„±
   - ìš°ì„ ìˆœìœ„ ë° ì˜ˆìƒ ì‹œê°„ ëª…ì‹œ
   - ì˜ì¡´ì„± ë° ì „ì œ ì¡°ê±´ í™•ì¸

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

**í”„ë¡œì íŠ¸ëª…**: OPEN-CLI
**ëª©í‘œ**: ì˜¤í”„ë¼ì¸ ê¸°ì—… í™˜ê²½ì„ ìœ„í•œ ì™„ì „í•œ ë¡œì»¬ LLM CLI í”Œë«í¼
**ì‹œì‘ì¼**: 2025ë…„ 11ì›” 3ì¼
**í˜„ì¬ Phase**: Phase 2 (ìƒí˜¸ì‘ìš© ê³ ë„í™”)

---

## ğŸ“… Phase 1: ê¸°ì´ˆ êµ¬ì¶• (3-6ê°œì›”) - ì§„í–‰ë¥ : 100% âœ…

### ëª©í‘œ
- âœ… ê¸°ë³¸ CLI í”„ë ˆì„ì›Œí¬ êµ¬ì¶•
- âœ… ì„¤ì • íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¶•
- âœ… ë¡œì»¬ ëª¨ë¸ ì—”ë“œí¬ì¸íŠ¸ ì—°ê²° (OpenAI Compatible API í´ë¼ì´ì–¸íŠ¸)
- âœ… íŒŒì¼ ì‹œìŠ¤í…œ ë„êµ¬ (LLM Tools)
- âœ… ê¸°ë³¸ ëª…ë ¹ì–´ ì‹œìŠ¤í…œ (ëŒ€í™”í˜• ëª¨ë“œ)

---

## ğŸ“… Phase 2: ìƒí˜¸ì‘ìš© ê³ ë„í™” (6-12ê°œì›”) - ì§„í–‰ë¥ : 100% âœ…

### ëª©í‘œ
- âœ… ì¸í„°ë™í‹°ë¸Œ í„°ë¯¸ë„ UI (Ink/React ê¸°ë°˜)
- âœ… ê³ ê¸‰ ì„¤ì • ê´€ë¦¬ (ë‹¤ì¤‘ ì—”ë“œí¬ì¸íŠ¸, í”„ë¡œí•„)
- âœ… ë¡œì»¬ ë¬¸ì„œ ì‹œìŠ¤í…œ (ì˜¤í”„ë¼ì¸ ì§€ì‹ ë² ì´ìŠ¤)
- âœ… ì‚¬ìš©ì ë©”ëª¨ë¦¬/ì„¸ì…˜ ê´€ë¦¬ (ì˜êµ¬ ì €ì¥)

---

## ğŸš€ ì§„í–‰ ì¤‘ì¸ ì‘ì—…

### [IN PROGRESS] 2025-11-04: Gemini CLI ìŠ¤íƒ€ì¼ UI ê³ ë„í™” (Enhanced Gemini-Style UI)

**ì‘ì—… ëª©í‘œ**: Gemini CLIì™€ ìœ ì‚¬í•œ ì„¸ë ¨ëœ í„°ë¯¸ë„ UIë¥¼ OPEN-CLIì— êµ¬í˜„

**ë°°ê²½**:
- í˜„ì¬ Ink UIëŠ” ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ë§Œ ì œê³µ (í—¤ë”, ë©”ì‹œì§€, ì…ë ¥)
- Tool ì‚¬ìš© ë‚´ì—­ì´ console.logë¡œë§Œ í‘œì‹œë¨
- Gemini CLIì˜ UXë¥¼ ì°¸ê³ í•˜ì—¬ ë” ì§ê´€ì ì´ê³  ì •ë³´ê°€ í’ë¶€í•œ UI í•„ìš”

---

### ğŸ“‹ 1ë‹¨ê³„: ê³„íš í™•ì¸ (PLAN CHECK)

**í˜„ì¬ ìƒíƒœ íŒŒì•…**:
- âœ… Ink UI ê¸°ë³¸ êµ¬ì¡° ì™„ì„± (InteractiveApp.tsx)
- âœ… FILE_TOOLS ìë™ ë°”ì¸ë”© ì™„ë£Œ
- âš ï¸ Tool ì‚¬ìš© ë‚´ì—­ UI í‘œì‹œ ë¯¸êµ¬í˜„ (console.logë§Œ ì‚¬ìš©)
- âš ï¸ ìƒíƒœë°”/ì»¨í…ìŠ¤íŠ¸ ì •ë³´ í‘œì‹œ ì—†ìŒ
- âš ï¸ Welcome í™”ë©´/Tips ì—†ìŒ

**Gemini CLI UI ì£¼ìš” íŠ¹ì§• ë¶„ì„**:
1. ASCII ì•„íŠ¸ ë¡œê³ ì™€ ë¸Œëœë”©
2. Tips for getting started ì„¹ì…˜
3. Tool ì‚¬ìš© í‘œì‹œ ë°•ìŠ¤ (âœ“ ReadFile package.json)
4. í•˜ë‹¨ ìƒíƒœë°” (ê²½ë¡œ, ëª¨ë“œ, ëª¨ë¸, ì»¨í…ìŠ¤íŠ¸)
5. ì…ë ¥ íŒíŠ¸ ("Type your message or @path/to/file")
6. ë©”ì‹œì§€ì™€ Tool í˜¸ì¶œ ì‹œê°ì  êµ¬ë¶„

**êµ¬í˜„ ìš°ì„ ìˆœìœ„**: âš ï¸ **ì•„í‚¤í…ì²˜ ëŒ€í­ ë³€ê²½ í•„ìš”**
1. [P0] **Plan-and-Execute ì•„í‚¤í…ì²˜ êµ¬í˜„** ğŸš¨ **ìµœìš°ì„  ê³¼ì œ** (ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­)
   - Planning LLM (TODO List ìë™ ìƒì„±)
   - Docs Search Agent Tool (ê° TODO ì‹¤í–‰ ì „ ì„ í–‰)
   - TODO List ê³ ì • UI (í•˜ë‹¨ íŒ¨ë„)
   - Sessionì— TODO ìƒíƒœ ì €ì¥
2. [P0] Tool ì‚¬ìš© ë‚´ì—­ UI í‘œì‹œ (í˜„ì¬ ê°€ì¥ ì‹œê¸‰)
3. [P1] í•˜ë‹¨ ìƒíƒœë°” êµ¬í˜„
4. [P1] ASCII ë¡œê³  ë° Welcome í™”ë©´
5. [P2] Tips/Help ì„¹ì…˜
6. [P2] ì…ë ¥ íŒíŠ¸ ë° ìë™ì™„ì„± ì œì•ˆ
7. [P3] ë©”ì‹œì§€ íƒ€ì…ë³„ ìŠ¤íƒ€ì¼ë§ ê°•í™”

---

### ğŸ”§ 2ë‹¨ê³„: êµ¬í˜„ (IMPLEMENTATION)

---

## ğŸš¨ ì¤‘ìš”: Plan-and-Execute ì•„í‚¤í…ì²˜ë¡œ ì „í™˜ (2025-11-04)

### ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­ ë¶„ì„

**í˜„ì¬ ë°©ì‹ (Direct Response)**:
```
User Request â†’ LLM â†’ Tools (optional) â†’ Response
```

**ìƒˆë¡œìš´ ë°©ì‹ (Plan-and-Execute)**:
```
User Request
    â†“
Planning LLM â†’ TODO List ìƒì„± (UIì— í‘œì‹œ)
    â†“
For each TODO item:
    â”œâ”€ Docs Search Agent (ì„ í–‰ ì‹¤í–‰)
    â”œâ”€ Main LLM ReAct (iteration)
    â”œâ”€ âœ“ ì™„ë£Œ ì²´í¬
    â””â”€ ë‹¤ìŒ TODOë¡œ
    â†“
All TODOs ì™„ë£Œ
    â†“
Sessionì— ì €ì¥ (ë³µêµ¬ ê°€ëŠ¥)
```

**í•µì‹¬ ë³€ê²½ì‚¬í•­**:
1. âœ… **Planning Phase**: User requestë¥¼ ë¶„ì„í•˜ì—¬ TODO list ìë™ ìƒì„±
2. âœ… **Docs Search ì„ í–‰**: ê° TODO ì‹¤í–‰ ì „ ë°˜ë“œì‹œ docs search agent tool ì‹¤í–‰
3. âœ… **TODO UI ê³ ì •**: ë©”ì‹œì§€ëŠ” ìŠ¤í¬ë¡¤, TODO listëŠ” í•˜ë‹¨ ê³ ì •
4. âœ… **ReAct ì¡°ê°**: ê° TODOê°€ í•˜ë‚˜ì˜ ReAct ë‹¨ìœ„
5. âœ… **Session ì €ì¥**: TODO ìƒíƒœ ë° ì§„í–‰ìƒí™© ì €ì¥

---

#### 1.8 GitHub Release Auto-Update System [P0] ğŸš¨ **ìµœìš°ì„  ê³¼ì œ**

**ëª©í‘œ**: GitHub Releaseë¥¼ í†µí•œ ìë™ ë²„ì „ ê´€ë¦¬ ë° ì—…ë°ì´íŠ¸ ì‹œìŠ¤í…œ êµ¬ì¶•

**ë°°ê²½**:
- ì‚¬ìš©ìê°€ `open` ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ ìƒˆ ë²„ì „ ì²´í¬
- GitHub Releaseì— ìƒˆ ë²„ì „ì´ ìˆìœ¼ë©´ ìë™ ì—…ë°ì´íŠ¸ ìˆ˜í–‰
- ì˜¤í”„ë¼ì¸ í™˜ê²½ì„ ê³ ë ¤í•œ ì—ëŸ¬ í•¸ë“¤ë§
- ì‚¬ìš©ìì—ê²Œ ì—…ë°ì´íŠ¸ ì§„í–‰ìƒí™© ëª…í™•íˆ í‘œì‹œ

---

##### 1.8.1 Architecture & Design

**ì „ì²´ íë¦„ë„**:
```
CLI ì‹œì‘ (open ëª…ë ¹ì–´)
    â†“
[ì—…ë°ì´íŠ¸ ì²´í¬ ë‹¨ê³„]
    â”œâ”€ GitHub API í˜¸ì¶œ (latest release ì¡°íšŒ)
    â”œâ”€ í˜„ì¬ ë²„ì „ê³¼ ë¹„êµ (package.json)
    â”œâ”€ ìƒˆ ë²„ì „ ìˆìŒ? â†’ YES
    â”‚   â†“
    â”‚   ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ (ì˜µì…˜: ìë™/ìˆ˜ë™)
    â”‚   â†“
    â”‚   [ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ]
    â”‚   â”œâ”€ Release tarball ë‹¤ìš´ë¡œë“œ
    â”‚   â”œâ”€ ì„ì‹œ í´ë”ì— ì••ì¶• í•´ì œ
    â”‚   â”œâ”€ ë°±ì—… ìƒì„± (í˜„ì¬ ë²„ì „)
    â”‚   â†“
    â”‚   [ì—…ë°ì´íŠ¸ ì„¤ì¹˜]
    â”‚   â”œâ”€ ê¸°ì¡´ íŒŒì¼ êµì²´
    â”‚   â”œâ”€ npm install ì‹¤í–‰
    â”‚   â”œâ”€ npm run build ì‹¤í–‰
    â”‚   â”œâ”€ ì„¤ì • íŒŒì¼ ë³´ì¡´
    â”‚   â†“
    â”‚   [ê²€ì¦]
    â”‚   â”œâ”€ ì„¤ì¹˜ ì„±ê³µ í™•ì¸
    â”‚   â”œâ”€ ë²„ì „ í™•ì¸
    â”‚   â””â”€ ì‹¤íŒ¨ ì‹œ ë¡¤ë°±
    â”‚   â†“
    â”‚   ì—…ë°ì´íŠ¸ ì™„ë£Œ ë©”ì‹œì§€
    â”‚
    â””â”€ NO â†’ ì •ìƒ CLI ì‹œì‘
    â†“
[ì •ìƒ CLI ì‹¤í–‰]
```

**í•µì‹¬ ì»´í¬ë„ŒíŠ¸**:
1. **AutoUpdater** (`src/core/auto-updater.ts`)
   - GitHub API í†µì‹ 
   - ë²„ì „ ë¹„êµ ë¡œì§
   - ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜ ê´€ë¦¬

2. **UpdateUI** (`src/ui/components/UpdateNotification.tsx`)
   - ì—…ë°ì´íŠ¸ ì•Œë¦¼ í‘œì‹œ
   - ì§„í–‰ ìƒí™© ë°”
   - ì—ëŸ¬ ë©”ì‹œì§€

3. **BackupManager** (`src/core/backup-manager.ts`)
   - í˜„ì¬ ë²„ì „ ë°±ì—…
   - ë¡¤ë°± ê¸°ëŠ¥

---

##### 1.8.2 Version Checking

**GitHub API ì‚¬ìš©**:
```typescript
// src/core/auto-updater.ts
import axios from 'axios';
import { execSync } from 'child_process';
import fs from 'fs';
import path from 'path';

/**
 * GitHub Release ì •ë³´
 */
export interface ReleaseInfo {
  version: string;
  releaseDate: string;
  downloadUrl: string;
  changelog: string;
  assets: {
    name: string;
    url: string;
    size: number;
  }[];
}

/**
 * ì—…ë°ì´íŠ¸ ì²´í¬ ê²°ê³¼
 */
export interface UpdateCheckResult {
  hasUpdate: boolean;
  currentVersion: string;
  latestVersion?: string;
  releaseInfo?: ReleaseInfo;
  error?: string;
}

/**
 * Auto Updater
 */
export class AutoUpdater {
  private owner: string = 'A2G-Dev-Space';
  private repo: string = 'Open-Code-CLI';
  private currentVersion: string;
  private apiBaseUrl: string = 'https://api.github.com';

  constructor() {
    // package.jsonì—ì„œ í˜„ì¬ ë²„ì „ ì½ê¸°
    const packageJsonPath = path.join(process.cwd(), 'package.json');
    const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf-8'));
    this.currentVersion = packageJson.version;
  }

  /**
   * ì—…ë°ì´íŠ¸ ì²´í¬
   */
  async checkForUpdates(): Promise<UpdateCheckResult> {
    try {
      // GitHub API: ìµœì‹  Release ì¡°íšŒ
      const url = `${this.apiBaseUrl}/repos/${this.owner}/${this.repo}/releases/latest`;

      const response = await axios.get(url, {
        timeout: 5000, // 5ì´ˆ íƒ€ì„ì•„ì›ƒ (ì˜¤í”„ë¼ì¸ í™˜ê²½ ê³ ë ¤)
        headers: {
          'Accept': 'application/vnd.github.v3+json',
          'User-Agent': 'OPEN-CLI',
        },
      });

      const release = response.data;
      const latestVersion = release.tag_name.replace(/^v/, ''); // "v1.0.0" â†’ "1.0.0"

      // ë²„ì „ ë¹„êµ
      if (this.isNewerVersion(latestVersion, this.currentVersion)) {
        return {
          hasUpdate: true,
          currentVersion: this.currentVersion,
          latestVersion,
          releaseInfo: {
            version: latestVersion,
            releaseDate: release.published_at,
            downloadUrl: release.tarball_url,
            changelog: release.body || '',
            assets: release.assets.map((asset: any) => ({
              name: asset.name,
              url: asset.browser_download_url,
              size: asset.size,
            })),
          },
        };
      }

      return {
        hasUpdate: false,
        currentVersion: this.currentVersion,
        latestVersion,
      };
    } catch (error: any) {
      // ì˜¤í”„ë¼ì¸ì´ê±°ë‚˜ API í˜¸ì¶œ ì‹¤íŒ¨ â†’ ì¡°ìš©íˆ ë„˜ì–´ê°
      return {
        hasUpdate: false,
        currentVersion: this.currentVersion,
        error: error.message,
      };
    }
  }

  /**
   * ë²„ì „ ë¹„êµ (semantic versioning)
   */
  private isNewerVersion(latest: string, current: string): boolean {
    const latestParts = latest.split('.').map(Number);
    const currentParts = current.split('.').map(Number);

    for (let i = 0; i < 3; i++) {
      if (latestParts[i] > currentParts[i]) return true;
      if (latestParts[i] < currentParts[i]) return false;
    }

    return false; // ë™ì¼ ë²„ì „
  }
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
const updater = new AutoUpdater();
const result = await updater.checkForUpdates();

if (result.hasUpdate) {
  console.log(`ìƒˆ ë²„ì „ ë°œê²¬: ${result.latestVersion}`);
}
```

---

##### 1.8.3 Update Mechanism

**ì—…ë°ì´íŠ¸ ì „ëµ**: Git Pull ë°©ì‹ (ì˜¤í”„ë¼ì¸ ëŒ€ë¹„ Tarball ë°©ì‹ ì¤€ë¹„)

**ì „ëµ A: Git Pull ë°©ì‹** (ê¶Œì¥):
```typescript
/**
 * Git Pull ê¸°ë°˜ ì—…ë°ì´íŠ¸
 */
async performGitUpdate(): Promise<{ success: boolean; error?: string }> {
  try {
    // 1. Git ìƒíƒœ í™•ì¸
    const gitStatus = execSync('git status --porcelain', { encoding: 'utf-8' });

    if (gitStatus.trim() !== '') {
      return {
        success: false,
        error: 'ë¡œì»¬ ë³€ê²½ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤. ì—…ë°ì´íŠ¸ ì „ì— ì»¤ë°‹í•˜ê±°ë‚˜ stashí•˜ì„¸ìš”.',
      };
    }

    // 2. Git Pull
    execSync('git pull origin main', { stdio: 'pipe' });

    // 3. npm install (ì˜ì¡´ì„± ì—…ë°ì´íŠ¸)
    execSync('npm install', { stdio: 'pipe' });

    // 4. Build
    execSync('npm run build', { stdio: 'pipe' });

    return { success: true };
  } catch (error: any) {
    return {
      success: false,
      error: error.message,
    };
  }
}
```

**ì „ëµ B: Tarball ë‹¤ìš´ë¡œë“œ ë°©ì‹** (ì˜¤í”„ë¼ì¸ í™˜ê²½ì—ì„œ ì‚¬ì „ ë‹¤ìš´ë¡œë“œ):
```typescript
/**
 * Tarball ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜
 */
async performTarballUpdate(releaseInfo: ReleaseInfo): Promise<{ success: boolean; error?: string }> {
  const tempDir = path.join(os.tmpdir(), 'open-cli-update');
  const currentDir = process.cwd();
  const backupDir = path.join(currentDir, '..', `open-cli-backup-${Date.now()}`);

  try {
    // 1. ì„ì‹œ í´ë” ìƒì„±
    fs.mkdirSync(tempDir, { recursive: true });

    // 2. Tarball ë‹¤ìš´ë¡œë“œ
    const tarballPath = path.join(tempDir, 'update.tar.gz');
    const response = await axios.get(releaseInfo.downloadUrl, {
      responseType: 'stream',
      timeout: 30000, // 30ì´ˆ
    });

    const writer = fs.createWriteStream(tarballPath);
    response.data.pipe(writer);

    await new Promise((resolve, reject) => {
      writer.on('finish', resolve);
      writer.on('error', reject);
    });

    // 3. ì••ì¶• í•´ì œ
    execSync(`tar -xzf ${tarballPath} -C ${tempDir}`, { stdio: 'pipe' });

    // 4. ë°±ì—… ìƒì„±
    fs.cpSync(currentDir, backupDir, { recursive: true });

    // 5. íŒŒì¼ êµì²´ (src/, dist/, package.json ë“±)
    const extractedDir = fs.readdirSync(tempDir).find(dir => dir.startsWith('A2G-Dev-Space'));
    const sourcePath = path.join(tempDir, extractedDir!);

    // ì¤‘ìš” íŒŒì¼ë“¤ë§Œ êµì²´ (ì„¤ì • íŒŒì¼ ë³´ì¡´)
    const filesToUpdate = ['src', 'dist', 'package.json', 'package-lock.json', 'tsconfig.json'];

    for (const file of filesToUpdate) {
      const srcPath = path.join(sourcePath, file);
      const destPath = path.join(currentDir, file);

      if (fs.existsSync(srcPath)) {
        fs.rmSync(destPath, { recursive: true, force: true });
        fs.cpSync(srcPath, destPath, { recursive: true });
      }
    }

    // 6. npm install & build
    execSync('npm install', { cwd: currentDir, stdio: 'pipe' });
    execSync('npm run build', { cwd: currentDir, stdio: 'pipe' });

    // 7. ì •ë¦¬
    fs.rmSync(tempDir, { recursive: true, force: true });

    return { success: true };
  } catch (error: any) {
    // ë¡¤ë°±
    if (fs.existsSync(backupDir)) {
      fs.rmSync(currentDir, { recursive: true, force: true });
      fs.cpSync(backupDir, currentDir, { recursive: true });
    }

    return {
      success: false,
      error: error.message,
    };
  } finally {
    // ë°±ì—… ì •ë¦¬ (ì„ íƒ)
    // fs.rmSync(backupDir, { recursive: true, force: true });
  }
}
```

---

##### 1.8.4 UI/UX During Update

**ì—…ë°ì´íŠ¸ UI ì»´í¬ë„ŒíŠ¸** (`src/ui/components/UpdateNotification.tsx`):

```typescript
import React, { useState, useEffect } from 'react';
import { Box, Text } from 'ink';
import Spinner from 'ink-spinner';

interface UpdateNotificationProps {
  currentVersion: string;
  latestVersion: string;
  onAccept: () => void;
  onSkip: () => void;
}

/**
 * ì—…ë°ì´íŠ¸ ì•Œë¦¼ ì»´í¬ë„ŒíŠ¸
 */
export const UpdateNotification: React.FC<UpdateNotificationProps> = ({
  currentVersion,
  latestVersion,
  onAccept,
  onSkip,
}) => {
  return (
    <Box flexDirection="column" borderStyle="round" borderColor="yellow" paddingX={2}>
      <Text color="yellow" bold>
        ğŸš€ ìƒˆ ë²„ì „ ë°œê²¬!
      </Text>
      <Text>
        í˜„ì¬ ë²„ì „: <Text color="gray">{currentVersion}</Text>
      </Text>
      <Text>
        ìµœì‹  ë²„ì „: <Text color="green" bold>{latestVersion}</Text>
      </Text>
      <Box marginTop={1}>
        <Text>
          ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (Y/n)
        </Text>
      </Box>
    </Box>
  );
};

interface UpdateProgressProps {
  stage: 'downloading' | 'installing' | 'building' | 'completed';
  progress?: number;
}

/**
 * ì—…ë°ì´íŠ¸ ì§„í–‰ ìƒí™© ì»´í¬ë„ŒíŠ¸
 */
export const UpdateProgress: React.FC<UpdateProgressProps> = ({ stage, progress }) => {
  const stageMessages = {
    downloading: 'ğŸ“¥ ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ì¤‘...',
    installing: 'ğŸ“¦ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì¤‘...',
    building: 'ğŸ”¨ ë¹Œë“œ ì¤‘...',
    completed: 'âœ… ì—…ë°ì´íŠ¸ ì™„ë£Œ!',
  };

  return (
    <Box flexDirection="column" borderStyle="round" paddingX={2}>
      <Box>
        {stage !== 'completed' && <Text color="cyan"><Spinner type="dots" /></Text>}
        <Text> {stageMessages[stage]}</Text>
      </Box>
      {progress !== undefined && (
        <Box marginTop={1}>
          <Text>ì§„í–‰ë¥ : {progress}%</Text>
        </Box>
      )}
    </Box>
  );
};
```

**UI íë¦„**:
```
Step 1: ì—…ë°ì´íŠ¸ ì•Œë¦¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš€ ìƒˆ ë²„ì „ ë°œê²¬!                             â”‚
â”‚ í˜„ì¬ ë²„ì „: 0.2.0                            â”‚
â”‚ ìµœì‹  ë²„ì „: 0.3.0                            â”‚
â”‚                                             â”‚
â”‚ ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (Y/n)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 2: ë‹¤ìš´ë¡œë“œ ì¤‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â£¾ ğŸ“¥ ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ì¤‘...                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 3: ì„¤ì¹˜ ì¤‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â£¾ ğŸ“¦ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì¤‘...                       â”‚
â”‚ ì§„í–‰ë¥ : 45%                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 4: ì™„ë£Œ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… ì—…ë°ì´íŠ¸ ì™„ë£Œ!                            â”‚
â”‚ ë²„ì „ 0.3.0ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

##### 1.8.5 Error Handling & Rollback

**ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ ë° ì²˜ë¦¬**:

1. **GitHub API íƒ€ì„ì•„ì›ƒ** (ì˜¤í”„ë¼ì¸ í™˜ê²½):
   ```typescript
   // ì¡°ìš©íˆ ë„˜ì–´ê°€ê³  ì •ìƒ CLI ì‹œì‘
   if (result.error) {
     // ë¡œê·¸ë§Œ ë‚¨ê¸°ê³  ê³„ì† ì§„í–‰
     console.log('ì—…ë°ì´íŠ¸ ì²´í¬ ì‹¤íŒ¨ (ì˜¤í”„ë¼ì¸ í™˜ê²½ì¼ ìˆ˜ ìˆìŒ)');
   }
   ```

2. **ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨**:
   ```typescript
   if (!downloadResult.success) {
     console.error('âŒ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:', downloadResult.error);
     console.log('ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ë ¤ë©´: git pull && npm install && npm run build');
     // ì •ìƒ CLI ì‹œì‘
   }
   ```

3. **ë¹Œë“œ ì‹¤íŒ¨**:
   ```typescript
   if (!buildResult.success) {
     console.error('âŒ ë¹Œë“œ ì‹¤íŒ¨. ë°±ì—…ì—ì„œ ë³µêµ¬í•©ë‹ˆë‹¤...');
     await rollback(backupDir);
     console.log('âœ… ì´ì „ ë²„ì „ìœ¼ë¡œ ë³µêµ¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
   }
   ```

4. **ê¶Œí•œ ë¬¸ì œ**:
   ```typescript
   if (error.code === 'EACCES') {
     console.error('âŒ ê¶Œí•œ ì˜¤ë¥˜. sudoë¡œ ë‹¤ì‹œ ì‹œë„í•˜ê±°ë‚˜ ìˆ˜ë™ ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•˜ì„¸ìš”.');
   }
   ```

**ë¡¤ë°± í•¨ìˆ˜**:
```typescript
/**
 * ì—…ë°ì´íŠ¸ ì‹¤íŒ¨ ì‹œ ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
 */
async function rollback(backupDir: string): Promise<void> {
  const currentDir = process.cwd();

  try {
    // í˜„ì¬ ë””ë ‰í† ë¦¬ ì‚­ì œ
    fs.rmSync(currentDir, { recursive: true, force: true });

    // ë°±ì—…ì—ì„œ ë³µêµ¬
    fs.cpSync(backupDir, currentDir, { recursive: true });

    console.log('âœ… ë¡¤ë°± ì™„ë£Œ');
  } catch (error) {
    console.error('âŒ ë¡¤ë°± ì‹¤íŒ¨:', error);
    console.log('ìˆ˜ë™ ë³µêµ¬ê°€ í•„ìš”í•©ë‹ˆë‹¤:', backupDir);
  }
}
```

---

##### 1.8.6 Integration with CLI Startup

**CLI ì‹œì‘ ì‹œ ìë™ ì—…ë°ì´íŠ¸ ì²´í¬** (`src/cli.ts` ìˆ˜ì •):

```typescript
// src/cli.ts
import { AutoUpdater } from './core/auto-updater.js';
import { UpdateNotification, UpdateProgress } from './ui/components/UpdateNotification.js';

/**
 * CLI ì‹œì‘ ì „ ì—…ë°ì´íŠ¸ ì²´í¬
 */
async function checkAndUpdate(): Promise<void> {
  // --no-update í”Œë˜ê·¸ë¡œ ìŠ¤í‚µ ê°€ëŠ¥
  if (process.argv.includes('--no-update')) {
    return;
  }

  const updater = new AutoUpdater();
  const result = await updater.checkForUpdates();

  if (!result.hasUpdate) {
    return; // ì—…ë°ì´íŠ¸ ì—†ìŒ â†’ ì •ìƒ ì§„í–‰
  }

  // ì—…ë°ì´íŠ¸ ì•Œë¦¼ í‘œì‹œ
  console.log('\n');
  console.log('ğŸš€ ìƒˆ ë²„ì „ ë°œê²¬!');
  console.log(`í˜„ì¬ ë²„ì „: ${result.currentVersion}`);
  console.log(`ìµœì‹  ë²„ì „: ${result.latestVersion}`);
  console.log('\nì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (Y/n)');

  // ì‚¬ìš©ì ì…ë ¥ ëŒ€ê¸°
  const readline = require('readline').createInterface({
    input: process.stdin,
    output: process.stdout,
  });

  return new Promise((resolve) => {
    readline.question('', async (answer: string) => {
      readline.close();

      if (answer.toLowerCase() === 'n') {
        console.log('ì—…ë°ì´íŠ¸ë¥¼ ê±´ë„ˆëœë‹ˆë‹¤.\n');
        resolve();
        return;
      }

      // ì—…ë°ì´íŠ¸ ì§„í–‰
      console.log('\nğŸ“¥ ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ì¤‘...');

      const updateResult = await updater.performGitUpdate();

      if (updateResult.success) {
        console.log('âœ… ì—…ë°ì´íŠ¸ ì™„ë£Œ! CLIë¥¼ ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤.\n');
        process.exit(0); // CLI ì¬ì‹œì‘ í•„ìš”
      } else {
        console.error('âŒ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', updateResult.error);
        console.log('ì •ìƒ CLIë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.\n');
        resolve();
      }
    });
  });
}

// Program ì‹œì‘ ì „ ì‹¤í–‰
(async () => {
  await checkAndUpdate();

  // ì •ìƒ CLI ì‹œì‘
  program.parse();
})();
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```bash
# ìë™ ì—…ë°ì´íŠ¸ ì²´í¬ (ê¸°ë³¸)
$ open

# ì—…ë°ì´íŠ¸ ì²´í¬ ìŠ¤í‚µ
$ open --no-update
```

---

##### 1.8.7 Configuration Options

**ì„¤ì • íŒŒì¼ì— ì—…ë°ì´íŠ¸ ì˜µì…˜ ì¶”ê°€** (`~/.open-cli/config.json`):

```json
{
  "autoUpdate": {
    "enabled": true,
    "checkOnStartup": true,
    "autoInstall": false,
    "channel": "stable"
  }
}
```

**ì„¤ì • ì¸í„°í˜ì´ìŠ¤**:
```typescript
export interface AutoUpdateConfig {
  enabled: boolean; // ìë™ ì—…ë°ì´íŠ¸ í™œì„±í™”
  checkOnStartup: boolean; // ì‹œì‘ ì‹œ ì²´í¬
  autoInstall: boolean; // ìë™ ì„¤ì¹˜ (ë¬¼ì–´ë³´ì§€ ì•ŠìŒ)
  channel: 'stable' | 'beta' | 'nightly'; // ì—…ë°ì´íŠ¸ ì±„ë„
}
```

---

##### 1.8.8 Testing Scenarios

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**:

1. **ì •ìƒ ì—…ë°ì´íŠ¸ í”Œë¡œìš°**:
   ```bash
   # 1. í˜„ì¬ ë²„ì „: 0.2.0
   $ open

   # 2. ìƒˆ ë²„ì „ ë°œê²¬ ì•Œë¦¼ í‘œì‹œ
   ğŸš€ ìƒˆ ë²„ì „ ë°œê²¬!
   í˜„ì¬ ë²„ì „: 0.2.0
   ìµœì‹  ë²„ì „: 0.3.0

   # 3. ì‚¬ìš©ì ìŠ¹ì¸
   ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (Y/n) y

   # 4. ì—…ë°ì´íŠ¸ ì§„í–‰
   ğŸ“¥ ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ì¤‘...
   ğŸ“¦ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì¤‘...
   ğŸ”¨ ë¹Œë“œ ì¤‘...
   âœ… ì—…ë°ì´íŠ¸ ì™„ë£Œ!

   # 5. ë²„ì „ í™•ì¸
   $ open --version
   0.3.0
   ```

2. **ì˜¤í”„ë¼ì¸ í™˜ê²½**:
   ```bash
   $ open
   # íƒ€ì„ì•„ì›ƒ í›„ ì¡°ìš©íˆ ì •ìƒ CLI ì‹œì‘
   # (ì—ëŸ¬ ë©”ì‹œì§€ ì—†ìŒ)
   ```

3. **ì—…ë°ì´íŠ¸ ê±°ë¶€**:
   ```bash
   $ open
   ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (Y/n) n
   ì—…ë°ì´íŠ¸ë¥¼ ê±´ë„ˆëœë‹ˆë‹¤.
   # ì •ìƒ CLI ì‹œì‘
   ```

4. **ì—…ë°ì´íŠ¸ ì²´í¬ ìŠ¤í‚µ**:
   ```bash
   $ open --no-update
   # ì¦‰ì‹œ CLI ì‹œì‘
   ```

5. **ë¹Œë“œ ì‹¤íŒ¨ ë° ë¡¤ë°±**:
   ```bash
   $ open
   ğŸ“¥ ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ì¤‘...
   ğŸ“¦ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì¤‘...
   ğŸ”¨ ë¹Œë“œ ì¤‘...
   âŒ ë¹Œë“œ ì‹¤íŒ¨. ë°±ì—…ì—ì„œ ë³µêµ¬í•©ë‹ˆë‹¤...
   âœ… ì´ì „ ë²„ì „ìœ¼ë¡œ ë³µêµ¬ë˜ì—ˆìŠµë‹ˆë‹¤.
   # ì •ìƒ CLI ì‹œì‘
   ```

---

##### 1.8.9 Implementation Checklist

**ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸**:

- [ ] `src/core/auto-updater.ts` íŒŒì¼ ìƒì„±
  - [ ] `AutoUpdater` í´ë˜ìŠ¤ êµ¬í˜„
  - [ ] `checkForUpdates()` ë©”ì„œë“œ
  - [ ] `performGitUpdate()` ë©”ì„œë“œ
  - [ ] `performTarballUpdate()` ë©”ì„œë“œ
  - [ ] ë²„ì „ ë¹„êµ ë¡œì§

- [ ] `src/core/backup-manager.ts` íŒŒì¼ ìƒì„±
  - [ ] ë°±ì—… ìƒì„± í•¨ìˆ˜
  - [ ] ë¡¤ë°± í•¨ìˆ˜

- [ ] `src/ui/components/UpdateNotification.tsx` íŒŒì¼ ìƒì„±
  - [ ] `UpdateNotification` ì»´í¬ë„ŒíŠ¸
  - [ ] `UpdateProgress` ì»´í¬ë„ŒíŠ¸

- [ ] `src/cli.ts` ìˆ˜ì •
  - [ ] `checkAndUpdate()` í•¨ìˆ˜ ì¶”ê°€
  - [ ] CLI ì‹œì‘ ì „ í˜¸ì¶œ
  - [ ] `--no-update` í”Œë˜ê·¸ ì²˜ë¦¬

- [ ] `src/types/index.ts` íƒ€ì… ì¶”ê°€
  - [ ] `ReleaseInfo` ì¸í„°í˜ì´ìŠ¤
  - [ ] `UpdateCheckResult` ì¸í„°í˜ì´ìŠ¤
  - [ ] `AutoUpdateConfig` ì¸í„°í˜ì´ìŠ¤

- [ ] `config-manager.ts` ìˆ˜ì •
  - [ ] `autoUpdate` ì„¤ì • ì¶”ê°€
  - [ ] ê¸°ë³¸ê°’ ì„¤ì •

- [ ] í…ŒìŠ¤íŠ¸
  - [ ] ì •ìƒ ì—…ë°ì´íŠ¸ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
  - [ ] ì˜¤í”„ë¼ì¸ í™˜ê²½ í…ŒìŠ¤íŠ¸
  - [ ] ì—…ë°ì´íŠ¸ ê±°ë¶€ í…ŒìŠ¤íŠ¸
  - [ ] ë¹Œë“œ ì‹¤íŒ¨ ë¡¤ë°± í…ŒìŠ¤íŠ¸
  - [ ] `--no-update` í”Œë˜ê·¸ í…ŒìŠ¤íŠ¸

- [ ] ë¬¸ì„œí™”
  - [ ] README.md ì—…ë°ì´íŠ¸
  - [ ] CHANGELOG.md ì‘ì„± ê·œì¹™ ì •ì˜

---

##### 1.8.10 Dependencies

**í•„ìš”í•œ npm íŒ¨í‚¤ì§€**:
```json
{
  "dependencies": {
    "axios": "^1.6.0", // (ì´ë¯¸ ì„¤ì¹˜ë¨)
    "semver": "^7.5.4" // ë²„ì „ ë¹„êµ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì„ íƒ)
  }
}
```

**ì„¤ì¹˜**:
```bash
npm install semver
```

---

##### 1.8.11 Security Considerations

**ë³´ì•ˆ ê³ ë ¤ì‚¬í•­**:

1. **HTTPS Only**: GitHub APIëŠ” í•­ìƒ HTTPS ì‚¬ìš©
2. **íƒ€ì„ì•„ì›ƒ ì„¤ì •**: ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì— íƒ€ì„ì•„ì›ƒ ì„¤ì • (5ì´ˆ)
3. **ê²€ì¦**: ë‹¤ìš´ë¡œë“œí•œ íŒŒì¼ì˜ ë¬´ê²°ì„± ê²€ì¦ (ì„ íƒ: checksum)
4. **ë°±ì—…**: ì—…ë°ì´íŠ¸ ì „ í•­ìƒ ë°±ì—… ìƒì„±
5. **ë¡¤ë°±**: ì‹¤íŒ¨ ì‹œ ìë™ ë¡¤ë°±
6. **ê¶Œí•œ**: ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰ (sudo ë¶ˆí•„ìš”)

---

#### 1.9 Plan-and-Execute ì•„í‚¤í…ì²˜ êµ¬í˜„ [P0] ğŸš¨

**ëª©í‘œ**: User requestë¥¼ TODO listë¡œ ë¶„í•´í•˜ê³ , ê° TODOë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ì‹œìŠ¤í…œ êµ¬ì¶•

##### 1.9.1 Planning LLM êµ¬í˜„

**ëª©í‘œ**: User requestë¥¼ ë¶„ì„í•˜ì—¬ ì‹¤í–‰ ê°€ëŠ¥í•œ TODO list ìƒì„±

**ì‘ì—… ë‚´ìš©**:
- [ ] `src/core/planning-llm.ts` íŒŒì¼ ìƒì„±
- [ ] `PlanningLLM` í´ë˜ìŠ¤ êµ¬í˜„
- [ ] `generateTODOList()` ë©”ì„œë“œ
- [ ] Planning System Prompt ì •ì˜
- [ ] TODO item íƒ€ì… ì •ì˜

**êµ¬í˜„ ì˜ˆì‹œ**:
```typescript
// src/core/planning-llm.ts
import { LLMClient } from './llm-client.js';
import { Message } from '../types/index.js';

/**
 * TODO Item íƒ€ì…
 */
export interface TodoItem {
  id: string;
  title: string;
  description: string;
  status: 'pending' | 'in_progress' | 'completed' | 'failed';
  requiresDocsSearch: boolean;
  dependencies: string[]; // ë‹¤ë¥¸ TODOì˜ id
  result?: string;
  error?: string;
  startedAt?: Date;
  completedAt?: Date;
}

/**
 * Planning ê²°ê³¼
 */
export interface PlanningResult {
  todos: TodoItem[];
  estimatedTime?: string;
  complexity: 'simple' | 'moderate' | 'complex';
}

/**
 * Planning LLM
 */
export class PlanningLLM {
  private llmClient: LLMClient;

  constructor(llmClient: LLMClient) {
    this.llmClient = llmClient;
  }

  /**
   * User requestë¥¼ TODO listë¡œ ë³€í™˜
   */
  async generateTODOList(userRequest: string): Promise<PlanningResult> {
    const systemPrompt = `
ë‹¹ì‹ ì€ ì‘ì—… ê³„íš ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ìš”ì²­ì„ ë¶„ì„í•˜ì—¬ ì‹¤í–‰ ê°€ëŠ¥í•œ TODO listë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

**ë‹¹ì‹ ì˜ ì„ë¬´**:
ì‚¬ìš©ì ìš”ì²­ì„ ì„¸ë¶€ ì‘ì—…(TODO items)ìœ¼ë¡œ ë¶„í•´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

**TODO Item ìƒì„± ê·œì¹™**:
1. **êµ¬ì²´ì **: ê° TODOëŠ” ëª…í™•í•˜ê³  ì‹¤í–‰ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤
2. **ìˆœì°¨ì **: TODOëŠ” ì‹¤í–‰ ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•©ë‹ˆë‹¤
3. **ë…ë¦½ì **: ê° TODOëŠ” ê°€ëŠ¥í•œ í•œ ë…ë¦½ì ì´ì–´ì•¼ í•©ë‹ˆë‹¤
4. **Docs Search**: ì •ë³´ê°€ í•„ìš”í•œ TODOëŠ” requiresDocsSearch: true
5. **ì˜ì¡´ì„±**: ë‹¤ë¥¸ TODOì˜ ê²°ê³¼ê°€ í•„ìš”í•˜ë©´ dependencies ëª…ì‹œ

**TODO ì˜ˆì‹œ**:
ì‚¬ìš©ì: "TypeScriptë¡œ REST APIë¥¼ ë§Œë“¤ì–´ì¤˜"
â†’ TODO:
  1. TypeScript í”„ë¡œì íŠ¸ ì„¤ì • ë°©ë²• ì¡°ì‚¬ (requiresDocsSearch: true)
  2. Express.js ì„¤ì¹˜ ë° ì´ˆê¸° ì„¤ì •
  3. ê¸°ë³¸ ë¼ìš°íŠ¸ êµ¬ì¡° ìƒì„±
  4. API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
  5. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±

**ì¤‘ìš”**:
- ë„ˆë¬´ ì„¸ë¶„í™”í•˜ì§€ ë§ˆì„¸ìš” (ìµœëŒ€ 5-7ê°œ TODO)
- ê° TODOëŠ” 10-30ë¶„ ë‚´ ì™„ë£Œ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤
- ë³µì¡í•œ ì‘ì—…ì€ ì—¬ëŸ¬ TODOë¡œ ë¶„í•´í•˜ì„¸ìš”

**ì‘ë‹µ í˜•ì‹** (JSON):
{
  "todos": [
    {
      "id": "todo-1",
      "title": "TODO ì œëª©",
      "description": "ìƒì„¸ ì„¤ëª…",
      "requiresDocsSearch": true/false,
      "dependencies": []
    }
  ],
  "estimatedTime": "30-60ë¶„",
  "complexity": "moderate"
}
`;

    const messages: Message[] = [
      {
        role: 'user',
        content: `ë‹¤ìŒ ìš”ì²­ì„ TODO listë¡œ ë¶„í•´í•´ì£¼ì„¸ìš”:\n\n${userRequest}`,
      },
    ];

    try {
      const response = await this.llmClient.chatCompletion({
        messages,
        // stream: false,
      });

      const content = response.choices[0].message.content || '';

      // JSON íŒŒì‹±
      const jsonMatch = content.match(/\{[\s\S]*\}/);
      if (!jsonMatch) {
        throw new Error('Planning LLMì´ JSONì„ ë°˜í™˜í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤');
      }

      const planningData = JSON.parse(jsonMatch[0]);

      // TodoItem ìƒì„± (status ì¶”ê°€)
      const todos: TodoItem[] = planningData.todos.map((todo: any, index: number) => ({
        id: todo.id || `todo-${Date.now()}-${index}`,
        title: todo.title,
        description: todo.description,
        status: 'pending',
        requiresDocsSearch: todo.requiresDocsSearch || false,
        dependencies: todo.dependencies || [],
      }));

      return {
        todos,
        estimatedTime: planningData.estimatedTime,
        complexity: planningData.complexity || 'moderate',
      };
    } catch (error) {
      console.error('Planning LLM ì—ëŸ¬:', error);

      // Fallback: ë‹¨ì¼ TODO ìƒì„±
      return {
        todos: [
          {
            id: `todo-${Date.now()}`,
            title: 'ì‘ì—… ìˆ˜í–‰',
            description: userRequest,
            status: 'pending',
            requiresDocsSearch: true,
            dependencies: [],
          },
        ],
        complexity: 'simple',
      };
    }
  }
}
```

##### 1.9.2 TODO Executor êµ¬í˜„

**ëª©í‘œ**: TODO listë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ì—”ì§„

**ì‘ì—… ë‚´ìš©**:
- [ ] `src/core/todo-executor.ts` íŒŒì¼ ìƒì„±
- [ ] `TodoExecutor` í´ë˜ìŠ¤ êµ¬í˜„
- [ ] `executeTodo()` ë©”ì„œë“œ (ë‹¨ì¼ TODO ì‹¤í–‰)
- [ ] `executeAll()` ë©”ì„œë“œ (ì „ì²´ TODO ìˆœì°¨ ì‹¤í–‰)
- [ ] Docs Search ì„ í–‰ ë¡œì§
- [ ] ì˜ì¡´ì„± ê²€ì¦

**êµ¬í˜„ ì˜ˆì‹œ**:
```typescript
// src/core/todo-executor.ts
import { LLMClient } from './llm-client.js';
import { TodoItem } from './planning-llm.js';
import { executeDocsSearchAgent } from '../tools/docs-search-agent.js';
import { FILE_TOOLS } from '../tools/file-tools.js';
import { Message } from '../types/index.js';

/**
 * TODO Executor
 */
export class TodoExecutor {
  private llmClient: LLMClient;
  private onTodoUpdate?: (todo: TodoItem) => void;

  constructor(
    llmClient: LLMClient,
    onTodoUpdate?: (todo: TodoItem) => void
  ) {
    this.llmClient = llmClient;
    this.onTodoUpdate = onTodoUpdate;
  }

  /**
   * ë‹¨ì¼ TODO ì‹¤í–‰
   */
  async executeTodo(
    todo: TodoItem,
    messages: Message[],
    completedTodos: TodoItem[]
  ): Promise<{ messages: Message[]; todo: TodoItem }> {
    try {
      // ìƒíƒœ ì—…ë°ì´íŠ¸: in_progress
      todo.status = 'in_progress';
      todo.startedAt = new Date();
      this.onTodoUpdate?.(todo);

      // 1. Docs Search ì„ í–‰ (requiresDocsSearchê°€ trueì´ë©´)
      let docsContext = '';
      if (todo.requiresDocsSearch) {
        const searchResult = await executeDocsSearchAgent(
          this.llmClient,
          todo.description
        );

        if (searchResult.success && searchResult.result) {
          docsContext = searchResult.result;
          messages.push({
            role: 'assistant',
            content: `[Docs Search ì™„ë£Œ]\n${docsContext}`,
          });
        }
      }

      // 2. Context ìƒì„± (ì´ì „ TODO ê²°ê³¼ í¬í•¨)
      let contextPrompt = `í˜„ì¬ ì‘ì—…: ${todo.title}\n${todo.description}\n\n`;

      if (docsContext) {
        contextPrompt += `ê´€ë ¨ ë¬¸ì„œ:\n${docsContext}\n\n`;
      }

      if (completedTodos.length > 0) {
        contextPrompt += `ì´ì „ ì‘ì—… ê²°ê³¼:\n`;
        completedTodos.forEach((completed) => {
          contextPrompt += `- ${completed.title}: ${completed.result}\n`;
        });
        contextPrompt += '\n';
      }

      contextPrompt += 'ì´ì œ ì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì„¸ìš”.';

      messages.push({
        role: 'user',
        content: contextPrompt,
      });

      // 3. Main LLM ì‹¤í–‰ (Tools í¬í•¨)
      const result = await this.llmClient.chatCompletionWithTools(
        messages,
        FILE_TOOLS,
        5 // maxIterations
      );

      // 4. ê²°ê³¼ ì €ì¥
      const finalMessage = result.allMessages[result.allMessages.length - 1];
      const todoResult = finalMessage.content || 'ì‘ì—… ì™„ë£Œ';

      todo.status = 'completed';
      todo.result = todoResult;
      todo.completedAt = new Date();
      this.onTodoUpdate?.(todo);

      return {
        messages: result.allMessages,
        todo,
      };
    } catch (error) {
      // ì—ëŸ¬ ì²˜ë¦¬
      todo.status = 'failed';
      todo.error = error instanceof Error ? error.message : 'Unknown error';
      todo.completedAt = new Date();
      this.onTodoUpdate?.(todo);

      throw error;
    }
  }

  /**
   * ì „ì²´ TODO ìˆœì°¨ ì‹¤í–‰
   */
  async executeAll(
    todos: TodoItem[],
    initialMessages: Message[]
  ): Promise<{ messages: Message[]; todos: TodoItem[] }> {
    let messages = [...initialMessages];
    const completedTodos: TodoItem[] = [];

    for (const todo of todos) {
      // ì˜ì¡´ì„± í™•ì¸
      if (todo.dependencies.length > 0) {
        const allDepsCompleted = todo.dependencies.every((depId) =>
          completedTodos.some((t) => t.id === depId && t.status === 'completed')
        );

        if (!allDepsCompleted) {
          todo.status = 'failed';
          todo.error = 'ì˜ì¡´ì„± TODOê°€ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤';
          continue;
        }
      }

      // TODO ì‹¤í–‰
      const result = await this.executeTodo(todo, messages, completedTodos);
      messages = result.messages;
      completedTodos.push(result.todo);

      // ì‹¤íŒ¨ ì‹œ ì¤‘ë‹¨í• ì§€ ê²°ì • (í˜„ì¬ëŠ” ê³„ì† ì§„í–‰)
      if (todo.status === 'failed') {
        console.warn(`TODO "${todo.title}" ì‹¤íŒ¨:`, todo.error);
      }
    }

    return {
      messages,
      todos,
    };
  }
}
```

##### 1.9.3 TODO List UI ì»´í¬ë„ŒíŠ¸ (Ink)

**ëª©í‘œ**: í•˜ë‹¨ì— ê³ ì •ëœ TODO list íŒ¨ë„ êµ¬í˜„

**ì‘ì—… ë‚´ìš©**:
- [ ] `src/ui/components/TodoListPanel.tsx` ìƒì„±
- [ ] ê³ ì • ë ˆì´ì•„ì›ƒ (ë©”ì‹œì§€ì™€ ë¶„ë¦¬)
- [ ] TODO ìƒíƒœë³„ ì•„ì´ì½˜ í‘œì‹œ
- [ ] ì§„í–‰ ì¤‘ì¸ TODO ê°•ì¡°

**UI êµ¬ì¡°**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Messages (scrollable)                             â”‚
â”‚                                                   â”‚
â”‚ > User: TypeScriptë¡œ REST API ë§Œë“¤ì–´ì¤˜           â”‚
â”‚                                                   â”‚
â”‚ ğŸ¤– Assistant:                                     â”‚
â”‚ ì•Œê² ìŠµë‹ˆë‹¤. ì‘ì—…ì„ ê³„íší•˜ê² ìŠµë‹ˆë‹¤.                â”‚
â”‚                                                   â”‚
â”‚ [Planning ì™„ë£Œ]                                   â”‚
â”‚                                                   â”‚
â”‚ ğŸ¤– Assistant: ì²« ë²ˆì§¸ ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤...        â”‚
â”‚ ...                                               â”‚
â”‚                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ TODO List (3/5 completed)            [12:34]  â”‚ â† ê³ ì • íŒ¨ë„
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ 1. TypeScript í”„ë¡œì íŠ¸ ì„¤ì • ì¡°ì‚¬                â”‚
â”‚ âœ“ 2. Express.js ì„¤ì¹˜                              â”‚
â”‚ â†’ 3. ê¸°ë³¸ ë¼ìš°íŠ¸ êµ¬ì¡° ìƒì„± (ì§„í–‰ ì¤‘)              â”‚ â† í˜„ì¬
â”‚ â˜ 4. API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„                          â”‚
â”‚ â˜ 5. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬í˜„ ì˜ˆì‹œ**:
```typescript
// src/ui/components/TodoListPanel.tsx
import React from 'react';
import { Box, Text } from 'ink';
import { TodoItem } from '../../core/planning-llm.js';

interface TodoListPanelProps {
  todos: TodoItem[];
  currentTime?: string;
}

export const TodoListPanel: React.FC<TodoListPanelProps> = ({ todos, currentTime }) => {
  const completedCount = todos.filter((t) => t.status === 'completed').length;
  const totalCount = todos.length;

  const getStatusIcon = (status: TodoItem['status']): string => {
    switch (status) {
      case 'completed':
        return 'âœ“';
      case 'in_progress':
        return 'â†’';
      case 'failed':
        return 'âœ—';
      default:
        return 'â˜';
    }
  };

  const getStatusColor = (status: TodoItem['status']): string => {
    switch (status) {
      case 'completed':
        return 'green';
      case 'in_progress':
        return 'yellow';
      case 'failed':
        return 'red';
      default:
        return 'gray';
    }
  };

  return (
    <Box flexDirection="column">
      {/* Header */}
      <Box borderStyle="single" borderColor="cyan" paddingX={1}>
        <Box justifyContent="space-between" width="100%">
          <Text bold color="cyan">
            ğŸ“‹ TODO List ({completedCount}/{totalCount} completed)
          </Text>
          {currentTime && (
            <Text dimColor>[{currentTime}]</Text>
          )}
        </Box>
      </Box>

      {/* TODO Items */}
      <Box flexDirection="column" paddingX={1}>
        {todos.map((todo, index) => (
          <Box key={todo.id} marginY={0}>
            <Text color={getStatusColor(todo.status)}>
              {getStatusIcon(todo.status)} {index + 1}. {todo.title}
              {todo.status === 'in_progress' && ' (ì§„í–‰ ì¤‘)'}
            </Text>
          </Box>
        ))}
      </Box>
    </Box>
  );
};
```

##### 1.9.4 InteractiveApp ë¦¬íŒ©í† ë§

**ëª©í‘œ**: Plan-and-Execute í”Œë¡œìš°ë¥¼ InteractiveAppì— í†µí•©

**ì‘ì—… ë‚´ìš©**:
- [ ] `InteractiveApp.tsx` ëŒ€í­ ìˆ˜ì •
- [ ] PlanningLLM í†µí•©
- [ ] TodoExecutor í†µí•©
- [ ] TodoListPanel í†µí•©
- [ ] ë ˆì´ì•„ì›ƒ ë¶„ë¦¬ (Messages + TodoPanel)

**í•µì‹¬ ë³€ê²½ì‚¬í•­**:
```typescript
// src/ui/components/InteractiveApp.tsx (ìˆ˜ì •)
import React, { useState } from 'react';
import { Box } from 'ink';
import { LLMClient } from '../../core/llm-client.js';
import { PlanningLLM, TodoItem } from '../../core/planning-llm.js';
import { TodoExecutor } from '../../core/todo-executor.js';
import { Message } from '../../types/index.js';
import { TodoListPanel } from './TodoListPanel.js';
// ... ê¸°íƒ€ imports

export const InteractiveApp: React.FC<InteractiveAppProps> = ({ llmClient, modelInfo }) => {
  const [messages, setMessages] = useState<Message[]>([]);
  const [todos, setTodos] = useState<TodoItem[]>([]);
  const [isProcessing, setIsProcessing] = useState(false);

  // Planning LLM & Executor ì´ˆê¸°í™”
  const planningLLM = new PlanningLLM(llmClient);
  const todoExecutor = new TodoExecutor(llmClient, (updatedTodo) => {
    // TODO ìƒíƒœ ì—…ë°ì´íŠ¸ ì‹œ UI ê°±ì‹ 
    setTodos((prev) =>
      prev.map((t) => (t.id === updatedTodo.id ? updatedTodo : t))
    );
  });

  const handleSubmit = async (value: string) => {
    if (!value.trim() || isProcessing) return;

    const userMessage = value.trim();
    setInput('');
    setIsProcessing(true);

    // User ë©”ì‹œì§€ ì¶”ê°€
    const newMessages: Message[] = [
      ...messages,
      { role: 'user', content: userMessage },
    ];
    setMessages(newMessages);

    try {
      // 1. Planning Phase: TODO List ìƒì„±
      const planningResult = await planningLLM.generateTODOList(userMessage);
      setTodos(planningResult.todos);

      // Planning ê²°ê³¼ ë©”ì‹œì§€ ì¶”ê°€
      setMessages((prev) => [
        ...prev,
        {
          role: 'assistant',
          content: `ì‘ì—…ì„ ê³„íší–ˆìŠµë‹ˆë‹¤. ì´ ${planningResult.todos.length}ê°œì˜ ì‘ì—…ì´ ìˆìŠµë‹ˆë‹¤.`,
        },
      ]);

      // 2. Execution Phase: TODO ìˆœì°¨ ì‹¤í–‰
      const result = await todoExecutor.executeAll(planningResult.todos, newMessages);

      // ìµœì¢… ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
      setMessages(result.messages);
      setTodos(result.todos);
    } catch (error) {
      setMessages((prev) => [
        ...prev,
        {
          role: 'assistant',
          content: 'Error: ' + (error instanceof Error ? error.message : 'Unknown error'),
        },
      ]);
    } finally {
      setIsProcessing(false);
    }
  };

  return (
    <Box flexDirection="column" height="100%">
      {/* Header */}
      <Header modelInfo={modelInfo} />

      {/* Messages (scrollable) */}
      <Box flexDirection="column" flexGrow={1}>
        <MessageList messages={messages} />
      </Box>

      {/* TODO List Panel (fixed at bottom) */}
      {todos.length > 0 && (
        <TodoListPanel todos={todos} currentTime={new Date().toLocaleTimeString()} />
      )}

      {/* Input Box */}
      <InputBox
        input={input}
        isProcessing={isProcessing}
        onInputChange={setInput}
        onSubmit={handleSubmit}
      />
    </Box>
  );
};
```

##### 1.9.5 Session ì €ì¥/ë³µêµ¬ ê°œì„ 

**ëª©í‘œ**: TODO ìƒíƒœë¥¼ Sessionì— í¬í•¨í•˜ì—¬ ì €ì¥

**ì‘ì—… ë‚´ìš©**:
- [ ] `SessionData` íƒ€ì… í™•ì¥ (todos í•„ë“œ ì¶”ê°€)
- [ ] SessionManager.saveSession() ìˆ˜ì •
- [ ] SessionManager.loadSession() ìˆ˜ì •
- [ ] TODO ì§„í–‰ ìƒí™© ë³µêµ¬

**SessionData íƒ€ì… í™•ì¥**:
```typescript
// src/core/session-manager.ts
import { TodoItem } from './planning-llm.js';

export interface SessionData {
  metadata: {
    id: string;
    name: string;
    createdAt: string;
    updatedAt: string;
    messageCount: number;
    todoCount?: number; // ğŸ†•
    completedTodoCount?: number; // ğŸ†•
    model: string;
    endpoint: string;
  };
  messages: Message[];
  todos?: TodoItem[]; // ğŸ†•
}
```

##### 1.9.6 í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

**í…ŒìŠ¤íŠ¸ 1: ë‹¨ìˆœ ìš”ì²­**
```bash
> TypeScriptë¡œ hello world ì¶œë ¥í•˜ëŠ” ì½”ë“œ ì‘ì„±í•´ì¤˜

# ì˜ˆìƒ TODO:
# â˜ 1. TypeScript ì½”ë“œ ì‘ì„±
# â˜ 2. íŒŒì¼ ì €ì¥

# ì˜ˆìƒ ë™ì‘:
# - TODO 1: docs search (ì„ í–‰) â†’ LLMì´ ì½”ë“œ ìƒì„±
# - TODO 2: write_file tool ì‚¬ìš©
```

**í…ŒìŠ¤íŠ¸ 2: ë³µì¡í•œ ìš”ì²­**
```bash
> Express.jsë¡œ REST API ë§Œë“¤ì–´ì¤˜. ë°ì´í„°ë² ì´ìŠ¤ëŠ” PostgreSQL ì‚¬ìš©

# ì˜ˆìƒ TODO:
# â˜ 1. Express.js ë° PostgreSQL ì„¤ì • ë°©ë²• ì¡°ì‚¬
# â˜ 2. package.json ë° tsconfig.json ìƒì„±
# â˜ 3. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì½”ë“œ ì‘ì„±
# â˜ 4. ê¸°ë³¸ ë¼ìš°íŠ¸ êµ¬ì¡° ìƒì„±
# â˜ 5. CRUD API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„

# ì˜ˆìƒ ë™ì‘:
# - ê° TODOë§ˆë‹¤ docs search ì„ í–‰
# - ìˆœì°¨ì  ì‹¤í–‰ ë° ì²´í¬ í‘œì‹œ
```

**í…ŒìŠ¤íŠ¸ 3: ì„¸ì…˜ ë³µêµ¬**
```bash
# 1. ì„¸ì…˜ ì €ì¥
> /save rest-api-project

# 2. ì¢…ë£Œ í›„ ì¬ì‹¤í–‰
> /load rest-api-project

# ì˜ˆìƒ ë™ì‘:
# - ì´ì „ TODO list ë³µêµ¬
# - ì™„ë£Œëœ TODOëŠ” âœ“ í‘œì‹œ
# - ë¯¸ì™„ë£Œ TODOëŠ” â˜ í‘œì‹œ
# - ë§ˆì§€ë§‰ ì§„í–‰ ìƒíƒœë¶€í„° ê³„ì† ê°€ëŠ¥
```

---

#### 2.0 Docs Search Agent Tool êµ¬í˜„ [P0] ğŸ†•

**ëª©í‘œ**: LLMì´ ~/.open-cli/docsë¥¼ ì§€ëŠ¥ì ìœ¼ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” Agent Tool êµ¬í˜„

**ë°°ê²½ ë° í•„ìš”ì„±**:
- í˜„ì¬: ì‚¬ìš©ìê°€ ìˆ˜ë™ìœ¼ë¡œ `/docs search` ëª…ë ¹ì–´ ì‹¤í–‰ í•„ìš”
- ë¬¸ì œì : LLMì´ í•„ìš”í•  ë•Œ ìë™ìœ¼ë¡œ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ì§€ ëª»í•¨
- í•´ê²°: LLMì´ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” "Agent Tool" êµ¬í˜„
  - ë‚´ë¶€ì—ì„œ ë˜ ë‹¤ë¥¸ LLMì´ bash ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì„œ ê²€ìƒ‰
  - Multi-iterationìœ¼ë¡œ ë³µì¡í•œ ê²€ìƒ‰ ìˆ˜í–‰

**ì•„í‚¤í…ì²˜ ì„¤ê³„**:
```
Main LLM (ì‚¬ìš©ìì™€ ëŒ€í™”)
    â”‚
    â”œâ”€ Tool: read_file
    â”œâ”€ Tool: write_file
    â””â”€ Tool: search_docs_agent â† ğŸ†• Agent Tool
            â”‚
            â””â”€ Sub LLM (ë¬¸ì„œ ê²€ìƒ‰ ì „ë¬¸ê°€)
                    â”‚
                    â”œâ”€ Tool: run_bash (find ëª…ë ¹)
                    â”œâ”€ Tool: run_bash (grep ëª…ë ¹)
                    â”œâ”€ Tool: run_bash (cat ëª…ë ¹)
                    â”œâ”€ Tool: run_bash (ls ëª…ë ¹)
                    â””â”€ Tool: run_bash (ê¸°íƒ€ bash ëª…ë ¹)

                    Multi-iteration (ìµœëŒ€ 10íšŒ)
                    â†’ ìµœì¢… ê²°ê³¼ ìš”ì•½ ë° return
```

**ì‘ì—… ë‚´ìš©**:

##### 2.0.1 Bash Command Tool ìƒì„±
- [ ] `src/tools/bash-command-tool.ts` íŒŒì¼ ìƒì„±
- [ ] `RUN_BASH_TOOL` ì •ì˜ (ToolDefinition)
- [ ] `executeBashCommand()` í•¨ìˆ˜ êµ¬í˜„
  - child_process.exec ì‚¬ìš©
  - stdout/stderr ìº¡ì²˜
  - ì•ˆì „ì„± ê²€ì¦ (ìœ„í—˜í•œ ëª…ë ¹ ì°¨ë‹¨)
  - íƒ€ì„ì•„ì›ƒ ì„¤ì • (5ì´ˆ)

**êµ¬í˜„ ì˜ˆì‹œ**:
```typescript
// src/tools/bash-command-tool.ts
import { exec } from 'child_process';
import { promisify } from 'util';
import { ToolDefinition } from '../types/index.js';

const execAsync = promisify(exec);

export const RUN_BASH_TOOL: ToolDefinition = {
  type: 'function',
  function: {
    name: 'run_bash',
    description: 'bash ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ~/.open-cli/docs ë””ë ‰í† ë¦¬ ë‚´ì—ì„œë§Œ ì•ˆì „í•˜ê²Œ ì‹¤í–‰ë©ë‹ˆë‹¤.',
    parameters: {
      type: 'object',
      properties: {
        command: {
          type: 'string',
          description: 'ì‹¤í–‰í•  bash ëª…ë ¹ì–´ (ì˜ˆ: find, grep, cat, ls)',
        },
        cwd: {
          type: 'string',
          description: 'ì‘ì—… ë””ë ‰í† ë¦¬ (ê¸°ë³¸ê°’: ~/.open-cli/docs)',
        },
      },
      required: ['command'],
    },
  },
};

/**
 * Bash ëª…ë ¹ì–´ ì‹¤í–‰
 */
export async function executeBashCommand(
  command: string,
  cwd?: string
): Promise<{ success: boolean; result?: string; error?: string }> {
  try {
    // ì•ˆì „ì„± ê²€ì¦: ìœ„í—˜í•œ ëª…ë ¹ì–´ ì°¨ë‹¨
    const dangerousCommands = ['rm -rf', 'dd', 'mkfs', '>', '>>', 'sudo'];
    if (dangerousCommands.some(cmd => command.includes(cmd))) {
      return {
        success: false,
        error: 'ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ í•´ë‹¹ ëª…ë ¹ì–´ëŠ” ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
      };
    }

    // ~/.open-cli/docsë¥¼ ê¸°ë³¸ ì‘ì—… ë””ë ‰í† ë¦¬ë¡œ ì„¤ì •
    const docsPath = cwd || path.join(os.homedir(), '.open-cli', 'docs');

    // ëª…ë ¹ì–´ ì‹¤í–‰ (íƒ€ì„ì•„ì›ƒ 5ì´ˆ)
    const { stdout, stderr } = await execAsync(command, {
      cwd: docsPath,
      timeout: 5000,
      maxBuffer: 1024 * 1024, // 1MB
    });

    return {
      success: true,
      result: stdout || stderr,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
    };
  }
}
```

##### 2.0.2 Docs Search Agent Tool ìƒì„±
- [ ] `src/tools/docs-search-agent.ts` íŒŒì¼ ìƒì„±
- [ ] `SEARCH_DOCS_AGENT_TOOL` ì •ì˜ (ToolDefinition)
- [ ] `executeDocsSearchAgent()` í•¨ìˆ˜ êµ¬í˜„
  - LLMClient ì¸ìŠ¤í„´ìŠ¤ ì¬ì‚¬ìš©
  - System prompt ì •ì˜ (ë¬¸ì„œ ê²€ìƒ‰ ì „ë¬¸ê°€ ì—­í• )
  - Sub-tools ì •ì˜ (RUN_BASH_TOOLë§Œ ì œê³µ)
  - Multi-iteration ë£¨í”„ (ìµœëŒ€ 10íšŒ)
  - ìµœì¢… ê²°ê³¼ ìš”ì•½ ë° return

**êµ¬í˜„ ì˜ˆì‹œ**:
```typescript
// src/tools/docs-search-agent.ts
import { LLMClient } from '../core/llm-client.js';
import { ToolDefinition, Message } from '../types/index.js';
import { RUN_BASH_TOOL, executeBashCommand } from './bash-command-tool.js';

export const SEARCH_DOCS_AGENT_TOOL: ToolDefinition = {
  type: 'function',
  function: {
    name: 'search_docs_agent',
    description: `
      ~/.open-cli/docs í´ë”ì—ì„œ ì§€ëŠ¥ì ìœ¼ë¡œ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.
      ì´ ë„êµ¬ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ AI Agentë¥¼ ì‚¬ìš©í•˜ì—¬ ë³µì¡í•œ ê²€ìƒ‰ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
      í´ë” êµ¬ì¡°, íŒŒì¼ ì´ë¦„, íŒŒì¼ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ì›í•˜ëŠ” ì •ë³´ë¥¼ ì°¾ìŠµë‹ˆë‹¤.
    `,
    parameters: {
      type: 'object',
      properties: {
        query: {
          type: 'string',
          description: 'ê²€ìƒ‰í•˜ë ¤ëŠ” ì •ë³´ì— ëŒ€í•œ ì„¤ëª… (ì˜ˆ: "TypeScript ì½”ë”© í‘œì¤€", "API ì¸ì¦ ë°©ë²•")',
        },
      },
      required: ['query'],
    },
  },
};

/**
 * Docs Search Agent ì‹¤í–‰
 */
export async function executeDocsSearchAgent(
  llmClient: LLMClient,
  query: string
): Promise<{ success: boolean; result?: string; error?: string }> {
  try {
    // System prompt: ë¬¸ì„œ ê²€ìƒ‰ ì „ë¬¸ê°€ ì—­í• 
    const systemPrompt = `
ë‹¹ì‹ ì€ ~/.open-cli/docs í´ë”ì—ì„œ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

**ë‹¹ì‹ ì˜ ì„ë¬´**:
ì‚¬ìš©ìê°€ ìš”ì²­í•œ ì •ë³´ë¥¼ ~/.open-cli/docs í´ë”ì—ì„œ ì°¾ì•„ì„œ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

**ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬**:
- run_bash: bash ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - find: íŒŒì¼/í´ë” ê²€ìƒ‰ (ì˜ˆ: find . -name "*.md")
  - grep: íŒŒì¼ ë‚´ìš© ê²€ìƒ‰ (ì˜ˆ: grep -r "typescript" .)
  - cat: íŒŒì¼ ì½ê¸° (ì˜ˆ: cat README.md)
  - ls: ë””ë ‰í† ë¦¬ ëª©ë¡ (ì˜ˆ: ls -la)
  - tree: ë””ë ‰í† ë¦¬ êµ¬ì¡° (ì˜ˆ: tree -L 2)

**ê²€ìƒ‰ ì „ëµ**:
1. ë¨¼ì € í´ë” êµ¬ì¡°ë¥¼ íŒŒì•…í•˜ì„¸ìš” (ls, tree)
2. íŒŒì¼ëª…ìœ¼ë¡œ ê´€ë ¨ íŒŒì¼ì„ ì°¾ìœ¼ì„¸ìš” (find)
3. íŒŒì¼ ë‚´ìš©ì—ì„œ í‚¤ì›Œë“œë¥¼ ê²€ìƒ‰í•˜ì„¸ìš” (grep)
4. ê´€ë ¨ íŒŒì¼ì„ ì½ì–´ì„œ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ì„¸ìš” (cat)
5. ì—¬ëŸ¬ íŒŒì¼ì—ì„œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ì¢…í•©í•˜ì„¸ìš”

**ì¤‘ìš”**:
- ìµœëŒ€ 10ë²ˆì˜ ë„êµ¬ í˜¸ì¶œë¡œ ì •ë³´ë¥¼ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤
- ì°¾ì€ ì •ë³´ëŠ” ëª…í™•í•˜ê³  ê°„ê²°í•˜ê²Œ ìš”ì•½í•˜ì„¸ìš”
- íŒŒì¼ ê²½ë¡œì™€ í•¨ê»˜ ì •ë³´ë¥¼ ì œê³µí•˜ì„¸ìš”
- ì •ë³´ë¥¼ ì°¾ì§€ ëª»í•˜ë©´ "í•´ë‹¹ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"ë¼ê³  ë‹µí•˜ì„¸ìš”

**í˜„ì¬ ì‘ì—… ë””ë ‰í† ë¦¬**: ~/.open-cli/docs
`;

    // ì´ˆê¸° ë©”ì‹œì§€
    const messages: Message[] = [
      {
        role: 'user',
        content: `ë‹¤ìŒ ì •ë³´ë¥¼ ~/.open-cli/docs í´ë”ì—ì„œ ì°¾ì•„ì£¼ì„¸ìš”:\n\n${query}`,
      },
    ];

    // Multi-iteration ë£¨í”„ (ìµœëŒ€ 10íšŒ)
    const maxIterations = 10;
    let iteration = 0;
    let finalResult = '';

    while (iteration < maxIterations) {
      iteration++;

      // LLM í˜¸ì¶œ (RUN_BASH_TOOL ì œê³µ)
      const response = await llmClient.chatCompletion({
        messages,
        tools: [RUN_BASH_TOOL],
        tool_choice: 'auto',
        // stream: false, // Tool callingì€ non-streaming
      });

      const assistantMessage = response.choices[0].message;
      messages.push(assistantMessage);

      // Tool callsê°€ ìˆìœ¼ë©´ ì‹¤í–‰
      if (assistantMessage.tool_calls && assistantMessage.tool_calls.length > 0) {
        for (const toolCall of assistantMessage.tool_calls) {
          if (toolCall.function.name === 'run_bash') {
            const args = JSON.parse(toolCall.function.arguments);
            const result = await executeBashCommand(args.command, args.cwd);

            // Tool ê²°ê³¼ë¥¼ ë©”ì‹œì§€ì— ì¶”ê°€
            messages.push({
              role: 'tool',
              content: result.success
                ? result.result || 'ëª…ë ¹ì–´ ì‹¤í–‰ ì„±ê³µ (ì¶œë ¥ ì—†ìŒ)'
                : `Error: ${result.error}`,
              tool_call_id: toolCall.id,
            });
          }
        }
      } else {
        // Tool callì´ ì—†ìœ¼ë©´ ìµœì¢… ì‘ë‹µ
        finalResult = assistantMessage.content || '';
        break;
      }
    }

    // ê²°ê³¼ê°€ ì—†ìœ¼ë©´ ì—ëŸ¬
    if (!finalResult) {
      return {
        success: false,
        error: `ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜(${maxIterations})ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤.`,
      };
    }

    return {
      success: true,
      result: finalResult,
    };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
    };
  }
}
```

##### 2.0.3 FILE_TOOLSì— Agent Tool í†µí•©
- [ ] `src/tools/file-tools.ts` ìˆ˜ì •
- [ ] `FILE_TOOLS` ë°°ì—´ì— `SEARCH_DOCS_AGENT_TOOL` ì¶”ê°€
- [ ] `executeFileTool()` í•¨ìˆ˜ì— ì¼€ì´ìŠ¤ ì¶”ê°€

**ìˆ˜ì • ì˜ˆì‹œ**:
```typescript
// src/tools/file-tools.ts
import { SEARCH_DOCS_AGENT_TOOL, executeDocsSearchAgent } from './docs-search-agent.js';

export const FILE_TOOLS: ToolDefinition[] = [
  READ_FILE_TOOL,
  WRITE_FILE_TOOL,
  LIST_FILES_TOOL,
  FIND_FILES_TOOL,
  SEARCH_DOCS_AGENT_TOOL, // ğŸ†• ì¶”ê°€
];

/**
 * File Tool ì‹¤í–‰
 */
export async function executeFileTool(
  toolName: string,
  args: any,
  llmClient?: LLMClient // ğŸ†• Agent Toolìš© LLMClient ì „ë‹¬
): Promise<ToolExecutionResult> {
  switch (toolName) {
    case 'read_file':
      return executeReadFile(args.file_path);
    case 'write_file':
      return executeWriteFile(args.file_path, args.content);
    case 'list_files':
      return executeListFiles(args.directory_path, args.recursive);
    case 'find_files':
      return executeFindFiles(args.pattern, args.directory_path);
    case 'search_docs_agent': // ğŸ†• ì¶”ê°€
      if (!llmClient) {
        return { success: false, error: 'LLMClientê°€ í•„ìš”í•©ë‹ˆë‹¤' };
      }
      return executeDocsSearchAgent(llmClient, args.query);
    default:
      return { success: false, error: `Unknown tool: ${toolName}` };
  }
}
```

##### 2.0.4 LLMClient ì „ë‹¬ êµ¬ì¡° ê°œì„ 
- [ ] `src/core/llm-client.ts` ìˆ˜ì •
- [ ] `chatCompletionWithTools()` ë©”ì„œë“œì—ì„œ executeFileTool í˜¸ì¶œ ì‹œ `this` ì „ë‹¬

**ìˆ˜ì • ì˜ˆì‹œ**:
```typescript
// src/core/llm-client.ts
async chatCompletionWithTools(
  messages: Message[],
  tools: ToolDefinition[],
  maxIterations: number = 5
): Promise<{
  allMessages: Message[];
  toolCalls: Array<{
    tool: string;
    args: any;
    result: string;
  }>;
}> {
  // ...

  // Tool ì‹¤í–‰ ì‹œ LLMClient ì „ë‹¬
  const result = await executeFileTool(
    toolCall.function.name,
    args,
    this // ğŸ†• LLMClient ì¸ìŠ¤í„´ìŠ¤ ì „ë‹¬
  );

  // ...
}
```

##### 2.0.5 ë³´ì•ˆ ë° ì œí•œì‚¬í•­ êµ¬í˜„
- [ ] Bash ëª…ë ¹ì–´ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸/ë¸”ë™ë¦¬ìŠ¤íŠ¸
- [ ] ì‘ì—… ë””ë ‰í† ë¦¬ ì œí•œ (~/.open-cli/docsë§Œ í—ˆìš©)
- [ ] ëª…ë ¹ì–´ íƒ€ì„ì•„ì›ƒ (5ì´ˆ)
- [ ] ì¶œë ¥ í¬ê¸° ì œí•œ (1MB)
- [ ] ë™ì‹œ ì‹¤í–‰ ë°©ì§€ (í•œ ë²ˆì— í•˜ë‚˜ì˜ Agentë§Œ)

**ë³´ì•ˆ ê²€ì¦ ì½”ë“œ**:
```typescript
// í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ (í—ˆìš©ëœ ëª…ë ¹ì–´)
const ALLOWED_COMMANDS = ['find', 'grep', 'cat', 'ls', 'tree', 'head', 'tail', 'wc'];

// ë¸”ë™ë¦¬ìŠ¤íŠ¸ (ê¸ˆì§€ëœ ëª…ë ¹ì–´)
const BLOCKED_COMMANDS = ['rm', 'dd', 'mkfs', 'sudo', '>', '>>', '|', '&', ';'];

function validateCommand(command: string): { valid: boolean; error?: string } {
  const firstWord = command.trim().split(' ')[0];

  // ë¸”ë™ë¦¬ìŠ¤íŠ¸ í™•ì¸
  if (BLOCKED_COMMANDS.some(cmd => command.includes(cmd))) {
    return { valid: false, error: 'ê¸ˆì§€ëœ ëª…ë ¹ì–´ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤' };
  }

  // í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ í™•ì¸
  if (!ALLOWED_COMMANDS.includes(firstWord)) {
    return { valid: false, error: 'í—ˆìš©ë˜ì§€ ì•Šì€ ëª…ë ¹ì–´ì…ë‹ˆë‹¤' };
  }

  return { valid: true };
}
```

##### 2.0.6 í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
- [ ] ë‹¨ìˆœ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
  - "TypeScript ì½”ë”© í‘œì¤€ì„ ì°¾ì•„ì¤˜"
  - Agentê°€ find â†’ grep â†’ cat ìˆœì„œë¡œ ê²€ìƒ‰
- [ ] ë³µì¡í•œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
  - "API ì¸ì¦ ë°©ë²• ì¤‘ JWT ê´€ë ¨ ì •ë³´ë¥¼ ì°¾ì•„ì¤˜"
  - Agentê°€ ì—¬ëŸ¬ íŒŒì¼ì„ ê²€ìƒ‰í•˜ê³  ì¢…í•©
- [ ] ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
  - ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì •ë³´ ê²€ìƒ‰
  - íƒ€ì„ì•„ì›ƒ ë°œìƒ
- [ ] ë³´ì•ˆ í…ŒìŠ¤íŠ¸
  - ìœ„í—˜í•œ ëª…ë ¹ì–´ ì°¨ë‹¨ í™•ì¸

**í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´**:
```bash
# 1. ë¹Œë“œ
npm run build

# 2. Interactive mode ì‹¤í–‰
node dist/cli.js

# 3. í…ŒìŠ¤íŠ¸ ëŒ€í™”
> TypeScript ì½”ë”© í‘œì¤€ì— ëŒ€í•œ ë¬¸ì„œë¥¼ ì°¾ì•„ì¤˜

# ì˜ˆìƒ ë™ì‘:
# - LLMì´ ìë™ìœ¼ë¡œ search_docs_agent tool í˜¸ì¶œ
# - Agentê°€ bash ëª…ë ¹ì–´ë¡œ ë¬¸ì„œ ê²€ìƒ‰
# - ê²°ê³¼ë¥¼ ì‚¬ìš©ìì—ê²Œ ìì—°ì–´ë¡œ ì„¤ëª…
```

**ì˜ˆìƒ ì¶œë ¥**:
```
ğŸ¤– Assistant:
ì•Œê² ìŠµë‹ˆë‹¤. ë¬¸ì„œë¥¼ ê²€ìƒ‰í•´ë³´ê² ìŠµë‹ˆë‹¤.

ğŸ”§ Tool: search_docs_agent(query="TypeScript ì½”ë”© í‘œì¤€")

[Agent ë‚´ë¶€ ë™ì‘]
1. run_bash("ls -la")
2. run_bash("find . -name '*typescript*' -o -name '*coding*'")
3. run_bash("cat coding-standards/typescript.md")

âœ“ ê²€ìƒ‰ ì™„ë£Œ

TypeScript ì½”ë”© í‘œì¤€ ë¬¸ì„œë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤ (coding-standards/typescript.md):

1. íƒ€ì… ì„ ì–¸
   - ëª¨ë“  ë³€ìˆ˜ì™€ í•¨ìˆ˜ì— ëª…ì‹œì  íƒ€ì… ì„ ì–¸
   - any íƒ€ì… ì‚¬ìš© ê¸ˆì§€

2. ë„¤ì´ë° ê·œì¹™
   - camelCase: ë³€ìˆ˜, í•¨ìˆ˜
   - PascalCase: í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤

3. ì½”ë“œ í¬ë§·íŒ…
   - Prettier ì‚¬ìš©
   - 2 spaces ë“¤ì—¬ì“°ê¸°

ìì„¸í•œ ë‚´ìš©ì€ ~/.open-cli/docs/coding-standards/typescript.mdë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
```

---

#### 2.1 Tool ì‚¬ìš© ë‚´ì—­ UI í‘œì‹œ [P0]

**ëª©í‘œ**: Tool callì„ ë©”ì‹œì§€ ì‚¬ì´ì— ë°•ìŠ¤ë¡œ í‘œì‹œ

**ì‘ì—… ë‚´ìš©**:
- [ ] `ToolCallBox` ì»´í¬ë„ŒíŠ¸ ìƒì„± (src/ui/components/ToolCallBox.tsx)
  - Tool ì´ë¦„, ë§¤ê°œë³€ìˆ˜, ê²°ê³¼ í‘œì‹œ
  - ì„±ê³µ/ì‹¤íŒ¨ ìƒíƒœ í‘œì‹œ (âœ“/âœ—)
  - ì‹¤í–‰ ì‹œê°„ í‘œì‹œ
- [ ] `InteractiveApp.tsx`ì—ì„œ `result.toolCalls` ë Œë”ë§
  - ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ì— Tool call ì •ë³´ í¬í•¨
  - Tool callê³¼ assistant ì‘ë‹µ ì‹œê°ì  êµ¬ë¶„
- [ ] Tool call íƒ€ì…ì— ë”°ë¥¸ ìƒ‰ìƒ/ì•„ì´ì½˜ ì°¨ë³„í™”
  - read_file: ğŸ“„ íŒŒë€ìƒ‰
  - write_file: âœï¸ ì´ˆë¡ìƒ‰
  - list_files: ğŸ“ ë…¸ë€ìƒ‰
  - find_files: ğŸ” ìí™ìƒ‰

**êµ¬í˜„ ì˜ˆì‹œ**:
```tsx
// src/ui/components/ToolCallBox.tsx
import React from 'react';
import { Box, Text } from 'ink';

interface ToolCallBoxProps {
  tool: string;
  args: Record<string, any>;
  result?: string;
  success: boolean;
  duration?: number;
}

export const ToolCallBox: React.FC<ToolCallBoxProps> = ({
  tool,
  args,
  result,
  success,
  duration
}) => {
  const icon = success ? 'âœ“' : 'âœ—';
  const color = success ? 'green' : 'red';

  return (
    <Box borderStyle="round" borderColor={color} paddingX={1} marginY={1}>
      <Box flexDirection="column">
        <Text color={color} bold>
          {icon}  {tool}
        </Text>
        {args && (
          <Text dimColor>
            Args: {JSON.stringify(args, null, 2)}
          </Text>
        )}
        {duration && (
          <Text dimColor>
            Duration: {duration}ms
          </Text>
        )}
      </Box>
    </Box>
  );
};
```

#### 2.2 í•˜ë‹¨ ìƒíƒœë°” êµ¬í˜„ [P1]

**ëª©í‘œ**: Gemini CLIì²˜ëŸ¼ í•˜ë‹¨ì— í”„ë¡œì íŠ¸ ìƒíƒœ ì •ë³´ í‘œì‹œ

**ì‘ì—… ë‚´ìš©**:
- [ ] `StatusBar` ì»´í¬ë„ŒíŠ¸ ìƒì„± (src/ui/components/StatusBar.tsx)
- [ ] í‘œì‹œ ì •ë³´:
  - í˜„ì¬ ì‘ì—… ë””ë ‰í† ë¦¬ (process.cwd())
  - ìƒŒë“œë°•ìŠ¤ ëª¨ë“œ ìƒíƒœ (í™œì„±/ë¹„í™œì„±)
  - í˜„ì¬ ëª¨ë¸ ì´ë¦„
  - ì»¨í…ìŠ¤íŠ¸ ì‚¬ìš©ë¥  (í˜„ì¬ í† í° / ìµœëŒ€ í† í°)
- [ ] í„°ë¯¸ë„ ë„ˆë¹„ì— ë”°ë¥¸ ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ
- [ ] ìƒíƒœ ë³€ê²½ ì‹œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

**êµ¬í˜„ ì˜ˆì‹œ**:
```tsx
// src/ui/components/StatusBar.tsx
import React from 'react';
import { Box, Text } from 'ink';

interface StatusBarProps {
  cwd: string;
  sandboxMode: boolean;
  model: string;
  tokensUsed: number;
  maxTokens: number;
}

export const StatusBar: React.FC<StatusBarProps> = ({
  cwd,
  sandboxMode,
  model,
  tokensUsed,
  maxTokens
}) => {
  const contextPercent = Math.round((1 - tokensUsed / maxTokens) * 100);

  return (
    <Box borderStyle="single" borderColor="gray" paddingX={1}>
      <Box justifyContent="space-between" width="100%">
        <Text dimColor>
          {cwd}
        </Text>
        <Text dimColor>
          {sandboxMode ? 'sandbox' : 'no sandbox'}
        </Text>
        <Text dimColor>
          {model} ({contextPercent}% context left)
        </Text>
      </Box>
    </Box>
  );
};
```

#### 2.3 ASCII ë¡œê³  ë° Welcome í™”ë©´ [P1]

**ëª©í‘œ**: ì²« ì‹¤í–‰ ì‹œ ë¸Œëœë”©ê³¼ ì•ˆë‚´ í‘œì‹œ

**ì‘ì—… ë‚´ìš©**:
- [ ] ASCII ì•„íŠ¸ ë¡œê³  ìƒì„± (OPEN-CLI ë¸Œëœë”©)
- [ ] `WelcomeScreen` ì»´í¬ë„ŒíŠ¸ ìƒì„±
- [ ] Tips for getting started ì„¹ì…˜
- [ ] ì²« ì‹¤í–‰ ê°ì§€ ë¡œì§ (~/.open-cli/first-run íŒŒì¼)
- [ ] í™˜ì˜ í™”ë©´ í‘œì‹œ í›„ ìë™ìœ¼ë¡œ ëŒ€í™” ëª¨ë“œ ì „í™˜

**ASCII ë¡œê³  ì˜ˆì‹œ**:
```
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘
â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
 â•šâ•â•â•â•â•â• â•šâ•â•     â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•â•      â•šâ•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•
```

#### 2.4 ì…ë ¥ íŒíŠ¸ ë° ìë™ì™„ì„± [P2]

**ëª©í‘œ**: ì‚¬ìš©ìì—ê²Œ ì…ë ¥ ê°€ëŠ¥í•œ í˜•ì‹ ì•ˆë‚´

**ì‘ì—… ë‚´ìš©**:
- [ ] ì…ë ¥ í”Œë ˆì´ìŠ¤í™€ë” ê°œì„ 
  - "Type your message or @path/to/file"
  - "/help for commands"
- [ ] @ ì…ë ¥ ì‹œ íŒŒì¼ ê²½ë¡œ ì œì•ˆ (ì„ íƒì‚¬í•­)
- [ ] / ì…ë ¥ ì‹œ ëª…ë ¹ì–´ ì œì•ˆ

#### 2.5 ë©”ì‹œì§€ íƒ€ì…ë³„ ìŠ¤íƒ€ì¼ë§ ê°•í™” [P2]

**ëª©í‘œ**: ë©”ì‹œì§€ íƒ€ì…ì— ë”°ë¥¸ ì‹œê°ì  êµ¬ë¶„

**ì‘ì—… ë‚´ìš©**:
- [ ] ì‚¬ìš©ì ë©”ì‹œì§€: ì´ˆë¡ìƒ‰ "> "
- [ ] Assistant ë©”ì‹œì§€: íŒŒë€ìƒ‰, ë§ˆí¬ë‹¤ìš´ ë Œë”ë§
- [ ] Tool call: ë°•ìŠ¤ë¡œ ê°ì‹¸ê¸°
- [ ] Error ë©”ì‹œì§€: ë¹¨ê°„ìƒ‰, ê²½ê³  ì•„ì´ì½˜
- [ ] Thinking ë©”ì‹œì§€: ìí™ìƒ‰, ğŸ’­ ì•„ì´ì½˜

#### 2.6 ì½”ë“œ êµ¬ì¡° ê°œì„ 

**ì‘ì—… ë‚´ìš©**:
- [ ] ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬:
  - `src/ui/components/Header.tsx`
  - `src/ui/components/MessageList.tsx`
  - `src/ui/components/InputBox.tsx`
  - `src/ui/components/StatusBar.tsx`
  - `src/ui/components/ToolCallBox.tsx`
  - `src/ui/components/WelcomeScreen.tsx`
- [ ] íƒ€ì… ì •ì˜ ë¶„ë¦¬ (src/ui/types.ts)
- [ ] ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ë¶„ë¦¬ (src/ui/utils.ts)

---

### ğŸ§ª 3ë‹¨ê³„: í…ŒìŠ¤íŠ¸ (TESTING)

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**:
- [ ] Tool ì‚¬ìš© ë‚´ì—­ í‘œì‹œ í…ŒìŠ¤íŠ¸
  - read_file í˜¸ì¶œ ì‹œ ë°•ìŠ¤ í‘œì‹œ í™•ì¸
  - ì—¬ëŸ¬ Tool ìˆœì°¨ í˜¸ì¶œ ì‹œ ê°ê° í‘œì‹œ í™•ì¸
  - Tool ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ í‘œì‹œ í™•ì¸
- [ ] ìƒíƒœë°” ì—…ë°ì´íŠ¸ í…ŒìŠ¤íŠ¸
  - ë©”ì‹œì§€ ì „ì†¡ ì‹œ í† í° ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸
  - ë””ë ‰í† ë¦¬ ë³€ê²½ ì‹œ ê²½ë¡œ ì—…ë°ì´íŠ¸
- [ ] Welcome í™”ë©´ í…ŒìŠ¤íŠ¸
  - ì²« ì‹¤í–‰ ì‹œ í‘œì‹œ í™•ì¸
  - ì´í›„ ì‹¤í–‰ ì‹œ í‘œì‹œ ì•ˆ ë¨ í™•ì¸
- [ ] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ í…ŒìŠ¤íŠ¸
  - ì¢ì€ í„°ë¯¸ë„ (80 cols) í…ŒìŠ¤íŠ¸
  - ë„“ì€ í„°ë¯¸ë„ (120+ cols) í…ŒìŠ¤íŠ¸
- [ ] ë©”ì‹œì§€ ìŠ¤í¬ë¡¤ í…ŒìŠ¤íŠ¸
  - ê¸´ ëŒ€í™” ì‹œ ìŠ¤í¬ë¡¤ ë™ì‘ í™•ì¸

**ìˆ˜ë™ í…ŒìŠ¤íŠ¸ í•­ëª©**:
```bash
# 1. Welcome í™”ë©´ í…ŒìŠ¤íŠ¸
rm -f ~/.open-cli/first-run
npm run build
node dist/cli.js

# 2. Tool ì‚¬ìš© í…ŒìŠ¤íŠ¸
> package.json íŒŒì¼ì„ ì½ì–´ì¤˜
> src í´ë”ì— ìˆëŠ” ëª¨ë“  TypeScript íŒŒì¼ì„ ì°¾ì•„ì¤˜

# 3. ì—ëŸ¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
> ì¡´ì¬í•˜ì§€ì•ŠëŠ”íŒŒì¼.txtë¥¼ ì½ì–´ì¤˜

# 4. ê¸´ ëŒ€í™” í…ŒìŠ¤íŠ¸
> [ì—¬ëŸ¬ ë©”ì‹œì§€ ë°˜ë³µ ì „ì†¡]
```

**í†µí•© í…ŒìŠ¤íŠ¸**:
- [ ] Classic UIì™€ Ink UI ëª¨ë‘ ì •ìƒ ì‘ë™ í™•ì¸
- [ ] ESM í˜¸í™˜ì„± í™•ì¸ (dynamic import)
- [ ] íƒ€ì… ì²´í¬ í†µê³¼ (`npm run build`)

---

### ğŸ“š 4ë‹¨ê³„: ë¬¸ì„œí™” (DOCUMENTATION)

**ë¬¸ì„œ ì—…ë°ì´íŠ¸**:
- [ ] README.md
  - Ink UI ìŠ¤í¬ë¦°ìƒ· ì¶”ê°€
  - ìƒˆë¡œìš´ UI ê¸°ëŠ¥ ì„¤ëª…
  - ìƒíƒœë°” ì •ë³´ ì„¤ëª…
- [ ] PROGRESS.md
  - ì´ ì‘ì—… í•­ëª© ì™„ë£Œ ê¸°ë¡
  - êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ ì‘ì„±
  - ìŠ¤í¬ë¦°ìƒ·/ì˜ˆì‹œ ì¶”ê°€
- [ ] INTEGRATED_PROJECT_DOCUMENT.md
  - UI/UX ì„¹ì…˜ ì—…ë°ì´íŠ¸
  - ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ë„ ì¶”ê°€
- [ ] ì½”ë“œ ì£¼ì„
  - ê° ì»´í¬ë„ŒíŠ¸ì— JSDoc ì£¼ì„
  - Props ì¸í„°í˜ì´ìŠ¤ ì„¤ëª…

**ìƒˆë¡œìš´ ë¬¸ì„œ ì‘ì„±**:
- [ ] docs/UI_COMPONENTS.md
  - ê° UI ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ë²•
  - Props ì„¤ëª…
  - ì˜ˆì‹œ ì½”ë“œ
- [ ] docs/STYLING_GUIDE.md
  - ìƒ‰ìƒ íŒ”ë ˆíŠ¸
  - ì•„ì´ì½˜ ê·œì¹™
  - ë ˆì´ì•„ì›ƒ ê°€ì´ë“œë¼ì¸

---

### â­ï¸ 5ë‹¨ê³„: ë‹¤ìŒ ì‘ì—… ê³„íš (NEXT STEPS)

**ìš°ì„ ìˆœìœ„ 1 (ë‹¨ê¸°)** - ë°˜ë“œì‹œ ë¨¼ì € ì™„ë£Œ:
- [ ] **Plan-and-Execute ì•„í‚¤í…ì²˜ êµ¬í˜„ (5-7ì¼)** ğŸš¨ **ìµœìš°ì„ **
  - Planning LLM êµ¬í˜„ (1ì¼)
  - TODO Executor êµ¬í˜„ (1.5ì¼)
  - TODO List UI ì»´í¬ë„ŒíŠ¸ (1ì¼)
  - InteractiveApp ë¦¬íŒ©í† ë§ (1.5ì¼)
  - Session ì €ì¥/ë³µêµ¬ ê°œì„  (0.5ì¼)
  - í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹… (1.5ì¼)
- [ ] **Docs Search Agent Tool êµ¬í˜„ (2-3ì¼)** ğŸ†•
  - Bash Command Tool ìƒì„± (0.5ì¼)
  - Docs Search Agent êµ¬í˜„ (1ì¼)
  - FILE_TOOLS í†µí•© (0.5ì¼)
  - ë³´ì•ˆ ê²€ì¦ ë° í…ŒìŠ¤íŠ¸ (1ì¼)
- [ ] Tool ì‚¬ìš© ë‚´ì—­ UI í‘œì‹œ êµ¬í˜„ (1-2ì¼)
- [ ] í•˜ë‹¨ ìƒíƒœë°” êµ¬í˜„ (1ì¼)
- [ ] ASCII ë¡œê³  ë° Welcome í™”ë©´ (1ì¼)

**ìš°ì„ ìˆœìœ„ 2 (ì¤‘ê¸°)**:
- [ ] ì…ë ¥ íŒíŠ¸ ë° ìë™ì™„ì„± (2-3ì¼)
- [ ] ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ë§ ê°•í™” (1-2ì¼)
- [ ] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ìµœì í™” (1-2ì¼)

**ìš°ì„ ìˆœìœ„ 3 (ì¥ê¸°)**:
- [ ] í…Œë§ˆ ì‹œìŠ¤í…œ êµ¬ì¶• (ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ)
- [ ] ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì¶”ê°€
- [ ] í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ í™•ì¥
- [ ] ì„¤ì • í™”ë©´ UI êµ¬í˜„

**ì˜ì¡´ì„±**:
- ì—†ìŒ (í˜„ì¬ Ink UI ê¸°ë°˜ìœ¼ë¡œ ë…ë¦½ì  êµ¬í˜„ ê°€ëŠ¥)

**ì˜ˆìƒ ê°œë°œ ê¸°ê°„**: ì´ 3-4ì£¼ âš ï¸ **ëŒ€í­ ì¦ê°€**
- **Plan-and-Execute ì•„í‚¤í…ì²˜**: 5-7ì¼ (ìµœìš°ì„ )
- Docs Search Agent: 2-3ì¼
- P0 ì‘ì—… (Tool UI í‘œì‹œ): 3-4ì¼
- P1 ì‘ì—… (ìƒíƒœë°”, Welcome í™”ë©´): 3-4ì¼
- P2 ì‘ì—… (ì…ë ¥ íŒíŠ¸, ìŠ¤íƒ€ì¼ë§): 4-5ì¼
- í†µí•© í…ŒìŠ¤íŠ¸ ë° ë¬¸ì„œí™”: 3-5ì¼

**ê¸°ìˆ  ë¶€ì±„ ê´€ë¦¬**:
- [ ] Ink UI ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§ (ë©”ì‹œì§€ ë§ì„ ë•Œ)
- [ ] ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”
- [ ] ê¸´ ì‘ë‹µ ì²˜ë¦¬ ê°œì„  (í˜ì´ì§€ë„¤ì´ì…˜)

---

### ğŸ“Š ì§„í–‰ ìƒí™© ì¶”ì 

**ì „ì²´ ì§„í–‰ë¥ **: 0% (ê³„íš ë‹¨ê³„)

**ì²´í¬ë¦¬ìŠ¤íŠ¸ ìš”ì•½**:
- [ ] **1.9 Plan-and-Execute ì•„í‚¤í…ì²˜ êµ¬í˜„ (0/6 ì™„ë£Œ)** ğŸš¨ **ìµœìµœìš°ì„ **
  - [ ] 1.9.1 Planning LLM êµ¬í˜„
  - [ ] 1.9.2 TODO Executor êµ¬í˜„
  - [ ] 1.9.3 TODO List UI ì»´í¬ë„ŒíŠ¸
  - [ ] 1.9.4 InteractiveApp ë¦¬íŒ©í† ë§
  - [ ] 1.9.5 Session ì €ì¥/ë³µêµ¬ ê°œì„ 
  - [ ] 1.9.6 í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
- [ ] 2.0 Docs Search Agent Tool êµ¬í˜„ (0/6 ì™„ë£Œ) ğŸ†• **ìµœìš°ì„ **
  - [ ] 2.0.1 Bash Command Tool ìƒì„±
  - [ ] 2.0.2 Docs Search Agent Tool ìƒì„±
  - [ ] 2.0.3 FILE_TOOLS í†µí•©
  - [ ] 2.0.4 LLMClient ì „ë‹¬ êµ¬ì¡° ê°œì„ 
  - [ ] 2.0.5 ë³´ì•ˆ ë° ì œí•œì‚¬í•­ êµ¬í˜„
  - [ ] 2.0.6 í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
- [ ] 2.1 Tool ì‚¬ìš© ë‚´ì—­ UI í‘œì‹œ (0/4 ì™„ë£Œ)
- [ ] 2.2 í•˜ë‹¨ ìƒíƒœë°” êµ¬í˜„ (0/4 ì™„ë£Œ)
- [ ] 2.3 ASCII ë¡œê³  ë° Welcome í™”ë©´ (0/5 ì™„ë£Œ)
- [ ] 2.4 ì…ë ¥ íŒíŠ¸ ë° ìë™ì™„ì„± (0/3 ì™„ë£Œ)
- [ ] 2.5 ë©”ì‹œì§€ íƒ€ì…ë³„ ìŠ¤íƒ€ì¼ë§ ê°•í™” (0/5 ì™„ë£Œ)
- [ ] 2.6 ì½”ë“œ êµ¬ì¡° ê°œì„  (0/9 ì™„ë£Œ)
- [ ] 3. í…ŒìŠ¤íŠ¸ (0/8 ì™„ë£Œ)
- [ ] 4. ë¬¸ì„œí™” (0/6 ì™„ë£Œ)

**ë‹¤ìŒ ì•¡ì…˜**: 1.9 Plan-and-Execute ì•„í‚¤í…ì²˜ êµ¬í˜„ë¶€í„° ì‹œì‘ (ìµœìµœìš°ì„  ê³¼ì œ)

**ê°œë°œ ìˆœì„œ**:
1. Planning LLM (TODO ìƒì„±)
2. Bash Command Tool (Docs Searchìš©)
3. Docs Search Agent Tool
4. TODO Executor (ì‹¤í–‰ ì—”ì§„)
5. TODO List UI (ê³ ì • íŒ¨ë„)
6. InteractiveApp í†µí•©
7. Session ê°œì„ 
8. í†µí•© í…ŒìŠ¤íŠ¸

---

---

## ğŸ“Š ì™„ë£Œëœ ì‘ì—…

### [COMPLETED] 2025-11-04 01:00: FILE_TOOLS ìë™ ë°”ì¸ë”© (Automatic Tool Binding)

**ì‘ì—… ë‚´ìš©**:
1. LLMClientì— chatCompletionWithTools() ë©”ì„œë“œ ì¶”ê°€
2. Classic UIì— FILE_TOOLS ìë™ ë°”ì¸ë”© êµ¬í˜„
3. Ink UIì— FILE_TOOLS ìë™ ë°”ì¸ë”© êµ¬í˜„
4. BIND_TOOLS.md ë¬¸ì„œ ì‘ì„±
5. ì‹¤ì œ í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì£¼ìš” ì„±ê³¼**:
- âœ… ëª¨ë“  ëŒ€í™”í˜• ëª¨ë“œì—ì„œ FILE_TOOLS ìë™ ì‚¬ìš© ê°€ëŠ¥
- âœ… ëŒ€í™” íˆìŠ¤í† ë¦¬ì— tool call/response ì™„ì „ ë³´ì¡´
- âœ… ìµœëŒ€ 5íšŒ ë°˜ë³µìœ¼ë¡œ ë¬´í•œ ë£¨í”„ ë°©ì§€
- âœ… Classic UI/Ink UI ëª¨ë‘ ì •ìƒ ì‘ë™ í™•ì¸

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
- `read_file`: package.json ì½ê¸° ì„±ê³µ
- `write_file`: test.txt ìƒì„± ì„±ê³µ
- Tool ì‚¬ìš© ë‚´ì—­ UI í‘œì‹œ ì •ìƒ

**ê¸°ìˆ ì  ê²°ì •**:
- Tool callingì‹œ ìŠ¤íŠ¸ë¦¬ë° ë¹„í™œì„±í™” (OpenAI API ì œí•œ)
- Tool ê²°ê³¼ë¥¼ assistant messageë¡œ ë³€í™˜í•˜ì—¬ íˆìŠ¤í† ë¦¬ í¬í•¨
- FILE_TOOLSë¥¼ dynamic importë¡œ ë¡œë“œ (ESM í˜¸í™˜ì„±)

**ë¬¸ì„œí™”**:
- BIND_TOOLS.md ì‹ ê·œ ì‘ì„± (ë„êµ¬ I/O, ì‚¬ìš©ë²•, ì˜ˆì œ)
- README.md ì—…ë°ì´íŠ¸ (ìë™ ë°”ì¸ë”© ì„¤ëª…)
- cli.ts help ëª…ë ¹ì–´ ì—…ë°ì´íŠ¸

**ë‹¤ìŒ ë‹¨ê³„**:
- Ink UIì—ì„œ tool ì‚¬ìš© ë‚´ì—­ì„ UIë¡œ í‘œì‹œ (í˜„ì¬ëŠ” ì½˜ì†” ë¡œê·¸)
- ì¶”ê°€ ë„êµ¬ êµ¬í˜„ (run_command, search_in_files ë“±)
- ì‚¬ìš©ì ìŠ¹ì¸ ì‹œìŠ¤í…œ (ìœ„í—˜í•œ ëª…ë ¹ ì‹¤í–‰ ì „)

---

### [COMPLETED] 2025-11-03 27:00: ESM ë§ˆì´ê·¸ë ˆì´ì…˜ ë° Ink UI ìµœì¢… êµ¬í˜„ (ESM Migration & Ink UI Final Implementation)

**ì‘ì—… ë‚´ìš©**:
1. CommonJS â†’ ESM (ES Modules) ì™„ì „ ë§ˆì´ê·¸ë ˆì´ì…˜
2. Gemini CLI ì•„í‚¤í…ì²˜ ì°¸ì¡° ë° ì ìš©
3. Ink UI ìµœì¢… êµ¬í˜„ (Native ESM)
4. ëª¨ë“  importsì— .js í™•ì¥ì ì¶”ê°€
5. ê°™ì€ í”„ë¡œì„¸ìŠ¤ì—ì„œ Ink UI ì§ì ‘ ë Œë”ë§

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] ESM ë§ˆì´ê·¸ë ˆì´ì…˜
  - [x] package.jsonì— "type": "module" ì¶”ê°€
  - [x] tsconfig.json: module â†’ NodeNext, moduleResolution â†’ NodeNext
  - [x] 18ê°œ íŒŒì¼ì˜ ëª¨ë“  ë¡œì»¬ importsì— .js í™•ì¥ì ì¶”ê°€
  - [x] __dirname â†’ import.meta.url + fileURLToPath ë³€í™˜
  - [x] ink-cjs ì œê±°, ì¼ë°˜ ink ì‚¬ìš©
- [x] Gemini CLI ì•„í‚¤í…ì²˜ ì—°êµ¬
  - [x] Gemini CLI ë ˆí¬ì§€í† ë¦¬ ë¶„ì„
  - [x] Context Provider íŒ¨í„´ í™•ì¸
  - [x] Dual-Mode Design íŒ¨í„´ í™•ì¸
  - [x] Ink render ì„¤ì • ë°©ë²• í™•ì¸
- [x] Ink UI ìµœì¢… êµ¬í˜„
  - [x] InteractiveApp.tsx: ink-cjs â†’ ink ë³€ê²½
  - [x] ink-entry.tsx: async ì´ˆê¸°í™” ì¶”ê°€
  - [x] cli.ts: React.createElementë¡œ ì§ì ‘ ë Œë”ë§
  - [x] stdin raw mode ì§€ì› (ê°™ì€ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰)
- [x] ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸
  - [x] TypeScript ì»´íŒŒì¼ ì„±ê³µ
  - [x] ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ í†µê³¼
  - [x] Classic UI ì •ìƒ ì‘ë™
  - [x] Ink UI ë Œë”ë§ ì„±ê³µ

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. ESM ë§ˆì´ê·¸ë ˆì´ì…˜

**Breaking Changes**:
- **Module System**: CommonJS â†’ ES Modules
- **Import Extensions**: ëª¨ë“  ë¡œì»¬ importsì— `.js` í™•ì¥ì í•„ìˆ˜
- **__dirname**: `import.meta.url` + `fileURLToPath` ì‚¬ìš©

**package.json ë³€ê²½**:
```json
{
  "type": "module",  // ESM í™œì„±í™”
  "dependencies": {
    "ink": "^4.4.1"  // ink-cjs ì œê±°
  }
}
```

**tsconfig.json ë³€ê²½**:
```json
{
  "compilerOptions": {
    "module": "NodeNext",           // CommonJS â†’ NodeNext
    "moduleResolution": "NodeNext",  // node â†’ NodeNext
    "target": "ES2022"
  }
}
```

**ì½”ë“œ ë³€ê²½ ì˜ˆì‹œ**:
```typescript
// Before (CommonJS)
import { foo } from './bar';
const __dirname = __dirname;

// After (ESM)
import { foo } from './bar.js';
import { fileURLToPath } from 'url';
const __dirname = path.dirname(fileURLToPath(import.meta.url));
```

#### 2. Gemini CLI ì•„í‚¤í…ì²˜ ì°¸ì¡°

**ì¡°ì‚¬ ë‚´ìš©**:
- **Repository**: https://github.com/google-gemini/gemini-cli
- **ê¸°ìˆ  ìŠ¤íƒ**: Ink v6.4.0 (í¬í¬), TypeScript, ESM
- **íŒ¨í„´**: Context Providers, Dual-Mode Design

**Gemini CLI êµ¬ì¡°**:
```
gemini.tsx (entry)
  â””â”€ AppWrapper (Context Providers)
      â”œâ”€ SettingsContext.Provider
      â”œâ”€ KeypressProvider
      â”œâ”€ SessionStatsProvider
      â”œâ”€ VimModeProvider
      â””â”€ AppContainer â†’ App â†’ Layout
```

**ì ìš©í•œ íŒ¨í„´**:
- âœ… ESM ë„¤ì´í‹°ë¸Œ ì§€ì›
- âœ… Context Provider (í–¥í›„ í™•ì¥ ê°€ëŠ¥)
- âœ… Dual-Mode Design (Ink UI / Classic UI)
- âœ… Async ì´ˆê¸°í™” í”Œë¡œìš°
- âœ… ê°™ì€ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì§ì ‘ ë Œë”ë§

#### 3. Ink UI ìµœì¢… êµ¬í˜„

**íŒŒì¼ ë³€ê²½**:

1. **src/ui/components/InteractiveApp.tsx**:
```typescript
// Before
import { Box, Text, useInput, useApp } from 'ink-cjs';
import { LLMClient } from '../../core/llm-client';
import { Message } from '../../types';

// After
import { Box, Text, useInput, useApp } from 'ink';
import { LLMClient } from '../../core/llm-client.js';
import { Message } from '../../types/index.js';
```

2. **src/ui/ink-entry.tsx** (ìƒˆë¡œìš´ async íŒ¨í„´):
```typescript
import { configManager } from '../core/config-manager.js';

(async () => {
  try {
    // ConfigManager ì´ˆê¸°í™”
    await configManager.initialize();

    // LLM Client ìƒì„±
    const llmClient = createLLMClient();
    const modelInfo = llmClient.getModelInfo();

    // Ink UI ë Œë”ë§
    render(<InteractiveApp llmClient={llmClient} modelInfo={modelInfo} />);
  } catch (error) {
    console.error('âŒ ì—ëŸ¬ ë°œìƒ:', error.message);
    process.exit(1);
  }
})();
```

3. **src/cli.ts** (ì§ì ‘ ë Œë”ë§):
```typescript
import React from 'react';
import { render } from 'ink';
import { InteractiveApp } from './ui/components/InteractiveApp.js';

// Ink UI ì‚¬ìš© (--classic í”Œë˜ê·¸ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’)
if (!options.classic) {
  console.log(chalk.cyan('ğŸš€ Starting Ink UI...\n'));

  // ê°™ì€ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì§ì ‘ ë Œë”ë§ (stdin raw mode ìœ ì§€)
  render(React.createElement(InteractiveApp, { llmClient, modelInfo }));
  return;
}
```

**í•µì‹¬ ê°œì„ ì‚¬í•­**:
- âŒ ~~spawnìœ¼ë¡œ ë³„ë„ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰~~ (stdin raw mode ë¬¸ì œ)
- âŒ ~~tsx ì‚¬ìš©~~ (ë¶ˆí•„ìš”í•œ ë³µì¡ì„±)
- âœ… ê°™ì€ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì§ì ‘ ë Œë”ë§
- âœ… stdin raw mode ì™„ì „ ì§€ì›
- âœ… React.createElement ì‚¬ìš© (JSX ì—†ì´)

#### 4. íŒŒì¼ ë³€ê²½ ë‚´ì—­

**ìˆ˜ì •ëœ íŒŒì¼ (18ê°œ)**:
```
package.json, tsconfig.json
src/cli.ts
src/core/config-manager.ts
src/core/document-manager.ts
src/core/llm-client.ts
src/core/logger.ts
src/core/session-manager.ts
src/errors/config.ts
src/errors/file.ts
src/errors/index.ts
src/errors/llm.ts
src/errors/network.ts
src/errors/validation.ts
src/tools/file-tools.ts
src/tools/index.ts
src/utils/retry.ts
```

**ìƒˆë¡œìš´ íŒŒì¼ (3ê°œ)**:
```
src/ui/components/InteractiveApp.tsx
src/ui/index.ts
src/ui/ink-entry.tsx
```

**ë³€ê²½ í†µê³„**:
- 20ê°œ íŒŒì¼ ë³€ê²½
- 257ì¤„ ì¶”ê°€
- 42ì¤„ ì‚­ì œ

#### 5. Import í™•ì¥ì ì¶”ê°€ ì‘ì—…

**ìë™ ë„êµ¬ ì‚¬ìš©**: Task agentë¡œ ì¼ê´„ ë³€ê²½
- 18ê°œ TypeScript íŒŒì¼ ì²˜ë¦¬
- ëª¨ë“  ìƒëŒ€ ê²½ë¡œ importsì— `.js` ì¶”ê°€
- ì™¸ë¶€ íŒ¨í‚¤ì§€ importsëŠ” ë³€ê²½ ì—†ìŒ

**ë³€ê²½ ì˜ˆì‹œ**:
```typescript
// Error classes
import { BaseError } from './base'         â†’ './base.js'

// Core modules
import { Message } from '../types'         â†’ '../types/index.js'
import { configManager } from './core/config-manager' â†’ './core/config-manager.js'

// No change (external packages)
import axios from 'axios'                  â†’ (ë³€ê²½ ì—†ìŒ)
import { Command } from 'commander'        â†’ (ë³€ê²½ ì—†ìŒ)
```

#### 6. í…ŒìŠ¤íŠ¸ ê²°ê³¼

**ì‹¤í–‰ í…ŒìŠ¤íŠ¸**:
```bash
# ë²„ì „ í™•ì¸
$ node dist/cli.js --version
âœ… 0.1.0

# ë„ì›€ë§
$ node dist/cli.js help
âœ… ëª¨ë“  ëª…ë ¹ì–´ í‘œì‹œ ì •ìƒ

# ì„¤ì • í‘œì‹œ
$ node dist/cli.js config show
âœ… ì—”ë“œí¬ì¸íŠ¸, ëª¨ë¸ ì •ë³´ ì •ìƒ í‘œì‹œ

# ë¬¸ì„œ ê´€ë¦¬
$ node dist/cli.js docs list
âœ… ë¹ˆ ìƒíƒœ ì²˜ë¦¬ ì •ìƒ

# Classic UI
$ node dist/cli.js --classic
âœ… inquirer ê¸°ë°˜ UI ì •ìƒ ì‘ë™

# Ink UI (ê¸°ë³¸)
$ node dist/cli.js
âœ… React ê¸°ë°˜ í„°ë¯¸ë„ UI ë Œë”ë§ ì„±ê³µ
âœ… í—¤ë”, ì…ë ¥ ë°•ìŠ¤, ëª…ë ¹ì–´ ì•ˆë‚´ ì •ìƒ í‘œì‹œ
```

**ë¹Œë“œ í…ŒìŠ¤íŠ¸**:
```bash
$ npm run build
âœ… TypeScript ì»´íŒŒì¼ ì„±ê³µ
âœ… ESM ëª¨ë“ˆ ìƒì„± ì™„ë£Œ
âœ… íƒ€ì… ì²´í¬ í†µê³¼
```

**Jest í…ŒìŠ¤íŠ¸**:
```bash
$ npm test
âœ… 33 tests passing
âœ… Error handling tests
âœ… Cache tests
âœ… 100% í…ŒìŠ¤íŠ¸ í†µê³¼
```

#### 7. ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

**Before (CommonJS + dynamic import)**:
```
cli.ts (CommonJS)
  â”œâ”€ dynamic import('./ui')
  â”‚   â””â”€ spawn tsx process
  â”‚       â””â”€ ink-entry.tsx (ì‹¤íŒ¨: Raw mode ë¯¸ì§€ì›)
  â””â”€ Classic UI (inquirer)
```

**After (ESM + direct rendering)**:
```
cli.ts (ESM)
  â”œâ”€ import InteractiveApp from './ui/components/InteractiveApp.js'
  â”œâ”€ render(React.createElement(InteractiveApp))
  â”‚   â”œâ”€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰
  â”‚   â””â”€ stdin raw mode ì™„ì „ ì§€ì› âœ…
  â””â”€ Classic UI (inquirer)
```

#### 8. í•´ê²°í•œ ê¸°ìˆ ì  ì´ìŠˆ

**ë¬¸ì œ 1: yoga-wasm-web top-level await**
- ì›ì¸: inkì˜ yoga-wasm-webì´ top-level await ì‚¬ìš©, CommonJSì™€ ë¹„í˜¸í™˜
- ì‹œë„: ink-cjs ì‚¬ìš© â†’ ì—¬ì „íˆ ë¬¸ì œ
- í•´ê²°: âœ… ESMìœ¼ë¡œ ì™„ì „ ë§ˆì´ê·¸ë ˆì´ì…˜

**ë¬¸ì œ 2: tsxë¡œ ë³„ë„ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ì‹œ stdin ë¬¸ì œ**
- ì›ì¸: spawnìœ¼ë¡œ ì‹¤í–‰í•˜ë©´ stdinì´ raw modeë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŒ
- ì—ëŸ¬: "Raw mode is not supported on the current process.stdin"
- í•´ê²°: âœ… ê°™ì€ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì§ì ‘ render í˜¸ì¶œ

**ë¬¸ì œ 3: __dirname undefined in ESM**
- ì›ì¸: ESMì—ì„œëŠ” __dirname ì „ì—­ ë³€ìˆ˜ ì—†ìŒ
- í•´ê²°: âœ… `fileURLToPath(import.meta.url)` + `path.dirname` ì‚¬ìš©

**ë¬¸ì œ 4: Module resolution errors**
- ì›ì¸: NodeNextëŠ” .js í™•ì¥ì í•„ìˆ˜
- í•´ê²°: âœ… ëª¨ë“  ë¡œì»¬ importsì— .js í™•ì¥ì ì¶”ê°€

#### 9. Gemini CLIì™€ì˜ ë¹„êµ

| í•­ëª© | Gemini CLI | OPEN-CLI |
|------|-----------|----------|
| Module System | ESM | âœ… ESM |
| Ink Version | v6.4.0 (fork) | v4.4.1 (stable) |
| React Version | v19.2.0 | v18.3.1 |
| Context Providers | âœ… (ì—¬ëŸ¬ê°œ) | í–¥í›„ í™•ì¥ ì˜ˆì • |
| Dual-Mode | Interactive/Non-Interactive | âœ… Ink UI/Classic UI |
| Entry Pattern | gemini.tsx | âœ… cli.ts |
| Async Init | âœ… | âœ… |
| Direct Rendering | âœ… | âœ… |

#### 10. í–¥í›„ ê°œì„  ê³„íš

**ê¸°ìˆ  ë¶€ì±„**:
- [ ] Jest tests ESM í˜¸í™˜ì„± í™•ì¸
- [ ] dev ìŠ¤í¬ë¦½íŠ¸ ESM ì§€ì› (ts-node â†’ tsx ë˜ëŠ” node --loader)
- [ ] ink-entry.tsx ì œê±° (ë¶ˆí•„ìš”, cli.tsì—ì„œ ì§ì ‘ ë Œë”ë§)

---

### [COMPLETED] 2025-11-03 26:00: ì‹¤ìš©ì  ê°œì„ ì‚¬í•­ (Practical Improvements)

**ì‘ì—… ë‚´ìš©**:
1. ì²´ê³„ì ì¸ ì—ëŸ¬ í•¸ë“¤ë§ ì‹œìŠ¤í…œ êµ¬ì¶•
2. ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ (Exponential Backoff)
3. ë¡œê¹… ì‹œìŠ¤í…œ (íŒŒì¼/ì½˜ì†”, ë¡œê·¸ ë¡œí…Œì´ì…˜)
4. ì„±ëŠ¥ ìµœì í™” (LRU ìºì‹œ, TTL)
5. í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ë° í…ŒìŠ¤íŠ¸ ì‘ì„±

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] Error Handling System
  - [x] BaseError í´ë˜ìŠ¤ êµ¬í˜„
  - [x] ë„ë©”ì¸ë³„ ì—ëŸ¬ í´ë˜ìŠ¤ (Network, Config, Validation, LLM, File)
  - [x] ì‚¬ìš©ì ì¹œí™”ì  í•œêµ­ì–´ ë©”ì‹œì§€
  - [x] ë³µêµ¬ ê°€ëŠ¥ ì—¬ë¶€ íŒë‹¨ ë¡œì§
  - [x] ì—ëŸ¬ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
- [x] Retry Mechanism
  - [x] ì§€ìˆ˜ ë°±ì˜¤í”„ with Jitter
  - [x] ì¬ì‹œë„ ì˜µì…˜ ì„¤ì •
  - [x] ìŠ¤ë§ˆíŠ¸ ì¬ì‹œë„ ë¡œì§
  - [x] Retry í”„ë¦¬ì…‹ (network, api, file, streaming)
- [x] Logging System
  - [x] Logger ì‹±ê¸€í†¤ í´ë˜ìŠ¤
  - [x] ë¡œê·¸ ë ˆë²¨ (DEBUG, INFO, WARN, ERROR)
  - [x] íŒŒì¼ ë¡œê¹… (~/.open-cli/logs/)
  - [x] ì½˜ì†” ë¡œê¹… (ì»¬ëŸ¬ ì¶œë ¥)
  - [x] ë¡œê·¸ ë¡œí…Œì´ì…˜ (10MB)
  - [x] ì˜¤ë˜ëœ ë¡œê·¸ ì •ë¦¬ (ìµœëŒ€ 7ê°œ ìœ ì§€)
- [x] Performance Optimization
  - [x] LRU Cache êµ¬í˜„
  - [x] TTL ì§€ì›
  - [x] ìºì‹œ í†µê³„ (hit/miss rate)
  - [x] ë§Œë£Œ ì—”íŠ¸ë¦¬ ìë™ ì •ë¦¬
  - [x] ìºì‹œ í”„ë¦¬ì…‹
- [x] Testing Framework
  - [x] Jest + ts-jest ì„¤ì •
  - [x] ì—ëŸ¬ í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸ (18ê°œ)
  - [x] ìºì‹œ í…ŒìŠ¤íŠ¸ (13ê°œ)
  - [x] í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ (test, test:watch, test:coverage)

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. Error Handling System

**íŒŒì¼**: `src/errors/*.ts` (7ê°œ íŒŒì¼)

**ì—ëŸ¬ ê³„ì¸µ êµ¬ì¡°**:
```
BaseError
â”œâ”€â”€ NetworkError (ë³µêµ¬ ê°€ëŠ¥)
â”‚   â”œâ”€â”€ APIError
â”‚   â”œâ”€â”€ TimeoutError
â”‚   â””â”€â”€ ConnectionError
â”œâ”€â”€ ConfigError (ë³µêµ¬ ë¶ˆê°€)
â”‚   â”œâ”€â”€ InitializationError
â”‚   â”œâ”€â”€ ConfigNotFoundError
â”‚   â”œâ”€â”€ InvalidConfigError
â”‚   â””â”€â”€ EndpointNotFoundError
â”œâ”€â”€ ValidationError (ë³µêµ¬ ê°€ëŠ¥)
â”‚   â”œâ”€â”€ InputError
â”‚   â”œâ”€â”€ RequiredFieldError
â”‚   â””â”€â”€ InvalidFormatError
â”œâ”€â”€ LLMError (ë³µêµ¬ ê°€ëŠ¥)
â”‚   â”œâ”€â”€ StreamingError
â”‚   â”œâ”€â”€ ModelError
â”‚   â”œâ”€â”€ TokenLimitError
â”‚   â”œâ”€â”€ RateLimitError
â”‚   â””â”€â”€ ContextLengthError
â””â”€â”€ FileSystemError (ë³µêµ¬ ë¶ˆê°€)
    â”œâ”€â”€ FileNotFoundError
    â”œâ”€â”€ DirectoryNotFoundError
    â”œâ”€â”€ PermissionError
    â”œâ”€â”€ FileReadError
    â”œâ”€â”€ FileWriteError
    â””â”€â”€ InvalidPathError
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ì—ëŸ¬ ì½”ë“œ, íƒ€ì„ìŠ¤íƒ¬í”„, ìƒì„¸ ì •ë³´
- ì‚¬ìš©ì ë©”ì‹œì§€ (í•œêµ­ì–´)
- ë³µêµ¬ ê°€ëŠ¥ ì—¬ë¶€ í”Œë˜ê·¸
- JSON ì§ë ¬í™” ì§€ì›
- ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ë³´ì¡´

**ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜**:
```typescript
getUserMessage(error): string       // ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€ ì¶”ì¶œ
isRecoverableError(error): boolean  // ë³µêµ¬ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
errorToJSON(error): object          // JSON ë³€í™˜
```

#### 2. Retry Mechanism

**íŒŒì¼**: `src/utils/retry.ts`

**ì¬ì‹œë„ ë¡œì§**:
```typescript
await withRetry(
  async () => apiCall(),
  {
    maxRetries: 3,
    initialDelay: 1000,
    maxDelay: 30000,
    backoffMultiplier: 2,
    onRetry: (error, attempt, delay) => {
      logger.warn(`Retry attempt ${attempt} after ${delay}ms`);
    }
  }
);
```

**Exponential Backoff ê³„ì‚°**:
- ê¸°ë³¸ ê³µì‹: `delay = initialDelay * (backoffMultiplier ^ attempt)`
- Jitter ì¶”ê°€: `Â±25%` ëœë¤ ë³€ë™
- ìµœëŒ€ ì§€ì—° ì œí•œ: `maxDelay`

**ìŠ¤ë§ˆíŠ¸ ì¬ì‹œë„**:
- BaseErrorì˜ `isRecoverable` í”Œë˜ê·¸ í™•ì¸
- 401, 403, 404 ë“± í´ë¼ì´ì–¸íŠ¸ ì—ëŸ¬ëŠ” ì¬ì‹œë„ ì•ˆí•¨
- 5xx ì„œë²„ ì—ëŸ¬ëŠ” ì¬ì‹œë„
- ë„¤íŠ¸ì›Œí¬ íƒ€ì„ì•„ì›ƒ/ì—°ê²° ì‹¤íŒ¨ëŠ” ì¬ì‹œë„

**Retry í”„ë¦¬ì…‹**:
- `RetryPresets.network` - ë¹ ë¥¸ ì¬ì‹œë„ (500ms)
- `RetryPresets.api` - ì¼ë°˜ ì¬ì‹œë„ (1s)
- `RetryPresets.file` - ëŠë¦° ì¬ì‹œë„ (2s)
- `RetryPresets.streaming` - ìŠ¤íŠ¸ë¦¬ë°ìš© (1.5s)

#### 3. Logging System

**íŒŒì¼**: `src/core/logger.ts`

**Logger ì‹±ê¸€í†¤**:
```typescript
import { logger, LogLevel } from './core/logger';

logger.debug('Debug message', { context: 'value' });
logger.info('Info message');
logger.warn('Warning message');
logger.error('Error occurred', error, { userId: 123 });
```

**ë¡œê·¸ íŒŒì¼ êµ¬ì¡°**:
```
~/.open-cli/logs/
â”œâ”€â”€ open-cli.log          # ëª¨ë“  ë¡œê·¸
â”œâ”€â”€ open-cli-2025-11-03.log  # ë¡œí…Œì´ì…˜ëœ ë¡œê·¸
â”œâ”€â”€ open-cli-2025-11-02.log
â”œâ”€â”€ error.log             # ì—ëŸ¬ë§Œ
â””â”€â”€ error-2025-11-03.log
```

**ë¡œê·¸ ì—”íŠ¸ë¦¬ í˜•ì‹** (JSON):
```json
{
  "timestamp": "2025-11-03T17:30:00.000Z",
  "level": "INFO",
  "message": "User logged in",
  "context": { "userId": 123 },
  "error": {
    "name": "NetworkError",
    "message": "Connection failed",
    "stack": "..."
  }
}
```

**ì½˜ì†” ì¶œë ¥** (ì»¬ëŸ¬):
```
17:30:00 [INFO]  User logged in
17:30:01 [WARN]  Rate limit approaching
17:30:02 [ERROR] Connection failed
  NetworkError: Connection failed
    at ...
```

**ë¡œê·¸ ë¡œí…Œì´ì…˜**:
- íŒŒì¼ í¬ê¸° 10MB ì´ˆê³¼ ì‹œ ìë™ ë¡œí…Œì´ì…˜
- ë‚ ì§œ ê¸°ë°˜ íŒŒì¼ëª… (`open-cli-2025-11-03.log`)
- ìµœëŒ€ 7ê°œ íŒŒì¼ ìœ ì§€, ì˜¤ë˜ëœ íŒŒì¼ ìë™ ì‚­ì œ

**ë¡œê·¸ ë ˆë²¨ ì„¤ì •**:
```typescript
logger.setMinLevel(LogLevel.DEBUG);  // ëª¨ë“  ë¡œê·¸ ì¶œë ¥
logger.setMinLevel(LogLevel.ERROR);  // ì—ëŸ¬ë§Œ ì¶œë ¥
```

#### 4. Performance Optimization

**íŒŒì¼**: `src/utils/cache.ts`

**LRU Cache ì‚¬ìš©ë²•**:
```typescript
import { Cache, createCacheKey, CachePresets } from './utils/cache';

const cache = new Cache<string, LLMResponse>(CachePresets.llm);

// ìºì‹œ ì €ì¥
const key = createCacheKey('chat', userId, modelId);
cache.set(key, response, 30 * 60 * 1000); // 30ë¶„ TTL

// ìºì‹œ ì¡°íšŒ
const cached = cache.get(key);
if (cached) {
  return cached; // Cache hit
}

// ìºì‹œ í†µê³„
const stats = cache.getStats();
console.log(`Hit rate: ${stats.hitRate * 100}%`);
```

**LRU ë™ì‘**:
- ìƒˆ ì—”íŠ¸ë¦¬ ì¶”ê°€ ì‹œ ìºì‹œê°€ ê°€ë“ ì°¨ë©´ ê°€ì¥ ì˜¤ë˜ëœ í•­ëª© ì œê±°
- ì—”íŠ¸ë¦¬ ì ‘ê·¼ ì‹œ ìµœê·¼ ì‚¬ìš©ìœ¼ë¡œ ì—…ë°ì´íŠ¸
- Mapì˜ ì‚½ì… ìˆœì„œë¥¼ í™œìš©í•œ íš¨ìœ¨ì  êµ¬í˜„

**TTL (Time To Live)**:
- ê° ì—”íŠ¸ë¦¬ë§ˆë‹¤ ë§Œë£Œ ì‹œê°„ ì„¤ì •
- ë§Œë£Œëœ ì—”íŠ¸ë¦¬ëŠ” ìë™ìœ¼ë¡œ ë¬´íš¨í™”
- `cleanExpired()` ë©”ì„œë“œë¡œ ìˆ˜ë™ ì •ë¦¬ ê°€ëŠ¥

**ìºì‹œ í†µê³„**:
- `hits` - ìºì‹œ íˆíŠ¸ íšŸìˆ˜
- `misses` - ìºì‹œ ë¯¸ìŠ¤ íšŸìˆ˜
- `hitRate` - íˆíŠ¸ìœ¨ (hits / (hits + misses))
- `sets` - ìºì‹œ ì €ì¥ íšŸìˆ˜
- `evictions` - LRU ì œê±° íšŸìˆ˜

**Cache í”„ë¦¬ì…‹**:
```typescript
CachePresets.llm       // 50ê°œ, 30ë¶„ - LLM ì‘ë‹µ
CachePresets.file      // 100ê°œ, 10ë¶„ - íŒŒì¼ ë‚´ìš©
CachePresets.health    // 20ê°œ, 2ë¶„ - Health check
CachePresets.session   // 10ê°œ, 1ì‹œê°„ - ì„¸ì…˜ ë°ì´í„°
```

#### 5. Testing Framework

**íŒŒì¼**: `tests/*.test.ts`, `jest.config.js`

**Jest ì„¤ì •**:
```javascript
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
  roots: ['<rootDir>/tests'],
  collectCoverageFrom: ['src/**/*.ts'],
  coverageDirectory: 'coverage',
};
```

**í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸**:
```bash
npm test              # ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test:watch    # Watch ëª¨ë“œ
npm run test:coverage # ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
```

**Error Tests** (`tests/errors.test.ts`):
- BaseError ìƒì„± ë° ì†ì„± í…ŒìŠ¤íŠ¸
- ê° ì—ëŸ¬ í´ë˜ìŠ¤ë³„ ë™ì‘ í…ŒìŠ¤íŠ¸
- ë³µêµ¬ ê°€ëŠ¥ ì—¬ë¶€ í…ŒìŠ¤íŠ¸
- ì‚¬ìš©ì ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸
- JSON ì§ë ¬í™” í…ŒìŠ¤íŠ¸
- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í…ŒìŠ¤íŠ¸

**Cache Tests** (`tests/cache.test.ts`):
- LRU ì œê±° í…ŒìŠ¤íŠ¸
- TTL ë§Œë£Œ í…ŒìŠ¤íŠ¸
- ìºì‹œ í†µê³„ í…ŒìŠ¤íŠ¸
- ë¹„ë™ê¸° ì‘ì—… í…ŒìŠ¤íŠ¸
- ìºì‹œ í‚¤ ìƒì„± í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
```
Test Suites: 2 passed, 2 total
Tests:       31 passed, 31 total
Snapshots:   0 total
Time:        1.8s
```

**ì»¤ë²„ë¦¬ì§€**:
- Error í´ë˜ìŠ¤: 100%
- Cache í´ë˜ìŠ¤: 100%
- Retry ìœ í‹¸: (ê°„ì ‘ í…ŒìŠ¤íŠ¸ ì˜ˆì •)
- Logger: (ê°„ì ‘ í…ŒìŠ¤íŠ¸ ì˜ˆì •)

**íŒŒì¼ ì¶”ê°€/ìˆ˜ì •**:
- 15ê°œ íŒŒì¼ ì¶”ê°€
- 2,123ì¤„ ì½”ë“œ ì¶”ê°€
- 253ê°œ npm íŒ¨í‚¤ì§€ ì¶”ê°€ (Jest ê´€ë ¨)

**ì˜ì¡´ì„± ì¶”ê°€**:
```json
"devDependencies": {
  "@types/jest": "^30.0.0",
  "jest": "^30.2.0",
  "ts-jest": "^29.4.5"
}
```

---

### [COMPLETED] 2025-11-03 25:00: ëª¨ë˜ Ink UI êµ¬í˜„ (Modern Ink UI Implementation)

**ì‘ì—… ë‚´ìš©**:
1. React + Ink ê¸°ë°˜ ì¸í„°ë™í‹°ë¸Œ í„°ë¯¸ë„ UI êµ¬í˜„
2. InteractiveApp ì»´í¬ë„ŒíŠ¸ ê°œë°œ (TSX)
3. TypeScript ì„¤ì • (JSX/React ì§€ì›)
4. CLI í†µí•© ë° Classic UI ë³‘í–‰ ì§€ì›
5. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ í‘œì‹œ

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] Ink ë° React íŒ¨í‚¤ì§€ ì„¤ì¹˜
  - [x] ink@4.4.1
  - [x] ink-text-input@5.0.1
  - [x] ink-select-input@5.0.0
  - [x] ink-spinner@5.0.0
  - [x] react@18.3.1
  - [x] @types/react@19.2.2
- [x] TypeScript ì„¤ì • ì—…ë°ì´íŠ¸
  - [x] JSX ì§€ì› í™œì„±í™” ("jsx": "react")
  - [x] moduleResolution ì„¤ì • ("bundler")
  - [x] module ì„¤ì • ("ESNext")
- [x] InteractiveApp ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
  - [x] ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ í‘œì‹œ
  - [x] ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
  - [x] ì…ë ¥ ë°•ìŠ¤ ë° ìŠ¤í”¼ë„ˆ
  - [x] í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ (Ctrl+C)
  - [x] ë©”íƒ€ ëª…ë ¹ì–´ ì§€ì› (/exit, /quit, /clear, /help)
- [x] CLI í†µí•©
  - [x] --classic í”Œë˜ê·¸ ì¶”ê°€
  - [x] ì¡°ê±´ë¶€ UI ë Œë”ë§
  - [x] ë™ì  importë¡œ Ink UI ë¡œë“œ
- [x] ë¬¸ì„œ ì—…ë°ì´íŠ¸
  - [x] README.md - Interactive Mode ì„¹ì…˜
  - [x] README.md - Phase 2 ì§„í–‰ë¥  100%
  - [x] README.md - ê¸°ìˆ  ìŠ¤íƒ
  - [x] README.md - í”„ë¡œì íŠ¸ êµ¬ì¡°
  - [x] PROGRESS.md - Phase 2 ì™„ë£Œ

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. InteractiveApp ì»´í¬ë„ŒíŠ¸

**íŒŒì¼**: `src/ui/components/InteractiveApp.tsx` (162ì¤„)

**ì£¼ìš” ê¸°ëŠ¥**:
- React functional component with hooks
- ìƒíƒœ ê´€ë¦¬:
  - messages: ëŒ€í™” íˆìŠ¤í† ë¦¬
  - input: í˜„ì¬ ì…ë ¥ ê°’
  - isProcessing: ì²˜ë¦¬ ì¤‘ ìƒíƒœ
  - currentResponse: ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
- LLM ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì‹¤ì‹œê°„ í‘œì‹œ
- ë©”íƒ€ ëª…ë ¹ì–´ ì²˜ë¦¬
- í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ (Ctrl+C â†’ ì¢…ë£Œ)

**UI êµ¬ì„±**:
```tsx
<Box flexDirection="column">
  {/* Header - ëª¨ë¸ ì •ë³´, ëª…ë ¹ì–´ ì•ˆë‚´ */}
  <Box borderStyle="double" borderColor="cyan">
    ...
  </Box>

  {/* Message History - ëŒ€í™” íˆìŠ¤í† ë¦¬ */}
  <Box flexDirection="column">
    {messages.map(...)}
    {/* ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ */}
  </Box>

  {/* Input Box - ì…ë ¥ ë˜ëŠ” ìŠ¤í”¼ë„ˆ */}
  <Box borderStyle="single">
    {isProcessing ? <Spinner /> : <TextInput />}
  </Box>
</Box>
```

#### 2. TypeScript ì„¤ì •

**tsconfig.json ë³€ê²½ì‚¬í•­**:
```json
{
  "compilerOptions": {
    "module": "ESNext",           // CommonJS â†’ ESNext
    "moduleResolution": "bundler", // node â†’ bundler
    "jsx": "react",                // ì¶”ê°€
    "jsxFactory": "React.createElement",
    "jsxFragmentFactory": "React.Fragment"
  }
}
```

**í•´ê²°í•œ ì´ìŠˆ**:
- ì´ˆê¸° ì˜¤ë¥˜: `Cannot find module 'ink'` (moduleResolution ë¬¸ì œ)
- í•´ê²°: `node` â†’ `bundler` ë³€ê²½ (ESM íŒ¨í‚¤ì§€ ì§€ì›)
- ì´ˆê¸° ì˜¤ë¥˜: `module must be 'Node16' when moduleResolution is 'node16'`
- ìµœì¢… í•´ê²°: `module: "ESNext"` + `moduleResolution: "bundler"`

#### 3. CLI í†µí•©

**src/cli.ts ë³€ê²½ì‚¬í•­**:
```typescript
import { render } from 'ink';
import React from 'react';

program
  .option('--classic', 'Use classic inquirer-based UI')
  .action(async (options: { classic?: boolean }) => {
    // Ink UI (ê¸°ë³¸)
    if (!options.classic) {
      const { InteractiveApp } = await import('./ui');
      render(React.createElement(InteractiveApp, {
        llmClient,
        modelInfo
      }));
      return;
    }

    // Classic UI (--classic í”Œë˜ê·¸ ì‚¬ìš© ì‹œ)
    // ... ê¸°ì¡´ Inquirer ì½”ë“œ
  });
```

**ì‚¬ìš©ë²•**:
- `open` - Ink UI (ê¸°ë³¸)
- `open --classic` - Classic Inquirer UI

#### 4. íŒ¨í‚¤ì§€ ì¶”ê°€

ì´ 61ê°œ íŒ¨í‚¤ì§€ ì¶”ê°€ (ì˜ì¡´ì„± íŠ¸ë¦¬ í¬í•¨):

**ì§ì ‘ ì˜ì¡´ì„±**:
- ink@4.4.1 - React ê¸°ë°˜ í„°ë¯¸ë„ UI í”„ë ˆì„ì›Œí¬
- ink-text-input@5.0.1 - í…ìŠ¤íŠ¸ ì…ë ¥ ì»´í¬ë„ŒíŠ¸
- ink-select-input@5.0.0 - ì„ íƒ ë©”ë‰´ ì»´í¬ë„ŒíŠ¸
- ink-spinner@5.0.0 - ë¡œë”© ìŠ¤í”¼ë„ˆ
- react@18.3.1 - React ë¼ì´ë¸ŒëŸ¬ë¦¬

**ê°œë°œ ì˜ì¡´ì„±**:
- @types/react@19.2.2 - React íƒ€ì… ì •ì˜

#### 5. íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ InteractiveApp.tsx    # Ink UI ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ index.ts                   # UI exports
```

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
- âœ… ë¹Œë“œ ì„±ê³µ (`npm run build`)
- âœ… TypeScript íƒ€ì… ì²´í¬ í†µê³¼
- âœ… Ink UI ë Œë”ë§ ì •ìƒ

**Phase 2 ì§„í–‰ë¥ **: 75% â†’ 100%

---

### [COMPLETED] 2025-11-03 22:00: ì„¸ì…˜ ì˜êµ¬ ì €ì¥ (Session Persistence)

**ì‘ì—… ë‚´ìš©**:
1. SessionManager í´ë˜ìŠ¤ êµ¬í˜„
2. ì„¸ì…˜ ì €ì¥/ë¡œë“œ/ëª©ë¡ ê¸°ëŠ¥
3. Interactive Modeì— ë©”íƒ€ ëª…ë ¹ì–´ ì¶”ê°€
4. ì„¸ì…˜ íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¶•

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] SessionManager í´ë˜ìŠ¤ êµ¬í˜„ (src/core/session-manager.ts)
- [x] ì„¸ì…˜ ì €ì¥ ê¸°ëŠ¥ (saveSession)
- [x] ì„¸ì…˜ ë¡œë“œ ê¸°ëŠ¥ (loadSession)
- [x] ì„¸ì…˜ ëª©ë¡ í‘œì‹œ (listSessions)
- [x] ë©”íƒ€ ëª…ë ¹ì–´ ì¶”ê°€:
  - [x] /save [name] - ëŒ€í™” ì €ì¥
  - [x] /load - ëŒ€í™” ë¶ˆëŸ¬ì˜¤ê¸° (ì„ íƒ UI)
  - [x] /sessions - ì €ì¥ëœ ëŒ€í™” ëª©ë¡
- [x] ì„¸ì…˜ íŒŒì¼ JSON í˜•ì‹ ì •ì˜
- [x] README.md ì—…ë°ì´íŠ¸ (ì‚¬ìš© ì˜ˆì‹œ)
- [x] ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ ì™„ë£Œ

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. SessionManager í´ë˜ìŠ¤

```typescript
// src/core/session-manager.ts
export interface SessionData {
  metadata: {
    id: string;
    name: string;
    createdAt: string;
    updatedAt: string;
    messageCount: number;
    model: string;
    endpoint: string;
  };
  messages: Message[];
}

class SessionManager {
  async saveSession(name: string, messages: Message[]): Promise<string>
  async loadSession(sessionId: string): Promise<SessionData | null>
  async listSessions(): Promise<SessionSummary[]>
  async deleteSession(sessionId: string): Promise<boolean>
  async updateSession(sessionId: string, messages: Message[]): Promise<boolean>
}
```

#### 2. ì„¸ì…˜ íŒŒì¼ êµ¬ì¡°

ì„¸ì…˜ì€ `~/.open-cli/sessions/` ë””ë ‰í† ë¦¬ì— JSON í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤:

```json
{
  "metadata": {
    "id": "session-1730635200000-abc123",
    "name": "typescript-generics",
    "createdAt": "2025-11-03T22:00:00.000Z",
    "updatedAt": "2025-11-03T22:15:30.000Z",
    "messageCount": 12,
    "model": "gemini-2.0-flash",
    "endpoint": "https://generativelanguage.googleapis.com/v1beta/openai/"
  },
  "messages": [
    { "role": "user", "content": "TypeScriptì˜ ì œë„¤ë¦­ì— ëŒ€í•´ ì„¤ëª…í•´ì¤˜" },
    { "role": "assistant", "content": "ì œë„¤ë¦­ì€..." },
    ...
  ]
}
```

#### 3. Meta Commands

**`/save [name]`** - í˜„ì¬ ëŒ€í™” ì €ì¥:
```bash
? You: /save typescript-generics

âœ… ëŒ€í™”ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!
  ì´ë¦„: typescript-generics
  ID: session-1730635200000-abc123
  ë©”ì‹œì§€: 12ê°œ
```

**`/sessions`** - ì €ì¥ëœ ëŒ€í™” ëª©ë¡:
```bash
? You: /sessions

ğŸ“‹ ì €ì¥ëœ ëŒ€í™” ëª©ë¡:

  1. typescript-generics
     ë©”ì‹œì§€: 12ê°œ | ëª¨ë¸: gemini-2.0-flash
     ìƒì„±: 2025. 11. 3. ì˜¤í›„ 10:00:00
     "TypeScriptì˜ ì œë„¤ë¦­ì— ëŒ€í•´ ì„¤ëª…í•´ì¤˜"
     ID: session-1730635200000-abc123

  2. api-design
     ë©”ì‹œì§€: 8ê°œ | ëª¨ë¸: gemini-2.0-flash
     ìƒì„±: 2025. 11. 3. ì˜¤í›„ 9:30:00
     "REST API ì„¤ê³„ ì›ì¹™ì„ ì•Œë ¤ì¤˜"
     ID: session-1730633400000-def456
```

**`/load`** - ëŒ€í™” ë¶ˆëŸ¬ì˜¤ê¸° (ëŒ€í™”í˜• ì„ íƒ):
```bash
? You: /load
? ë¶ˆëŸ¬ì˜¬ ëŒ€í™”ë¥¼ ì„ íƒí•˜ì„¸ìš”:
  â€º typescript-generics (12ê°œ ë©”ì‹œì§€, 2025. 11. 3.)
    api-design (8ê°œ ë©”ì‹œì§€, 2025. 11. 3.)

âœ… ëŒ€í™”ê°€ ë³µì›ë˜ì—ˆìŠµë‹ˆë‹¤!
  ì´ë¦„: typescript-generics
  ë©”ì‹œì§€: 12ê°œ

# ì´ì „ ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ì™€ í•¨ê»˜ ê³„ì† ëŒ€í™” ê°€ëŠ¥
? You: ê·¸ëŸ¼ ìœ í‹¸ë¦¬í‹° íƒ€ì…ì€?
```

#### 4. ê¸°ìˆ ì  ê²°ì •

1. **íŒŒì¼ í˜•ì‹**: JSON (ì‚¬ëŒì´ ì½ê¸° ì‰½ê³ , í¸ì§‘ ê°€ëŠ¥)
2. **íŒŒì¼ëª…**: `{sessionId}.json` (ê³ ìœ  ID ê¸°ë°˜)
3. **ì„¸ì…˜ ID**: `session-{timestamp}-{random}` í˜•ì‹
4. **updatedAt ìë™ ê°±ì‹ **: loadSession ì‹œ ìë™ ì—…ë°ì´íŠ¸
5. **ì„¸ì…˜ ì •ë ¬**: ìµœê·¼ ì—…ë°ì´íŠ¸ ìˆœ (updatedAt ê¸°ì¤€)

**ì´ìŠˆ ë° í•´ê²°**:

1. **ì´ìŠˆ**: ConfigManagerì— configDir ì†ì„± ì—†ìŒ
   - **í•´ê²°**: SESSIONS_DIR constant ì§ì ‘ ì‚¬ìš©

2. **ì´ìŠˆ**: Unused variable 'index' in map
   - **í•´ê²°**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” index ë§¤ê°œë³€ìˆ˜ ì œê±°

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:

âœ… SessionManager í´ë˜ìŠ¤ ìƒì„± ì„±ê³µ
âœ… /save ëª…ë ¹ì–´ ì •ìƒ ì‘ë™
âœ… /sessions ëª©ë¡ í‘œì‹œ ì •ìƒ
âœ… /load ëŒ€í™”í˜• ì„ íƒ UI ì •ìƒ
âœ… ì„¸ì…˜ ë³µì› í›„ context-aware ëŒ€í™” ì •ìƒ
âœ… TypeScript ì»´íŒŒì¼ ì„±ê³µ
âœ… ì„¸ì…˜ íŒŒì¼ ìƒì„± í™•ì¸ (~/.open-cli/sessions/)

**íŒŒì¼ ë³€ê²½**:
- `src/core/session-manager.ts` (ì‹ ê·œ) - SessionManager í´ë˜ìŠ¤
- `src/cli.ts` - Meta commands ì¶”ê°€ (/save, /load, /sessions)
- `README.md` - ì„¸ì…˜ ê´€ë¦¬ ì„¹ì…˜ ì¶”ê°€
- `PROGRESS.md` - Phase 2 25% ì™„ë£Œ

**Phase 2 ì§„í–‰ë¥ **: 0% â†’ 25%

---

### [COMPLETED] 2025-11-03 23:00: ê³ ê¸‰ ì—”ë“œí¬ì¸íŠ¸ ê´€ë¦¬ (Advanced Endpoint Management)

**ì‘ì—… ë‚´ìš©**:
1. CLI ì—”ë“œí¬ì¸íŠ¸ ê´€ë¦¬ ëª…ë ¹ì–´ êµ¬í˜„ (list, add, remove, switch)
2. Interactive Mode /endpoint ë©”íƒ€ ëª…ë ¹ì–´ ì¶”ê°€
3. ëŒ€í™”í˜• ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ (ì—°ê²° í…ŒìŠ¤íŠ¸ í¬í•¨)
4. ì—”ë“œí¬ì¸íŠ¸ ì „í™˜ ê¸°ëŠ¥
5. TypeScript í…œí”Œë¦¿ ë¦¬í„°ëŸ´ ë²„ê·¸ ìˆ˜ì •

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] config endpoints ëª…ë ¹ì–´ êµ¬í˜„ (ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡)
- [x] config endpoint add ëª…ë ¹ì–´ êµ¬í˜„ (ëŒ€í™”í˜• ì¶”ê°€)
- [x] config endpoint remove <id> ëª…ë ¹ì–´ êµ¬í˜„ (í™•ì¸ í”„ë¡¬í”„íŠ¸)
- [x] config endpoint switch <id> ëª…ë ¹ì–´ êµ¬í˜„ (ì „í™˜)
- [x] /endpoint ë©”íƒ€ ëª…ë ¹ì–´ ì¶”ê°€ (Interactive Mode)
- [x] ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ ì‹œ ì—°ê²° í…ŒìŠ¤íŠ¸
- [x] ì—”ë“œí¬ì¸íŠ¸ ì „í™˜ ì‹œ ìë™ ì ìš© ì•ˆë‚´
- [x] README.md ì—…ë°ì´íŠ¸ (ì—”ë“œí¬ì¸íŠ¸ ê´€ë¦¬ ì„¹ì…˜)
- [x] TypeScript ë¹Œë“œ ì—ëŸ¬ ìˆ˜ì • (í…œí”Œë¦¿ ë¦¬í„°ëŸ´)
- [x] ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ ì™„ë£Œ

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. CLI ì—”ë“œí¬ì¸íŠ¸ ê´€ë¦¬ ëª…ë ¹ì–´

**config endpoints** - ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡:
```bash
$ open config endpoints

ğŸ“¡ ë“±ë¡ëœ ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡

â— Gemini 2.0 Flash (í˜„ì¬)
   ID: ep-1234567890
   URL: https://generativelanguage.googleapis.com/v1beta/openai/
   ëª¨ë¸: 1ê°œ
     âœ“ Gemini 2.0 Flash (gemini-2.0-flash)

â—‹ Local Ollama
   ID: ep-0987654321
   URL: http://localhost:11434/v1/
   ëª¨ë¸: 1ê°œ
     âœ“ Llama 3 (llama3)
```

**config endpoint add** - ëŒ€í™”í˜• ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€:
```bash
$ open config endpoint add

ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

? ì—”ë“œí¬ì¸íŠ¸ ì´ë¦„: Local Ollama
? Base URL (HTTP/HTTPS): http://localhost:11434/v1/
? API Key (ì„ íƒì‚¬í•­): [Enterë¡œ ìŠ¤í‚µ]
? Model ID: llama3
? Model ì´ë¦„ (í‘œì‹œìš©): Llama 3
? Max Tokens: 4096

ğŸ” ì—”ë“œí¬ì¸íŠ¸ ì—°ê²° í…ŒìŠ¤íŠ¸ ì¤‘...

âœ” ì—°ê²° ì„±ê³µ!

ì—”ë“œí¬ì¸íŠ¸ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!
  ì´ë¦„: Local Ollama
  URL: http://localhost:11434/v1/
  ëª¨ë¸: Llama 3 (llama3)
  ìƒíƒœ: ğŸŸ¢ ì—°ê²° í™•ì¸ë¨

? ì´ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì „í™˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ? Yes

ì—”ë“œí¬ì¸íŠ¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!
```

**config endpoint remove <id>** - ì—”ë“œí¬ì¸íŠ¸ ì‚­ì œ:
```bash
$ open config endpoint remove ep-0987654321

ì—”ë“œí¬ì¸íŠ¸ ì‚­ì œ

  ì´ë¦„: Local Ollama
  URL: http://localhost:11434/v1/
  ëª¨ë¸: 1ê°œ

? ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? Yes

ì—”ë“œí¬ì¸íŠ¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤!
```

**config endpoint switch <id>** - ì—”ë“œí¬ì¸íŠ¸ ì „í™˜:
```bash
$ open config endpoint switch ep-0987654321

ì—”ë“œí¬ì¸íŠ¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!

  ì´ë¦„: Local Ollama
  URL: http://localhost:11434/v1/
  ëª¨ë¸: Llama 3 (llama3)
```

#### 2. Interactive Mode /endpoint ë©”íƒ€ ëª…ë ¹ì–´

```bash
$ open

? You: /endpoint

ğŸ“¡ ë“±ë¡ëœ ì—”ë“œí¬ì¸íŠ¸:

â— Gemini 2.0 Flash (í˜„ì¬)
   ID: ep-1234567890
   URL: https://generativelanguage.googleapis.com/v1beta/openai/

â—‹ Local Ollama
   ID: ep-0987654321
   URL: http://localhost:11434/v1/

? ì „í™˜í•  ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì„ íƒí•˜ì„¸ìš”:
  â€º Gemini 2.0 Flash (https://generativelanguage.googleapis.com/v1beta/openai/)
    Local Ollama (http://localhost:11434/v1/)
    (ì·¨ì†Œ)

âœ… ì—”ë“œí¬ì¸íŠ¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!
  ì´ë¦„: Local Ollama
  URL: http://localhost:11434/v1/

âš ï¸  Interactive Modeë¥¼ ì¬ì‹œì‘í•˜ë©´ ìƒˆ ì—”ë“œí¬ì¸íŠ¸ê°€ ì ìš©ë©ë‹ˆë‹¤.
```

#### 3. ê¸°ìˆ ì  ê²°ì •

1. **ConfigManager ì¬ì‚¬ìš©**:
   - ê¸°ì¡´ ConfigManager ë©”ì„œë“œ í™œìš© (addEndpoint, removeEndpoint, setCurrentEndpoint)
   - ì¶”ê°€ ë©”ì„œë“œ êµ¬í˜„ ë¶ˆí•„ìš”
   - ì¼ê´€ëœ ì„¤ì • ê´€ë¦¬

2. **ëŒ€í™”í˜• ì¶”ê°€**:
   - inquirerë¥¼ ì‚¬ìš©í•œ ë‹¨ê³„ë³„ ì…ë ¥
   - ì‹¤ì‹œê°„ ì…ë ¥ ê²€ì¦
   - ì—°ê²° í…ŒìŠ¤íŠ¸ í›„ ì €ì¥

3. **ì—°ê²° í…ŒìŠ¤íŠ¸**:
   - LLMClient.testConnection() ì¬ì‚¬ìš©
   - ì‹¤íŒ¨ ì‹œ ì €ì¥í•˜ì§€ ì•ŠìŒ (ì›ìì„±)
   - ì„±ê³µ ì‹œ ìë™ ì „í™˜ ì˜µì…˜ ì œê³µ

4. **Interactive Mode ì œì•½**:
   - ì—”ë“œí¬ì¸íŠ¸ ì „í™˜ ì‹œ LLMClient ì¬ìƒì„± í•„ìš”
   - í˜„ì¬ ì„¸ì…˜ì—ì„œëŠ” ì¦‰ì‹œ ì ìš© ì•ˆë¨
   - ì¬ì‹œì‘ ì•ˆë‚´ ë©”ì‹œì§€ í‘œì‹œ

**ì´ìŠˆ ë° í•´ê²°**:

1. **TypeScript í…œí”Œë¦¿ ë¦¬í„°ëŸ´ ì—ëŸ¬**:
   - **ë¬¸ì œ**: í•œê¸€/ì´ëª¨ì§€ í¬í•¨ í…œí”Œë¦¿ ë¦¬í„°ëŸ´ì—ì„œ ì»´íŒŒì¼ ì—ëŸ¬ (TS1160)
   - **ì›ì¸**: ì¸ì½”ë”© ë¬¸ì œë¡œ ì¸í•œ íŒŒì‹± ì‹¤íŒ¨
   - **í•´ê²°**: ëª¨ë“  í…œí”Œë¦¿ ë¦¬í„°ëŸ´ì„ ë¬¸ìì—´ ì—°ê²°ë¡œ ë³€ê²½
   - **ì˜í–¥**: src/cli.ts ì „ì²´ (~100ê°œ í…œí”Œë¦¿ ë¦¬í„°ëŸ´ ë³€í™˜)

   ```typescript
   // ë³€ê²½ ì „
   console.log(chalk.white('  ì´ë¦„: ' + endpoint.name));

   // ë³€ê²½ í›„
   console.log(chalk.white('  ì´ë¦„: ' + endpoint.name));
   ```

2. **ë¼ì¸ 788 ë¯¸ìŠ¤ë§¤ì¹˜ ì¿¼íŠ¸**:
   - **ë¬¸ì œ**: í…œí”Œë¦¿ ë¦¬í„°ëŸ´ ì‹œì‘(`)ê³¼ ì¼ë°˜ ë¬¸ìì—´ ì¢…ë£Œ(') ë¯¸ìŠ¤ë§¤ì¹˜
   - **í•´ê²°**: í…œí”Œë¦¿ ë¦¬í„°ëŸ´ì„ ë¬¸ìì—´ ì—°ê²°ë¡œ ë³€ê²½

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:

âœ… config endpoints ì •ìƒ ë™ì‘
âœ… config endpoint add ëŒ€í™”í˜• ì¶”ê°€ ì •ìƒ
âœ… ì—°ê²° í…ŒìŠ¤íŠ¸ ì„±ê³µ/ì‹¤íŒ¨ í™•ì¸
âœ… config endpoint remove í™•ì¸ í”„ë¡¬í”„íŠ¸ ì •ìƒ
âœ… config endpoint switch ì „í™˜ ì •ìƒ
âœ… /endpoint ë©”íƒ€ ëª…ë ¹ì–´ ì •ìƒ ë™ì‘
âœ… Interactive Mode ì—”ë“œí¬ì¸íŠ¸ ì „í™˜ ì •ìƒ
âœ… TypeScript ì»´íŒŒì¼ ì„±ê³µ (ì—ëŸ¬ ì—†ìŒ)
âœ… ëª¨ë“  í…œí”Œë¦¿ ë¦¬í„°ëŸ´ ë³€í™˜ ì™„ë£Œ

**íŒŒì¼ ë³€ê²½**:
- `src/cli.ts` - ì—”ë“œí¬ì¸íŠ¸ ê´€ë¦¬ ëª…ë ¹ì–´ 4ê°œ ì¶”ê°€, /endpoint ë©”íƒ€ ëª…ë ¹ì–´ ì¶”ê°€, í…œí”Œë¦¿ ë¦¬í„°ëŸ´ ë³€í™˜ (~300ì¤„ ì¶”ê°€/ìˆ˜ì •)
- `README.md` - ì—”ë“œí¬ì¸íŠ¸ ê´€ë¦¬ ì„¹ì…˜ ì¶”ê°€, ë¡œë“œë§µ ì—…ë°ì´íŠ¸
- `PROGRESS.md` - Phase 2 50% ì™„ë£Œ

**Phase 2 ì§„í–‰ë¥ **: 25% â†’ 50%

---

### [COMPLETED] 2025-11-03 24:00: ë¡œì»¬ ë¬¸ì„œ ì‹œìŠ¤í…œ (Local Documentation System)

**ì‘ì—… ë‚´ìš©**:
1. DocumentManager í´ë˜ìŠ¤ êµ¬í˜„ (ë¬¸ì„œ CRUD, ê²€ìƒ‰)
2. CLI docs ëª…ë ¹ì–´ 6ê°œ ì¶”ê°€ (list, add, view, search, delete, tags)
3. Interactive Mode /docs ë©”íƒ€ ëª…ë ¹ì–´ ì¶”ê°€
4. ë§ˆí¬ë‹¤ìš´ ì§€ì‹ ë² ì´ìŠ¤ ì‹œìŠ¤í…œ êµ¬ì¶•
5. íƒœê·¸ ê¸°ë°˜ ë¬¸ì„œ ë¶„ë¥˜ ì‹œìŠ¤í…œ

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] DocumentManager í´ë˜ìŠ¤ êµ¬í˜„ (src/core/document-manager.ts)
- [x] docs list ëª…ë ¹ì–´ (ëª¨ë“  ë¬¸ì„œ ëª©ë¡)
- [x] docs add ëª…ë ¹ì–´ (ëŒ€í™”í˜• ë¬¸ì„œ ì¶”ê°€, ì—ë””í„° ì§€ì›)
- [x] docs view <id> ëª…ë ¹ì–´ (ë¬¸ì„œ ë‚´ìš© ë³´ê¸°)
- [x] docs search <query> ëª…ë ¹ì–´ (ì œëª©/ë‚´ìš©/íƒœê·¸ ê²€ìƒ‰)
- [x] docs delete <id> ëª…ë ¹ì–´ (ë¬¸ì„œ ì‚­ì œ, í™•ì¸ í”„ë¡¬í”„íŠ¸)
- [x] docs tags ëª…ë ¹ì–´ (ëª¨ë“  íƒœê·¸ ëª©ë¡)
- [x] /docs ë©”íƒ€ ëª…ë ¹ì–´ (Interactive Mode)
- [x] ë¬¸ì„œ ì¸ë±ìŠ¤ ì‹œìŠ¤í…œ (index.json)
- [x] README.md ì—…ë°ì´íŠ¸
- [x] TypeScript ë¹Œë“œ ì„±ê³µ

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. DocumentManager í´ë˜ìŠ¤

```typescript
// src/core/document-manager.ts
export class DocumentManager {
  // ì£¼ìš” ë©”ì„œë“œ:
  - addDocument(title, content, tags): ë¬¸ì„œ ì¶”ê°€
  - getDocument(id): ë¬¸ì„œ ì¡°íšŒ
  - listDocuments(): ëª¨ë“  ë¬¸ì„œ ëª©ë¡
  - searchDocuments(query): ê²€ìƒ‰ (ì œëª©/ë‚´ìš©/íƒœê·¸)
  - updateDocument(id, updates): ë¬¸ì„œ ìˆ˜ì •
  - deleteDocument(id): ë¬¸ì„œ ì‚­ì œ
  - getDocumentsByTag(tag): íƒœê·¸ë³„ ì¡°íšŒ
  - getAllTags(): ëª¨ë“  íƒœê·¸ ëª©ë¡
}
```

**íŠ¹ì§•**:
- ë§ˆí¬ë‹¤ìš´ íŒŒì¼ ê¸°ë°˜ ì €ì¥ (`doc-{id}.md`)
- JSON ì¸ë±ìŠ¤ë¡œ ë©”íƒ€ë°ì´í„° ê´€ë¦¬ (`index.json`)
- ì „ì²´ í…ìŠ¤íŠ¸ ê²€ìƒ‰ ì§€ì›
- íƒœê·¸ ê¸°ë°˜ ë¶„ë¥˜
- ë¬¸ì„œ ë¯¸ë¦¬ë³´ê¸° (ì²« 100ì)

#### 2. íŒŒì¼ êµ¬ì¡°

```
~/.open-cli/docs/
â”œâ”€â”€ index.json           # ë¬¸ì„œ ë©”íƒ€ë°ì´í„° ì¸ë±ìŠ¤
â”œâ”€â”€ doc-{id1}.md        # ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œ
â”œâ”€â”€ doc-{id2}.md
â””â”€â”€ doc-{id3}.md
```

**index.json êµ¬ì¡°**:
```json
{
  "version": "1.0.0",
  "documents": [
    {
      "id": "doc-1730640000000-abc123",
      "title": "TypeScript ê³ ê¸‰ íŒ¨í„´",
      "createdAt": "2025-11-03T15:00:00.000Z",
      "updatedAt": "2025-11-03T15:00:00.000Z",
      "tags": ["typescript", "patterns"],
      "contentLength": 1234,
      "filePath": "doc-1730640000000-abc123.md"
    }
  ]
}
```

#### 3. CLI docs ëª…ë ¹ì–´

**docs list** - ëª¨ë“  ë¬¸ì„œ ëª©ë¡:
```bash
$ open docs list

ğŸ“š ë¡œì»¬ ë¬¸ì„œ ëª©ë¡

  1. TypeScript ê³ ê¸‰ íŒ¨í„´
     ID: doc-1730640000000-abc123
     ìƒì„±: 2025. 11. 3. | ê¸¸ì´: 1234ì
     íƒœê·¸: typescript, patterns
     "TypeScriptì˜ ê³ ê¸‰ íƒ€ì… íŒ¨í„´ë“¤ì„ ì •ë¦¬í•œ ë¬¸ì„œ..."
```

**docs add** - ìƒˆ ë¬¸ì„œ ì¶”ê°€ (ì—ë””í„° ì—´ë¦¼):
```bash
$ open docs add

ğŸ“ ìƒˆ ë¬¸ì„œ ì¶”ê°€

? ë¬¸ì„œ ì œëª©: TypeScript ê³ ê¸‰ íŒ¨í„´
? ë¬¸ì„œ ë‚´ìš© (ì—ë””í„°ê°€ ì—´ë¦½ë‹ˆë‹¤):
  [ì—ë””í„° ì—´ë¦¼]
? íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„, ì„ íƒì‚¬í•­): typescript, patterns

âœ… ë¬¸ì„œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!
  ì œëª©: TypeScript ê³ ê¸‰ íŒ¨í„´
  ID: doc-1730640000000-abc123
  ê¸¸ì´: 1234ì
  íƒœê·¸: typescript, patterns
```

**docs view <id>** - ë¬¸ì„œ ë‚´ìš© ë³´ê¸°:
```bash
$ open docs view doc-1730640000000-abc123

ğŸ“„ TypeScript ê³ ê¸‰ íŒ¨í„´

ID: doc-1730640000000-abc123
ìƒì„±: 2025. 11. 3. ì˜¤í›„ 3:00:00
ìˆ˜ì •: 2025. 11. 3. ì˜¤í›„ 3:00:00
íƒœê·¸: typescript, patterns

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# TypeScript ê³ ê¸‰ íŒ¨í„´

...ë¬¸ì„œ ë‚´ìš©...

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

**docs search <query>** - ë¬¸ì„œ ê²€ìƒ‰:
```bash
$ open docs search typescript

ğŸ” ê²€ìƒ‰ ì¤‘: "typescript"

âœ… 2ê°œ ë¬¸ì„œ ë°œê²¬

  1. TypeScript ê³ ê¸‰ íŒ¨í„´
     ID: doc-1730640000000-abc123
     ìƒì„±: 2025. 11. 3.
     íƒœê·¸: typescript, patterns

  2. TypeScript ê¸°ì´ˆ
     ID: doc-1730639000000-def456
     ìƒì„±: 2025. 11. 3.
     íƒœê·¸: typescript, basics
```

**docs delete <id>** - ë¬¸ì„œ ì‚­ì œ:
```bash
$ open docs delete doc-1730640000000-abc123

âš ï¸  ë¬¸ì„œ ì‚­ì œ

  ì œëª©: TypeScript ê³ ê¸‰ íŒ¨í„´
  ìƒì„±: 2025. 11. 3.
  ê¸¸ì´: 1234ì

? ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? Yes

âœ… ë¬¸ì„œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤!
```

**docs tags** - ëª¨ë“  íƒœê·¸ ëª©ë¡:
```bash
$ open docs tags

ğŸ·ï¸  ëª¨ë“  íƒœê·¸

  1. typescript (3ê°œ ë¬¸ì„œ)
  2. patterns (2ê°œ ë¬¸ì„œ)
  3. api (1ê°œ ë¬¸ì„œ)

ì´ 3ê°œ íƒœê·¸
```

#### 4. Interactive Mode /docs ë©”íƒ€ ëª…ë ¹ì–´

```bash
$ open

? You: /docs

ğŸ“š ë¡œì»¬ ë¬¸ì„œ ëª©ë¡

  1. TypeScript ê³ ê¸‰ íŒ¨í„´
     ID: doc-1730640000000-abc123
     íƒœê·¸: typescript, patterns
     "TypeScriptì˜ ê³ ê¸‰ íƒ€ì… íŒ¨í„´ë“¤ì„ ì •ë¦¬í•œ ë¬¸ì„œ..."

ë¬¸ì„œ ë³´ê¸°: /docs view <id>
ë¬¸ì„œ ê²€ìƒ‰: /docs search <query>

? You: /docs search typescript

ğŸ” ê²€ìƒ‰ ê²°ê³¼: "typescript"

  1. TypeScript ê³ ê¸‰ íŒ¨í„´
     ID: doc-1730640000000-abc123

? You: /docs view doc-1730640000000-abc123

ğŸ“„ TypeScript ê³ ê¸‰ íŒ¨í„´

...ë¬¸ì„œ ë‚´ìš©...
```

#### 5. ê²€ìƒ‰ ê¸°ëŠ¥

**ê²€ìƒ‰ ë²”ìœ„**:
1. **ì œëª© ê²€ìƒ‰**: ì œëª©ì— ê²€ìƒ‰ì–´ í¬í•¨ (ëŒ€ì†Œë¬¸ì ë¬´ì‹œ)
2. **íƒœê·¸ ê²€ìƒ‰**: íƒœê·¸ì— ê²€ìƒ‰ì–´ í¬í•¨
3. **ë‚´ìš© ê²€ìƒ‰**: ì „ì²´ ë¬¸ì„œ ë‚´ìš©ì—ì„œ ê²€ìƒ‰

**ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜**:
- ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ìŒ (`toLowerCase()`)
- ë¶€ë¶„ ì¼ì¹˜ ì§€ì› (`includes()`)
- ì œëª© ë§¤ì¹˜ ìš°ì„  â†’ íƒœê·¸ ë§¤ì¹˜ â†’ ë‚´ìš© ë§¤ì¹˜ ìˆœì„œ

#### 6. ê¸°ìˆ ì  ê²°ì •

1. **ë§ˆí¬ë‹¤ìš´ ì €ì¥**:
   - ì‚¬ëŒì´ ì½ê³  í¸ì§‘ ê°€ëŠ¥
   - Gitìœ¼ë¡œ ë²„ì „ ê´€ë¦¬ ê°€ëŠ¥
   - ë‹¤ì–‘í•œ ë„êµ¬ë¡œ ë Œë”ë§ ê°€ëŠ¥

2. **ì¸ë±ìŠ¤ íŒŒì¼**:
   - ë¹ ë¥¸ ë©”íƒ€ë°ì´í„° ì¡°íšŒ
   - ì „ì²´ íŒŒì¼ ì½ì§€ ì•Šê³  ëª©ë¡ í‘œì‹œ
   - ê²€ìƒ‰ ìµœì í™”

3. **inquirer editor**:
   - ì‹œìŠ¤í…œ ê¸°ë³¸ ì—ë””í„° ì‚¬ìš© (vim, nano, VSCode ë“±)
   - ê¸´ ë¬¸ì„œ ì‘ì„±ì— ì í•©
   - ë‹¤ì¤‘ ë¼ì¸ ì…ë ¥ í¸ë¦¬

4. **ë¬¸ì„œ ID**:
   - `doc-{timestamp}-{random}` í˜•ì‹
   - ì¶©ëŒ ë°©ì§€
   - ì‹œê°„ìˆœ ì •ë ¬ ê°€ëŠ¥

**ì´ìŠˆ ë° í•´ê²°**:

1. **TypeScript metadata undefined ì—ëŸ¬**:
   - **ë¬¸ì œ**: `index.documents[metadataIndex]`ê°€ undefinedì¼ ìˆ˜ ìˆë‹¤ê³  ê²½ê³ 
   - **í•´ê²°**: Non-null assertion (`!`) ì‚¬ìš©, ëª…ì‹œì  íƒ€ì… ì„ ì–¸

   ```typescript
   const metadata: DocumentMetadata = index.documents[metadataIndex]!;
   ```

2. **forEachì—ì„œ await ì‚¬ìš© ë¶ˆê°€**:
   - **ë¬¸ì œ**: `tags.forEach()` ì•ˆì—ì„œ `await` ì‚¬ìš© ì‹œ ì—ëŸ¬
   - **í•´ê²°**: `for...of` ë£¨í”„ë¡œ ë³€ê²½

   ```typescript
   for (let index = 0; index < tags.length; index++) {
     const tag = tags[index]!;
     const docs = await documentManager.getDocumentsByTag(tag);
   }
   ```

3. **Unused variable**:
   - **ë¬¸ì œ**: `createdDate` ì„ ì–¸í–ˆì§€ë§Œ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
   - **í•´ê²°**: ë¶ˆí•„ìš”í•œ ë³€ìˆ˜ ì œê±°

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:

âœ… DocumentManager í´ë˜ìŠ¤ ìƒì„± ì„±ê³µ
âœ… docs list ì •ìƒ ë™ì‘ (ë¹ˆ ëª©ë¡ ì²˜ë¦¬)
âœ… docs add ëŒ€í™”í˜• ì¶”ê°€ ì •ìƒ (ì—ë””í„° ì§€ì›)
âœ… docs view ë¬¸ì„œ ë‚´ìš© í‘œì‹œ ì •ìƒ
âœ… docs search ê²€ìƒ‰ ê¸°ëŠ¥ ì •ìƒ
âœ… docs delete ì‚­ì œ í™•ì¸ í”„ë¡¬í”„íŠ¸ ì •ìƒ
âœ… docs tags íƒœê·¸ ëª©ë¡ ì •ìƒ
âœ… /docs ë©”íƒ€ ëª…ë ¹ì–´ ì •ìƒ (list, search, view)
âœ… TypeScript ì»´íŒŒì¼ ì„±ê³µ
âœ… ì¸ë±ìŠ¤ íŒŒì¼ ìë™ ìƒì„±/ì—…ë°ì´íŠ¸
âœ… ë§ˆí¬ë‹¤ìš´ íŒŒì¼ ì €ì¥/ì½ê¸° ì •ìƒ

**íŒŒì¼ ë³€ê²½**:
- `src/core/document-manager.ts` (ì‹ ê·œ) - DocumentManager í´ë˜ìŠ¤ (376ì¤„)
- `src/cli.ts` - docs ëª…ë ¹ì–´ 6ê°œ ì¶”ê°€, /docs ë©”íƒ€ ëª…ë ¹ì–´ ì¶”ê°€ (~370ì¤„ ì¶”ê°€)
- `README.md` - ë¡œì»¬ ë¬¸ì„œ ì‹œìŠ¤í…œ ì„¹ì…˜ ì¶”ê°€
- `PROGRESS.md` - Phase 2 75% ì™„ë£Œ

**Phase 2 ì§„í–‰ë¥ **: 50% â†’ 75%

---

### [COMPLETED] 2025-11-03 21:00: ëŒ€í™”í˜• ëª¨ë“œ (Interactive Mode) êµ¬í˜„

**ì‘ì—… ë‚´ìš©**:
1. npm linkë¡œ ê¸€ë¡œë²Œ `open` ëª…ë ¹ì–´ í™œì„±í™”
2. Interactive chat mode êµ¬í˜„
3. ì„¸ì…˜ ê´€ë¦¬ (ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬)
4. ë©”íƒ€ ëª…ë ¹ì–´ ì¶”ê°€ (/exit, /quit, /context, /clear, /help)
5. Context-aware ëŒ€í™” (ì´ì „ ëŒ€í™” ê¸°ì–µ)
6. README.md ì—…ë°ì´íŠ¸ (ì‚¬ìš© ê°€ì´ë“œ)

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] npm link ì„¤ì •ìœ¼ë¡œ `open` ëª…ë ¹ì–´ ê¸€ë¡œë²Œ ì‚¬ìš©
- [x] src/cli.ts program.action() ì™„ì „ ì¬ì‘ì„±
- [x] Message history ê´€ë¦¬ (messages ë°°ì—´)
- [x] Interactive loop êµ¬í˜„ (while + inquirer)
- [x] ë©”íƒ€ ëª…ë ¹ì–´ êµ¬í˜„:
  - [x] /exit, /quit - ì¢…ë£Œ
  - [x] /context - ëŒ€í™” íˆìŠ¤í† ë¦¬ ë³´ê¸°
  - [x] /clear - íˆìŠ¤í† ë¦¬ ì´ˆê¸°í™”
  - [x] /help - ë„ì›€ë§
- [x] Context-aware ì‘ë‹µ (LLMì´ ì´ì „ ëŒ€í™” ê¸°ì–µ)
- [x] Welcome banner ë° ì•ˆë‚´ ë©”ì‹œì§€
- [x] README.md ì—…ë°ì´íŠ¸ (Interactive Mode ì„¹ì…˜)
- [x] ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ ì™„ë£Œ

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. ê¸€ë¡œë²Œ ëª…ë ¹ì–´ í™œì„±í™”

package.jsonì˜ bin ì„¤ì •ì„ í™œìš©í•˜ì—¬ npm link ì‹¤í–‰:
```bash
npm link
# ì´ì œ 'open' ëª…ë ¹ì–´ë¡œ CLI ì‹œì‘ ê°€ëŠ¥
```

#### 2. Interactive Loop êµ¬í˜„

```typescript
// src/cli.ts
program.action(async () => {
  // ì´ˆê¸°í™” í™•ì¸
  const isInitialized = await configManager.isInitialized();
  if (!isInitialized) {
    console.log('âš ï¸  OPEN-CLIê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
    console.log('  $ open config init\n');
    return;
  }

  // Welcome banner
  console.log('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');
  console.log('â•‘                 OPEN-CLI Interactive Mode                  â•‘');
  console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');

  // Message history
  const messages: Message[] = [];

  // Interactive loop
  let running = true;
  while (running) {
    // inquirerë¡œ ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°
    const answer = await inquirer.prompt([...]);

    // ë©”íƒ€ ëª…ë ¹ì–´ ì²˜ë¦¬
    if (userMessage === '/exit' || userMessage === '/quit') {
      running = false;
      break;
    }

    // LLM í˜¸ì¶œ ë° ì‘ë‹µ
    messages.push({ role: 'user', content: userMessage });
    const response = await llmClient.chatCompletion({ messages });
    messages.push(response.choices[0].message);
  }
});
```

#### 3. ë©”íƒ€ ëª…ë ¹ì–´ êµ¬í˜„

| ëª…ë ¹ì–´ | ê¸°ëŠ¥ | ì„¤ëª… |
|--------|------|------|
| `/exit`, `/quit` | ì¢…ë£Œ | Interactive mode ì¢…ë£Œ |
| `/context` | íˆìŠ¤í† ë¦¬ ë³´ê¸° | í˜„ì¬ê¹Œì§€ì˜ ëŒ€í™” ë‚´ìš© ì¶œë ¥ (JSON) |
| `/clear` | íˆìŠ¤í† ë¦¬ ì´ˆê¸°í™” | ë©”ì‹œì§€ ë°°ì—´ ì´ˆê¸°í™” (ìƒˆë¡œìš´ ëŒ€í™” ì‹œì‘) |
| `/help` | ë„ì›€ë§ | ë©”íƒ€ ëª…ë ¹ì–´ ëª©ë¡ í‘œì‹œ |

#### 4. Context-aware ëŒ€í™”

LLMì—ê²Œ ì „ì²´ messages ë°°ì—´ì„ ì „ë‹¬í•˜ì—¬ ì´ì „ ëŒ€í™”ë¥¼ ê¸°ì–µ:
```typescript
// ê° ìš”ì²­ë§ˆë‹¤ ì „ì²´ íˆìŠ¤í† ë¦¬ ì „ì†¡
const response = await llmClient.chatCompletion({ messages });
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```bash
$ open

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 OPEN-CLI Interactive Mode                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ëª¨ë¸: gemini-2.0-flash
ì—”ë“œí¬ì¸íŠ¸: https://generativelanguage.googleapis.com/v1beta/openai/

ëª…ë ¹ì–´:
  /exit, /quit  - ì¢…ë£Œ
  /context      - ëŒ€í™” íˆìŠ¤í† ë¦¬ ë³´ê¸°
  /clear        - ëŒ€í™” íˆìŠ¤í† ë¦¬ ì´ˆê¸°í™”
  /help         - ë„ì›€ë§

? You: What is TypeScript?

ğŸ¤– Assistant: TypeScript is a strongly typed programming language...

? You: Can you give me an example?

ğŸ¤– Assistant: Sure! Here's an example... (ì´ì „ ì§ˆë¬¸ ê¸°ì–µ)

? You: /exit
ğŸ‘‹ Goodbye!
```

**ê¸°ìˆ ì  ê²°ì •**:

1. **inquirer ì‚¬ìš©**: ì´ë¯¸ dependenciesì— ìˆì–´ ì¶”ê°€ ì„¤ì¹˜ ë¶ˆí•„ìš”
2. **In-memory history**: í˜„ì¬ëŠ” ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥ (Phase 2ì—ì„œ ì„¸ì…˜ íŒŒì¼ ì €ì¥ ì˜ˆì •)
3. **Meta command prefix**: `/` ì‚¬ìš©í•˜ì—¬ ì¼ë°˜ ë©”ì‹œì§€ì™€ ëª…í™•íˆ êµ¬ë¶„
4. **Global command**: npm linkë¡œ ê°œë°œì ì¹œí™”ì ì¸ UX ì œê³µ

**ì´ìŠˆ ë° í•´ê²°**:

1. **ì´ìŠˆ**: npm link ì—†ì´ëŠ” `node dist/cli.js`ë¡œ ì‹¤í–‰í•´ì•¼ í•¨
   - **í•´ê²°**: npm link ì‹¤í–‰ ë° READMEì— ì•ˆë‚´ ì¶”ê°€

2. **ì´ìŠˆ**: Context ë„ˆë¬´ ê¸¸ì–´ì§€ë©´ token limit ì´ˆê³¼ ê°€ëŠ¥
   - **í˜„ì¬ ìƒíƒœ**: `/clear` ëª…ë ¹ì–´ë¡œ ìˆ˜ë™ ì´ˆê¸°í™”
   - **í–¥í›„ ê°œì„ **: ìë™ context window ê´€ë¦¬ (Phase 2)

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:

âœ… `open` ëª…ë ¹ì–´ë¡œ ì‹¤í–‰
âœ… Interactive loop ì •ìƒ ì‘ë™
âœ… ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ ì •ìƒ ì €ì¥
âœ… LLMì´ ì´ì „ ëŒ€í™” ê¸°ì–µ
âœ… ëª¨ë“  ë©”íƒ€ ëª…ë ¹ì–´ ì •ìƒ ì‘ë™
âœ… /contextë¡œ íˆìŠ¤í† ë¦¬ í™•ì¸ ê°€ëŠ¥
âœ… /clearë¡œ ì´ˆê¸°í™” ê°€ëŠ¥
âœ… /exitë¡œ ì •ìƒ ì¢…ë£Œ

**íŒŒì¼ ë³€ê²½**:
- `src/cli.ts`: program.action() ì™„ì „ ì¬ì‘ì„±
- `README.md`: Interactive Mode ì„¹ì…˜ ì¶”ê°€
- `PROGRESS.md`: Phase 1 ì™„ë£Œ (80% â†’ 100%)

---

### [COMPLETED] 2025-11-03 19:00: íŒŒì¼ ì‹œìŠ¤í…œ ë„êµ¬ (LLM Tools) êµ¬í˜„

**ì‘ì—… ë‚´ìš©**:
1. File Tools êµ¬í˜„ (read_file, write_file, list_files, find_files)
2. LLMClientì— Tool Calling ì§€ì› ì¶”ê°€
3. `open tools` ëª…ë ¹ì–´ ì¶”ê°€
4. OpenAI Function Calling íŒ¨í„´ êµ¬í˜„
5. ë°˜ë³µì  tool call ì²˜ë¦¬ (ìµœëŒ€ 5íšŒ)

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] src/tools/ ë””ë ‰í† ë¦¬ ìƒì„±
- [x] file-tools.ts êµ¬í˜„ (4ê°€ì§€ ë„êµ¬)
- [x] ToolDefinition íƒ€ì… ì •ì˜ (JSON Schema)
- [x] Tool ì‹¤í–‰ í•¨ìˆ˜ êµ¬í˜„
- [x] LLMClient.sendMessageWithTools() ì¶”ê°€
- [x] Tool call ë£¨í”„ êµ¬í˜„
- [x] CLI tools ëª…ë ¹ì–´ ì¶”ê°€
- [x] Help ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
- [x] ë¹Œë“œ í…ŒìŠ¤íŠ¸ (tsc ì»´íŒŒì¼ ì„±ê³µ)

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. íŒŒì¼ ë„êµ¬ 4ê°€ì§€

**read_file**:
```typescript
// íŒŒì¼ ë‚´ìš© ì½ê¸°
{
  name: 'read_file',
  parameters: {
    file_path: string  // ì ˆëŒ€/ìƒëŒ€ ê²½ë¡œ
  }
}
```

**write_file**:
```typescript
// íŒŒì¼ ì“°ê¸° (ë®ì–´ì“°ê¸°)
{
  name: 'write_file',
  parameters: {
    file_path: string,
    content: string
  }
}
```

**list_files**:
```typescript
// ë””ë ‰í† ë¦¬ ëª©ë¡
{
  name: 'list_files',
  parameters: {
    directory_path?: string,  // ê¸°ë³¸ê°’: '.'
    recursive?: boolean       // ê¸°ë³¸ê°’: false
  }
}
```

**find_files**:
```typescript
// íŒŒì¼ ê²€ìƒ‰ (glob íŒ¨í„´)
{
  name: 'find_files',
  parameters: {
    pattern: string,           // ì˜ˆ: *.ts, package.json
    directory_path?: string    // ê¸°ë³¸ê°’: '.'
  }
}
```

#### 2. Tool Calling êµ¬í˜„

**LLMClient.sendMessageWithTools()**:
```typescript
async sendMessageWithTools(
  userMessage: string,
  tools: ToolDefinition[],
  systemPrompt?: string,
  maxIterations: number = 5
): Promise<{
  response: string;
  toolCalls: Array<{
    tool: string;
    args: unknown;
    result: string;
  }>;
}>
```

**ë™ì‘ íë¦„**:
1. ì‚¬ìš©ì ë©”ì‹œì§€ + toolsë¥¼ LLMì— ì „ë‹¬
2. LLMì´ tool_calls ë°˜í™˜
3. Tool ì‹¤í–‰ (executeFileTool)
4. ê²°ê³¼ë¥¼ role='tool'ë¡œ LLMì— ì „ë‹¬
5. LLMì´ ì¶”ê°€ tool_calls ë˜ëŠ” ìµœì¢… ì‘ë‹µ ë°˜í™˜
6. ìµœëŒ€ 5íšŒ ë°˜ë³µ

**ì˜ˆì‹œ**:
```
User: "í˜„ì¬ ë””ë ‰í† ë¦¬ì˜ TypeScript íŒŒì¼ ëª©ë¡ì„ ì•Œë ¤ì¤˜"
  â†“
LLM: tool_call(find_files, { pattern: "*.ts" })
  â†“
Tool: [íŒŒì¼ ëª©ë¡]
  â†“
LLM: "í˜„ì¬ ë””ë ‰í† ë¦¬ì— ë‹¤ìŒ TypeScript íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤: ..."
```

#### 3. CLI tools ëª…ë ¹ì–´

**ì‚¬ìš©ë²•**:
```bash
# íŒŒì¼ ë„êµ¬ ì‚¬ìš©
$ node dist/cli.js tools "í˜„ì¬ ë””ë ‰í† ë¦¬ì— ì–´ë–¤ íŒŒì¼ì´ ìˆì–´?"

ğŸ› ï¸  OPEN-CLI Tools Mode

ëª¨ë¸: gemini-2.0-flash
ì—”ë“œí¬ì¸íŠ¸: https://...
ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬: read_file, write_file, list_files, find_files

â ‹ LLM ì‘ì—… ì¤‘...

ğŸ”§ ì‚¬ìš©ëœ ë„êµ¬:

  1. list_files
     Args: {"directory_path":".","recursive":false}
     Result: [...]

ğŸ¤– Assistant:
í˜„ì¬ ë””ë ‰í† ë¦¬ì—ëŠ” ë‹¤ìŒ íŒŒì¼ë“¤ì´ ìˆìŠµë‹ˆë‹¤:
- package.json
- tsconfig.json
- src/
- dist/
...
```

#### 4. ì—ëŸ¬ ì²˜ë¦¬

**íŒŒì¼ ë„êµ¬ ì—ëŸ¬**:
```typescript
export interface ToolExecutionResult {
  success: boolean;
  result?: string;
  error?: string;
}
```

**ì—ëŸ¬ íƒ€ì…**:
- `ENOENT`: íŒŒì¼/ë””ë ‰í† ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
- `EACCES`: ê¶Œí•œ ì—†ìŒ
- ê¸°íƒ€: ì¼ë°˜ ì—ëŸ¬ ë©”ì‹œì§€

**ì—ëŸ¬ ì „ë‹¬**:
```typescript
// Tool ì‹¤í–‰ ì‹¤íŒ¨ ì‹œ
messages.push({
  role: 'tool',
  content: `Error: ${result.error}`,
  tool_call_id: toolCall.id,
});
```

#### 5. íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ index.ts           # Export all
â”‚   â””â”€â”€ file-tools.ts      # File system tools
â”‚       â”œâ”€â”€ READ_FILE_TOOL
â”‚       â”œâ”€â”€ WRITE_FILE_TOOL
â”‚       â”œâ”€â”€ LIST_FILES_TOOL
â”‚       â”œâ”€â”€ FIND_FILES_TOOL
â”‚       â”œâ”€â”€ executeReadFile()
â”‚       â”œâ”€â”€ executeWriteFile()
â”‚       â”œâ”€â”€ executeListFiles()
â”‚       â”œâ”€â”€ executeFindFiles()
â”‚       â””â”€â”€ executeFileTool()  # Router
```

#### 6. ê¸°ìˆ ì  ê²°ì • ì‚¬í•­

1. **OpenAI Function Calling íŒ¨í„´ ì¤€ìˆ˜**:
   - ToolDefinition (JSON Schema)
   - tool_calls ë°°ì—´
   - role='tool' ë©”ì‹œì§€

2. **ì¬ê·€ì  tool call**:
   - LLMì´ ì—¬ëŸ¬ ë„êµ¬ë¥¼ ì—°ì†ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥
   - ìµœëŒ€ 5íšŒ ì œí•œ (ë¬´í•œ ë£¨í”„ ë°©ì§€)

3. **Glob íŒ¨í„´ ì§€ì›**:
   - `*.ts` â†’ `.*\.ts`
   - `**/*.json` â†’ ì¬ê·€ ê²€ìƒ‰

4. **ìë™ ë””ë ‰í† ë¦¬ ìƒì„±**:
   - write_file ì‹œ ë¶€ëª¨ ë””ë ‰í† ë¦¬ ìë™ ìƒì„±
   - `mkdir -p` ë™ì‘

5. **ìƒëŒ€ ê²½ë¡œ ì§€ì›**:
   - `path.resolve()`ë¡œ ì ˆëŒ€ ê²½ë¡œ ë³€í™˜
   - í˜„ì¬ ì‘ì—… ë””ë ‰í† ë¦¬ ê¸°ì¤€

#### 7. í…ŒìŠ¤íŠ¸ ê²°ê³¼

**ë¹Œë“œ í…ŒìŠ¤íŠ¸**:
```bash
$ npm run build
âœ… ì„±ê³µ (ì—ëŸ¬ ì—†ìŒ)
```

**Help ì¶œë ¥**:
```bash
$ node dist/cli.js help
...
ë„êµ¬ ëª…ë ¹ì–´:
  open tools "ë©”ì‹œì§€"      íŒŒì¼ ì‹œìŠ¤í…œ ë„êµ¬ ì‚¬ìš©
    ì‚¬ìš© ê°€ëŠ¥: read_file, write_file, list_files, find_files
âœ… ì •ìƒ í‘œì‹œ
```

#### 8. ì‚¬ìš© ì˜ˆì‹œ

**ì˜ˆì‹œ 1: íŒŒì¼ ì½ê¸°**
```bash
$ open tools "package.json íŒŒì¼ì˜ ë‚´ìš©ì„ ìš”ì•½í•´ì¤˜"
# LLMì´ read_file(package.json) â†’ ë‚´ìš© ìš”ì•½
```

**ì˜ˆì‹œ 2: íŒŒì¼ ê²€ìƒ‰**
```bash
$ open tools "src ë””ë ‰í† ë¦¬ì—ì„œ TypeScript íŒŒì¼ì„ ì°¾ì•„ì¤˜"
# LLMì´ find_files("*.ts", "src") â†’ íŒŒì¼ ëª©ë¡
```

**ì˜ˆì‹œ 3: íŒŒì¼ ì“°ê¸°**
```bash
$ open tools "test.txt íŒŒì¼ì— 'Hello World'ë¥¼ ì¨ì¤˜"
# LLMì´ write_file("test.txt", "Hello World")
```

**ì˜ˆì‹œ 4: ë³µí•© ì‘ì—…**
```bash
$ open tools "í˜„ì¬ ë””ë ‰í† ë¦¬ì˜ ëª¨ë“  .ts íŒŒì¼ ëª©ë¡ì„ files.txtì— ì €ì¥í•´ì¤˜"
# LLMì´:
# 1. find_files("*.ts")
# 2. write_file("files.txt", [ëª©ë¡])
```

#### 9. ì œí•œì‚¬í•­

1. **í…ìŠ¤íŠ¸ íŒŒì¼ë§Œ ì§€ì›**:
   - ë°”ì´ë„ˆë¦¬ íŒŒì¼ì€ ì½ê¸° ë¶ˆê°€
   - UTF-8 ì¸ì½”ë”© ê°€ì •

2. **ê¶Œí•œ ì œí•œ**:
   - ì‚¬ìš©ì ê¶Œí•œì— ë”°ë¼ ì œí•œ
   - ì‹œìŠ¤í…œ íŒŒì¼ ì ‘ê·¼ ë¶ˆê°€

3. **ë„êµ¬ ë°˜ë³µ íšŸìˆ˜**:
   - ìµœëŒ€ 5íšŒ tool call
   - ë³µì¡í•œ ì‘ì—…ì€ ë‚˜ëˆ ì„œ ìˆ˜í–‰ í•„ìš”

4. **Glob íŒ¨í„´**:
   - ê°„ë‹¨í•œ íŒ¨í„´ë§Œ ì§€ì› (*,?)
   - ë³µì¡í•œ ì •ê·œì‹ì€ ë¯¸ì§€ì›

**ì´ìŠˆ ë° í•´ê²° ë°©ë²•**: ì—†ìŒ

**í•™ìŠµ ë‚´ìš©**:
- OpenAI Function Calling: LLMì´ ì™¸ë¶€ ë„êµ¬ ì‚¬ìš© ê°€ëŠ¥
- Tool Calling Loop: ë°˜ë³µì ìœ¼ë¡œ ë„êµ¬ í˜¸ì¶œí•˜ì—¬ ë³µì¡í•œ ì‘ì—… ìˆ˜í–‰
- Dynamic Import: ìˆœí™˜ ì˜ì¡´ì„± ë°©ì§€ë¥¼ ìœ„í•´ ë™ì  import ì‚¬ìš©
- JSON Schema: Tool íŒŒë¼ë¯¸í„°ë¥¼ ëª…í™•íˆ ì •ì˜
- Error Propagation: Tool ì—ëŸ¬ë¥¼ LLMì— ì „ë‹¬í•˜ì—¬ ëŒ€ì‘ ê°€ëŠ¥

**ë‹¤ìŒ ë‹¨ê³„**:
- ì¶”ê°€ ë„êµ¬ êµ¬í˜„ (ë„¤íŠ¸ì›Œí¬, ë°ì´í„°ë² ì´ìŠ¤ ë“±)
- ë„êµ¬ ê¶Œí•œ ì‹œìŠ¤í…œ (ì‚¬ìš©ì ìŠ¹ì¸)
- ë„êµ¬ ì‚¬ìš© ë‚´ì—­ ë¡œê¹…

---

### [COMPLETED] 2025-11-03 18:00: ë³´ì•ˆ ê°œì„  - Interactive Init & Health Check

**ì‘ì—… ë‚´ìš©**:
1. í•˜ë“œì½”ë”©ëœ API í‚¤ ì œê±° (ë³´ì•ˆ ê°œì„ )
2. config initì„ ëŒ€í™”í˜•ìœ¼ë¡œ ë³€ê²½ (inquirer ì‚¬ìš©)
3. ì—”ë“œí¬ì¸íŠ¸ ì—°ê²° í…ŒìŠ¤íŠ¸ (Health Check) ì¶”ê°€
4. HTTP/HTTPS ì—”ë“œí¬ì¸íŠ¸ ëª¨ë‘ ì§€ì›
5. ì‚¬ìš©ìê°€ ì§ì ‘ API í‚¤ ì…ë ¥í•˜ë„ë¡ ë³€ê²½
6. ëª¨ë“  ë¬¸ì„œì—ì„œ ë…¸ì¶œëœ API í‚¤ ì œê±°

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] config-manager.tsì—ì„œ í•˜ë“œì½”ë”©ëœ API í‚¤ ì œê±°
- [x] LLMClientì— ì •ì  testConnection ë©”ì„œë“œ ì¶”ê°€
- [x] cli.ts config initì„ inquirer ê¸°ë°˜ ëŒ€í™”í˜•ìœ¼ë¡œ ë³€ê²½
- [x] HTTP/HTTPS URL ê²€ì¦ ì¶”ê°€
- [x] API í‚¤ ì…ë ¥ (password ëª¨ë“œ)
- [x] ì—°ê²° í…ŒìŠ¤íŠ¸ í›„ ì €ì¥
- [x] PROGRESS.mdì—ì„œ API í‚¤ ì œê±°
- [x] ë¹Œë“œ í…ŒìŠ¤íŠ¸ (tsc ì»´íŒŒì¼ ì„±ê³µ)
- [x] ê¸°ë³¸ ë™ì‘ í…ŒìŠ¤íŠ¸ (ì´ˆê¸°í™” ì „ ìƒíƒœ)

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. ë³€ê²½ëœ íŒŒì¼ ëª©ë¡
- **src/core/config-manager.ts**: DEFAULT_GEMINI_ENDPOINT ì œê±°, ë¹ˆ ì„¤ì •ìœ¼ë¡œ ì‹œì‘, createInitialEndpoint() ì¶”ê°€
- **src/core/llm-client.ts**: static testConnection() ì¶”ê°€ (health check)
- **src/cli.ts**: config initì„ inquirer ê¸°ë°˜ ëŒ€í™”í˜•ìœ¼ë¡œ ì™„ì „íˆ ì¬ì‘ì„±
- **PROGRESS.md**: API í‚¤ ì°¸ì¡° ì œê±°

#### 2. Interactive Init í”„ë¡œì„¸ìŠ¤

ì‚¬ìš©ìê°€ `open config init` ì‹¤í–‰ ì‹œ:
1. ì—”ë“œí¬ì¸íŠ¸ ì´ë¦„ ì…ë ¥
2. Base URL ì…ë ¥ (HTTP/HTTPS ê²€ì¦)
3. API Key ì…ë ¥ (password ëª¨ë“œ, ì„ íƒì‚¬í•­)
4. Model ID ì…ë ¥
5. Model ì´ë¦„ ì…ë ¥ (í‘œì‹œìš©)
6. Max Tokens ì…ë ¥
7. **ì—°ê²° í…ŒìŠ¤íŠ¸** (ì‹¤ì œ API í˜¸ì¶œë¡œ í™•ì¸)
8. ì„±ê³µ ì‹œ ì„¤ì • ì €ì¥

**ì…ë ¥ ì˜ˆì‹œ**:
```bash
$ node dist/cli.js config init

ğŸš€ OPEN-CLI ì´ˆê¸°í™”

ì—”ë“œí¬ì¸íŠ¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”:

? ì—”ë“œí¬ì¸íŠ¸ ì´ë¦„: My LLM Endpoint
? Base URL (HTTP/HTTPS): https://generativelanguage.googleapis.com/v1beta/openai/
? API Key (ì„ íƒì‚¬í•­, Enter í‚¤ ì…ë ¥ ì‹œ ìŠ¤í‚µ): ********
? Model ID: gemini-2.0-flash
? Model ì´ë¦„ (í‘œì‹œìš©): Gemini 2.0 Flash
? Max Tokens: 1048576

ğŸ” ì—”ë“œí¬ì¸íŠ¸ ì—°ê²° í…ŒìŠ¤íŠ¸ ì¤‘...

âœ” ì—°ê²° ì„±ê³µ!

âœ… ì´ˆê¸°í™” ì™„ë£Œ!
```

#### 3. Health Check ë©”ì„œë“œ

**LLMClient.testConnection()**:
```typescript
static async testConnection(
  baseUrl: string,
  apiKey: string,
  model: string
): Promise<{ success: boolean; error?: string }>
```

**ë™ì‘**:
- ì‹¤ì œ `/chat/completions` API í˜¸ì¶œ (test ë©”ì‹œì§€)
- 30ì´ˆ íƒ€ì„ì•„ì›ƒ
- ìƒì„¸í•œ ì—ëŸ¬ ë©”ì‹œì§€:
  - 401: API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
  - 404: ì—”ë“œí¬ì¸íŠ¸ ë˜ëŠ” ëª¨ë¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤
  - ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬: ì—”ë“œí¬ì¸íŠ¸ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤

#### 4. HTTP/HTTPS ì§€ì›

**URL ê²€ì¦**:
```typescript
validate: (input: string) => {
  const trimmed = input.trim();
  if (!trimmed.startsWith('http://') && !trimmed.startsWith('https://')) {
    return 'URLì€ http:// ë˜ëŠ” https://ë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.';
  }
  return true;
}
```

**ì§€ì› í™˜ê²½**:
- âœ… HTTPS: Gemini, OpenAI ë“± í´ë¼ìš°ë“œ API
- âœ… HTTP: LiteLLM, Ollama ë“± ë¡œì»¬ ì„œë²„

#### 5. ë³´ì•ˆ ê°œì„ 

**ë³€ê²½ ì „**:
```typescript
const DEFAULT_GEMINI_ENDPOINT: EndpointConfig = {
  apiKey: 'AIzaSyAZWTQSWpv7SwK2WeIE28Oy3tjHDE4b5GI', // âŒ í•˜ë“œì½”ë”©
  // ...
};
```

**ë³€ê²½ í›„**:
```typescript
const DEFAULT_CONFIG: OpenConfig = {
  endpoints: [], // âœ… ë¹ˆ ë°°ì—´ë¡œ ì‹œì‘
  // ...
};
```

**API í‚¤ ì…ë ¥**:
```typescript
{
  type: 'password',
  name: 'apiKey',
  message: 'API Key (ì„ íƒì‚¬í•­, Enter í‚¤ ì…ë ¥ ì‹œ ìŠ¤í‚µ):',
  mask: '*', // âœ… ì…ë ¥ ì‹œ ë§ˆìŠ¤í‚¹
}
```

#### 6. ConfigManager ê°œì„ 

**ìƒˆ ë©”ì„œë“œ**:
```typescript
hasEndpoints(): boolean
createInitialEndpoint(endpoint: EndpointConfig): Promise<void>
```

**removeEndpoint ë¡œì§ ê°œì„ **:
- ê¸°ë³¸ ì—”ë“œí¬ì¸íŠ¸ ê°œë… ì œê±°
- ì‚­ì œ ì‹œ ìë™ìœ¼ë¡œ ì²« ë²ˆì§¸ ì—”ë“œí¬ì¸íŠ¸ë¡œ ì „í™˜
- ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ ì‚­ì œ ê°€ëŠ¥

#### 7. í…ŒìŠ¤íŠ¸ ê²°ê³¼

**ë¹Œë“œ í…ŒìŠ¤íŠ¸**:
```bash
$ npm run build
âœ… ì„±ê³µ (ì—ëŸ¬ ì—†ìŒ)
```

**ì´ˆê¸°í™” ì „ ìƒíƒœ**:
```bash
$ node dist/cli.js config show
âš ï¸  OPEN-CLIê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
ì´ˆê¸°í™”: open config init
âœ… ì •ìƒ ë™ì‘
```

**Help ì¶œë ¥**:
```bash
$ node dist/cli.js help
...
ì„¤ì • ëª…ë ¹ì–´:
  open config init  OPEN-CLI ì´ˆê¸°í™” (ì—”ë“œí¬ì¸íŠ¸ ì„¤ì • ë° ì—°ê²° í™•ì¸)
âœ… ì„¤ëª… ì—…ë°ì´íŠ¸ë¨
```

#### 8. ê¸°ìˆ ì  ê²°ì • ì‚¬í•­

1. **inquirer ì‚¬ìš©**:
   - ì´ë¯¸ package.jsonì— í¬í•¨ë¨
   - ê²€ì¦ ê¸°ëŠ¥ (validate) ë‚´ì¥
   - password íƒ€ì… ì§€ì›

2. **ì •ì  testConnection ë©”ì„œë“œ**:
   - ConfigManager ì´ˆê¸°í™” ì „ì—ë„ ì‚¬ìš© ê°€ëŠ¥
   - ë…ë¦½ì ì¸ ì—°ê²° í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

3. **ì„ íƒì  API Key**:
   - ì¼ë¶€ ë¡œì»¬ LLM (Ollama ë“±)ì€ API í‚¤ ë¶ˆí•„ìš”
   - ë¹ˆ ë¬¸ìì—´ í—ˆìš©

4. **ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹œì **:
   - ì„¤ì • ì €ì¥ **ì „**ì— í…ŒìŠ¤íŠ¸
   - ì‹¤íŒ¨ ì‹œ ì €ì¥í•˜ì§€ ì•ŠìŒ (ì›ìì„±)

**ì´ìŠˆ ë° í•´ê²° ë°©ë²•**:

1. **DEFAULT_ENDPOINT_ID ì‚¬ìš©**:
   - ë¬¸ì œ: ê¸°ë³¸ ì—”ë“œí¬ì¸íŠ¸ ì œê±° í›„ì—ë„ ì‚¬ìš©ë¨
   - í•´ê²°: removeEndpoint ë¡œì§ ìˆ˜ì •, ì²« ë²ˆì§¸ ì—”ë“œí¬ì¸íŠ¸ë¡œ ìë™ ì „í™˜

2. **TypeScript ì»´íŒŒì¼ ì—ëŸ¬**:
   - ë¬¸ì œ: DEFAULT_MODEL_ID ë¯¸ì‚¬ìš© ê²½ê³ 
   - í•´ê²°: importì—ì„œ ì œê±°

**í•™ìŠµ ë‚´ìš©**:
- ë³´ì•ˆ: í•˜ë“œì½”ë”©ëœ credentialsëŠ” ì ˆëŒ€ ê¸ˆì§€
- UX: ëŒ€í™”í˜• CLIëŠ” ì‚¬ìš©ì ì¹œí™”ì 
- Validation: ì…ë ¥ ê²€ì¦ì€ ì´ˆê¸°ì— ìˆ˜í–‰ (fail-fast)
- Health Check: ì„¤ì • ì €ì¥ ì „ ì—°ê²° í…ŒìŠ¤íŠ¸ë¡œ ì‹ ë¢°ì„± í–¥ìƒ
- Static Methods: ConfigManager ì´ˆê¸°í™” ì „ì—ë„ ì‚¬ìš© ê°€ëŠ¥í•œ ìœ í‹¸ë¦¬í‹°

---

### [COMPLETED] 2025-11-03 17:00: í”„ë¡œì íŠ¸ ë¦¬ë¸Œëœë”© (A2G-CLI â†’ OPEN-CLI)

**ì‘ì—… ë‚´ìš©**:
1. í”„ë¡œì íŠ¸ëª… ë³€ê²½: A2G-CLI â†’ OPEN-CLI
2. GitHub ì €ì¥ì†Œ ì—…ë°ì´íŠ¸: https://github.com/HanSyngha/open-cli
3. ì—°ë½ì²˜ ì¶”ê°€: gkstmdgk2731@naver.com
4. ëª¨ë“  íŒŒì¼ì˜ A2G ì°¸ì¡°ë¥¼ OPENìœ¼ë¡œ ë³€ê²½
5. ë””ë ‰í† ë¦¬ ê²½ë¡œ ë³€ê²½: ~/.a2g-cli/ â†’ ~/.open-cli/
6. íƒ€ì…ëª… ë³€ê²½: A2GConfig â†’ OpenConfig
7. ìƒìˆ˜ëª… ë³€ê²½: A2G_HOME_DIR â†’ OPEN_HOME_DIR
8. CLI ëª…ë ¹ì–´ ë³€ê²½: a2g â†’ open

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] package.json ì—…ë°ì´íŠ¸ (name, description, bin, author)
- [x] src/constants.ts ì—…ë°ì´íŠ¸ (í™ˆ ë””ë ‰í† ë¦¬, ì•± ì´ë¦„)
- [x] src/types/index.ts ì—…ë°ì´íŠ¸ (A2GConfig â†’ OpenConfig)
- [x] src/core/config-manager.ts ì—…ë°ì´íŠ¸ (íƒ€ì…, ìƒìˆ˜, ì£¼ì„)
- [x] src/cli.ts ì—…ë°ì´íŠ¸ (í”„ë¡œê·¸ë¨ëª…, ë©”ì‹œì§€, GitHub URL)
- [x] README.md ì—…ë°ì´íŠ¸ (ì „ì²´ ë¦¬ë¸Œëœë”©, GitHub URL, ì—°ë½ì²˜)
- [x] PROGRESS.md ì—…ë°ì´íŠ¸ (ëª¨ë“  ì°¸ì¡° ë³€ê²½)
- [x] ë¹Œë“œ í…ŒìŠ¤íŠ¸ (tsc ì»´íŒŒì¼ ì„±ê³µ)
- [x] ESLint í…ŒìŠ¤íŠ¸ (ë¦°íŒ… í†µê³¼)
- [x] CLI ë™ì‘ í…ŒìŠ¤íŠ¸ (help, config show)

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. ë³€ê²½ëœ íŒŒì¼ ëª©ë¡
- **package.json**: í”„ë¡œì íŠ¸ëª…, ì„¤ëª…, bin ëª…ë ¹ì–´, ì‘ì„±ì
- **src/constants.ts**: OPEN_HOME_DIR, APP_NAME, ì£¼ì„
- **src/types/index.ts**: OpenConfig íƒ€ì…
- **src/core/config-manager.ts**: OpenConfig íƒ€ì… ì‚¬ìš©, OPEN_HOME_DIR ì‚¬ìš©
- **src/cli.ts**: í”„ë¡œê·¸ë¨ëª… 'open', ëª¨ë“  ë©”ì‹œì§€, GitHub URL
- **README.md**: ì „ì²´ í”„ë¡œì íŠ¸ ì„¤ëª…, GitHub URL, ì—°ë½ì²˜
- **PROGRESS.md**: ëª¨ë“  A2G ì°¸ì¡° ì¼ê´„ ë³€ê²½

#### 2. ì£¼ìš” ë³€ê²½ì‚¬í•­

**ë””ë ‰í† ë¦¬ êµ¬ì¡°**:
```
ë³€ê²½ ì „: ~/.a2g-cli/
ë³€ê²½ í›„: ~/.open-cli/
```

**CLI ëª…ë ¹ì–´**:
```bash
# ë³€ê²½ ì „
$ a2g config init
$ a2g chat "ë©”ì‹œì§€"

# ë³€ê²½ í›„
$ open config init
$ open chat "ë©”ì‹œì§€"
```

**íƒ€ì… ì •ì˜**:
```typescript
// ë³€ê²½ ì „
export interface A2GConfig { ... }

// ë³€ê²½ í›„
export interface OpenConfig { ... }
```

**ìƒìˆ˜**:
```typescript
// ë³€ê²½ ì „
export const A2G_HOME_DIR = path.join(os.homedir(), '.a2g-cli');
export const APP_NAME = 'A2G-CLI';

// ë³€ê²½ í›„
export const OPEN_HOME_DIR = path.join(os.homedir(), '.open-cli');
export const APP_NAME = 'OPEN-CLI';
```

#### 3. í…ŒìŠ¤íŠ¸ ê²°ê³¼

**ë¹Œë“œ í…ŒìŠ¤íŠ¸**:
```bash
$ npm run build
> open-cli@0.1.0 build
> tsc
âœ… ì„±ê³µ (ì—ëŸ¬ ì—†ìŒ)
```

**ESLint í…ŒìŠ¤íŠ¸**:
```bash
$ npm run lint
> open-cli@0.1.0 lint
> eslint src/**/*.ts
âœ… ì„±ê³µ (ì—ëŸ¬ ì—†ìŒ)
```

**CLI ë™ì‘ í…ŒìŠ¤íŠ¸**:
```bash
$ node dist/cli.js help
ğŸ“š OPEN-CLI ë„ì›€ë§
ì‚¬ìš©ë²•: open [command] [options]
...
âœ… ì •ìƒ ë™ì‘

$ node dist/cli.js config show
âš ï¸  OPEN-CLIê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
ì´ˆê¸°í™”: open config init
âœ… ì •ìƒ ë™ì‘
```

#### 4. ê¸°ìˆ ì  ê²°ì • ì‚¬í•­

1. **ì¼ê´„ ë³€ê²½ ì „ëµ**:
   - Edit ë„êµ¬ì˜ `replace_all: true` ì˜µì…˜ í™œìš©
   - ì „ì²´ í”„ë¡œì íŠ¸ì—ì„œ ì¼ê´€ì„± ìœ ì§€
   - 757ì¤„ì˜ PROGRESS.mdë„ íš¨ìœ¨ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸

2. **í•˜ìœ„ í˜¸í™˜ì„±**:
   - ê¸°ì¡´ ~/.a2g-cli/ ë””ë ‰í† ë¦¬ëŠ” ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ ì—†ìŒ
   - ì‚¬ìš©ìê°€ ìˆ˜ë™ìœ¼ë¡œ `open config init` ì‹¤í–‰ í•„ìš”

3. **Git ì €ì¥ì†Œ**:
   - ìƒˆ ì €ì¥ì†Œ: https://github.com/HanSyngha/open-cli
   - ëª¨ë“  ë¬¸ì„œì— ìƒˆ URL ë°˜ì˜

4. **ì—°ë½ì²˜ ì •ë³´**:
   - ì´ë©”ì¼: gkstmdgk2731@naver.com
   - README.md íŒ€ ì„¹ì…˜ì— ì¶”ê°€

**ì´ìŠˆ ë° í•´ê²° ë°©ë²•**: ì—†ìŒ

**í•™ìŠµ ë‚´ìš©**:
- í”„ë¡œì íŠ¸ ì „ì²´ ë¦¬ë¸Œëœë”© ì‹œ ì²´ê³„ì ì¸ ì ‘ê·¼ í•„ìš”
- replace_all ì˜µì…˜ìœ¼ë¡œ ëŒ€ê·œëª¨ íŒŒì¼ íš¨ìœ¨ì  ì—…ë°ì´íŠ¸
- TypeScript íƒ€ì…ëª… ë³€ê²½ ì‹œ ëª¨ë“  import ë¬¸ë„ ìë™ ì—…ë°ì´íŠ¸ë¨
- ë¹Œë“œ/ë¦°íŠ¸ í…ŒìŠ¤íŠ¸ë¡œ ë³€ê²½ì‚¬í•­ ê²€ì¦ ì¤‘ìš”

---

### [COMPLETED] 2025-11-03 15:30: OpenAI Compatible API í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„

**ì‘ì—… ë‚´ìš©**:
1. LLMClient í´ë˜ìŠ¤ êµ¬í˜„
2. OpenAI Compatible API ì§€ì› (chat.completions)
3. ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì§€ì› (SSE íŒŒì‹±)
4. ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§
5. chat CLI ëª…ë ¹ì–´ ì¶”ê°€
6. Gemini API ì—°ê²° í…ŒìŠ¤íŠ¸ ì™„ë£Œ

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] LLMClient í´ë˜ìŠ¤ êµ¬í˜„
- [x] chat.completions API í˜¸ì¶œ (ì¼ë°˜)
- [x] ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì§€ì›
- [x] ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§
- [x] Gemini HTTPS ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
- [x] HTTP ì—”ë“œí¬ì¸íŠ¸ ì¤€ë¹„ (LiteLLMìš©)
- [x] chat CLI ëª…ë ¹ì–´ êµ¬í˜„

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. LLMClient í´ë˜ìŠ¤ (src/core/llm-client.ts)
```typescript
export class LLMClient {
  // ì£¼ìš” ë©”ì„œë“œ:
  - chatCompletion(): chat API í˜¸ì¶œ (ì¼ë°˜)
  - chatCompletionStream(): ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ (AsyncGenerator)
  - sendMessage(): ê°„ë‹¨í•œ ì±„íŒ… (í—¬í¼)
  - sendMessageStream(): ìŠ¤íŠ¸ë¦¬ë° ì±„íŒ… (í—¬í¼)
  - chatCompletionWithRetry(): ì¬ì‹œë„ ë¡œì§ í¬í•¨
  - handleError(): ì—ëŸ¬ ì²˜ë¦¬ (ìƒì„¸ ë©”ì‹œì§€)
}
```

**íŠ¹ì§•**:
- OpenAI Compatible API ì™„ì „ ì§€ì›
- HTTP/HTTPS ëª¨ë‘ ì§€ì› (Gemini, LiteLLM í˜¸í™˜)
- Axios ê¸°ë°˜ HTTP í´ë¼ì´ì–¸íŠ¸
- SSE (Server-Sent Events) íŒŒì‹±
- AsyncGeneratorë¥¼ í†µí•œ ìŠ¤íŠ¸ë¦¬ë°
- ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„ (1s, 2s, 4s)
- ìƒì„¸í•œ ì—ëŸ¬ ë©”ì‹œì§€ (401, 429, 500 ë“±)

#### 2. chat CLI ëª…ë ¹ì–´
```bash
# ì¼ë°˜ ì‘ë‹µ
$ openchat "Hello!"
ğŸ’¬ OPEN-CLI Chat
ëª¨ë¸: gemini-2.0-flash
ì—”ë“œí¬ì¸íŠ¸: https://generativelanguage.googleapis.com/v1beta/openai/

ğŸ¤– Assistant:
Hello! How can I help you today?

# ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
$ openchat "Tell me a joke" -s
ğŸ¤– Assistant:
Why don't scientists trust atoms?
Because they make up everything!

# ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸
$ openchat "íŒŒì´ì¬ ì„¤ëª…í•´ì¤˜" --system "You are a helpful tutor"
```

**ì˜µì…˜**:
- `-s, --stream`: ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
- `--system <prompt>`: ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸

#### 3. ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ êµ¬í˜„
```typescript
async *chatCompletionStream(options) {
  // SSE (Server-Sent Events) íŒŒì‹±
  const stream = response.data as AsyncIterable<Buffer>;

  for await (const chunk of stream) {
    // data: {...} í˜•ì‹ íŒŒì‹±
    // AsyncGeneratorë¡œ yield
  }
}
```

**íŠ¹ì§•**:
- SSE í˜•ì‹ ì‹¤ì‹œê°„ íŒŒì‹±
- AsyncGenerator íŒ¨í„´
- ë¶ˆì™„ì „í•œ ì²­í¬ ì²˜ë¦¬
- `data: [DONE]` ì¢…ë£Œ ê°ì§€

#### 4. ì—ëŸ¬ ì²˜ë¦¬
```typescript
handleError(error) {
  // 401: ì¸ì¦ ì‹¤íŒ¨ (API í‚¤ ë¬¸ì œ)
  // 429: Rate limit ì´ˆê³¼
  // 500+: ì„œë²„ ì—ëŸ¬
  // Network: ì—°ê²° ì‹¤íŒ¨
}
```

**ì¬ì‹œë„ ë¡œì§**:
```typescript
chatCompletionWithRetry(options, maxRetries = 3) {
  // 1ì°¨ ì‹œë„ ì‹¤íŒ¨ â†’ 1ì´ˆ ëŒ€ê¸°
  // 2ì°¨ ì‹œë„ ì‹¤íŒ¨ â†’ 2ì´ˆ ëŒ€ê¸°
  // 3ì°¨ ì‹œë„ ì‹¤íŒ¨ â†’ 4ì´ˆ ëŒ€ê¸° â†’ ìµœì¢… ì—ëŸ¬
}
```

#### 5. ì§€ì› ëª¨ë¸
**í˜„ì¬ í…ŒìŠ¤íŠ¸ ì™„ë£Œ**:
- âœ… Gemini 2.0 Flash (HTTPS)
  - Endpoint: https://generativelanguage.googleapis.com/v1beta/openai/
  - 1M tokens context
  - ìŠ¤íŠ¸ë¦¬ë° ì§€ì›

**í–¥í›„ ì§€ì› ì˜ˆì •** (LiteLLM, HTTP):
- â¬œ GLM4.5
- â¬œ deepseek-v3-0324
- â¬œ gpt-oss-120b

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
- âœ… Gemini API ì¼ë°˜ ì‘ë‹µ ì„±ê³µ
- âœ… Gemini API ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì„±ê³µ
- âœ… í•œê¸€ ë©”ì‹œì§€ ì²˜ë¦¬ í™•ì¸
- âœ… ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ë™ì‘ í™•ì¸
- âœ… TypeScript strict mode í†µê³¼
- âœ… ESLint ê²€ì‚¬ í†µê³¼ (íƒ€ì… ë‹¨ì–¸ ìˆ˜ì •)
- âœ… Prettier í¬ë§·íŒ… ì ìš©

**ì‹¤í–‰ ì˜ˆì‹œ**:
```bash
$ node dist/cli.js chat "What is 2+2?" -s
ğŸ’¬ OPEN-CLI Chat

ëª¨ë¸: gemini-2.0-flash
ì—”ë“œí¬ì¸íŠ¸: https://generativelanguage.googleapis.com/v1beta/openai/

ğŸ¤– Assistant:
2 + 2 = 4
```

**ì´ìŠˆ ë° í•´ê²°**:
- âš ï¸ ESLint ì—ëŸ¬: Unsafe any type in stream
  - **í•´ê²°**: `response.data as AsyncIterable<Buffer>` íƒ€ì… ë‹¨ì–¸ ì¶”ê°€
- âš ï¸ ë¶ˆí•„ìš”í•œ íƒ€ì… ë‹¨ì–¸ ê²½ê³ 
  - **í•´ê²°**: chunk íƒ€ì… ìë™ ì¶”ë¡ ìœ¼ë¡œ ë³€ê²½
- âœ… SSE íŒŒì‹± ì•ˆì •ì„± í™•ì¸

**Git Commit**:
- Commit Hash: `c6b5cc8`
- Commit Message: "feat: OpenAI Compatible API í´ë¼ì´ì–¸íŠ¸ ë° chat ëª…ë ¹ì–´ êµ¬í˜„"

**ì™„ë£Œ ì‹œê°„**: 2025-11-03 15:30

**ì†Œìš” ì‹œê°„**: ì•½ 2.5ì‹œê°„

---

### [COMPLETED] 2025-11-03 14:15: ì„¤ì • íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¶•

**ì‘ì—… ë‚´ìš©**:
1. ConfigManager í´ë˜ìŠ¤ êµ¬í˜„
2. íŒŒì¼ ì‹œìŠ¤í…œ ìœ í‹¸ë¦¬í‹° êµ¬í˜„
3. í”„ë¡œì íŠ¸ ìƒìˆ˜ ì •ì˜
4. CLI config ëª…ë ¹ì–´ ì¶”ê°€ (init, show, reset)
5. Gemini 2.0 Flash ê¸°ë³¸ ì—”ë“œí¬ì¸íŠ¸ ì„¤ì •

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] ConfigManager í´ë˜ìŠ¤ êµ¬í˜„
- [x] ~/.open-cli/ ë””ë ‰í† ë¦¬ ìë™ ìƒì„±
- [x] config.json íŒŒì¼ ì½ê¸°/ì“°ê¸°
- [x] íŒŒì¼ ì‹œìŠ¤í…œ ìœ í‹¸ë¦¬í‹°
- [x] config CLI ëª…ë ¹ì–´
- [x] Gemini ì—”ë“œí¬ì¸íŠ¸ ì„¤ì •

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. ConfigManager (src/core/config-manager.ts)
```typescript
export class ConfigManager {
  // ì£¼ìš” ë©”ì„œë“œ:
  - initialize(): ë””ë ‰í† ë¦¬ ë° ì„¤ì • íŒŒì¼ ìƒì„±
  - getConfig(): í˜„ì¬ ì„¤ì • ê°€ì ¸ì˜¤ê¸°
  - getCurrentEndpoint(): í˜„ì¬ ì—”ë“œí¬ì¸íŠ¸ ì •ë³´
  - getCurrentModel(): í˜„ì¬ ëª¨ë¸ ì •ë³´
  - addEndpoint(): ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
  - removeEndpoint(): ì—”ë“œí¬ì¸íŠ¸ ì‚­ì œ
  - setCurrentEndpoint(): ì—”ë“œí¬ì¸íŠ¸ ë³€ê²½
  - setCurrentModel(): ëª¨ë¸ ë³€ê²½
  - updateSettings(): ì„¤ì • ì—…ë°ì´íŠ¸
  - reset(): ì„¤ì • ì´ˆê¸°í™”
}
```

**íŠ¹ì§•**:
- ì‹±ê¸€í†¤ íŒ¨í„´ìœ¼ë¡œ ì „ì—­ ì¸ìŠ¤í„´ìŠ¤ ì œê³µ
- ìë™ ì´ˆê¸°í™” (ë””ë ‰í† ë¦¬ ë° íŒŒì¼ ìƒì„±)
- JSON ê¸°ë°˜ ì„¤ì • ì €ì¥
- ì—”ë“œí¬ì¸íŠ¸ ë° ëª¨ë¸ ê´€ë¦¬
- íƒ€ì… ì•ˆì •ì„± (TypeScript strict mode)

#### 2. íŒŒì¼ ì‹œìŠ¤í…œ ìœ í‹¸ë¦¬í‹° (src/utils/file-system.ts)
```typescript
// ì£¼ìš” í•¨ìˆ˜:
- directoryExists(): ë””ë ‰í† ë¦¬ ì¡´ì¬ í™•ì¸
- fileExists(): íŒŒì¼ ì¡´ì¬ í™•ì¸
- ensureDirectory(): ë””ë ‰í† ë¦¬ ìƒì„± (ì¬ê·€ì )
- readJsonFile<T>(): JSON íŒŒì¼ ì½ê¸° (íƒ€ì… ì•ˆì „)
- writeJsonFile<T>(): JSON íŒŒì¼ ì“°ê¸°
- readTextFile(): í…ìŠ¤íŠ¸ íŒŒì¼ ì½ê¸°
- writeTextFile(): í…ìŠ¤íŠ¸ íŒŒì¼ ì“°ê¸°
- getFileSize(): íŒŒì¼ í¬ê¸° ì¡°íšŒ
```

**íŠ¹ì§•**:
- Promise ê¸°ë°˜ ë¹„ë™ê¸° API
- íƒ€ì… ì œë„¤ë¦­ ì§€ì› (readJsonFile<T>, writeJsonFile<T>)
- ì—ëŸ¬ ì²˜ë¦¬ ë° ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€
- ìë™ ë””ë ‰í† ë¦¬ ìƒì„±

#### 3. í”„ë¡œì íŠ¸ ìƒìˆ˜ (src/constants.ts)
```typescript
// ë””ë ‰í† ë¦¬ ê²½ë¡œ
export const OPEN_HOME_DIR = '~/.open-cli/'
export const CONFIG_FILE_PATH = '~/.open-cli/config.json'
export const SESSIONS_DIR = '~/.open-cli/sessions/'
export const DOCS_DIR = '~/.open-cli/docs/'
export const BACKUPS_DIR = '~/.open-cli/backups/'
export const LOGS_DIR = '~/.open-cli/logs/'

// ê¸°ë³¸ ì„¤ì •
export const DEFAULT_ENDPOINT_ID = 'ep-gemini-default'
export const DEFAULT_MODEL_ID = 'gemini-2.0-flash'
```

#### 4. ê¸°ë³¸ Gemini ì—”ë“œí¬ì¸íŠ¸ ì„¤ì •
```json
{
  "id": "ep-gemini-default",
  "name": "Gemini 2.0 Flash (Default)",
  "baseUrl": "https://generativelanguage.googleapis.com/v1beta/openai/",
  "apiKey": "[USER_PROVIDED_API_KEY]",
  "models": [{
    "id": "gemini-2.0-flash",
    "name": "Gemini 2.0 Flash",
    "maxTokens": 1048576,  // 1M tokens
    "enabled": true,
    "healthStatus": "healthy"
  }],
  "priority": 1,
  "description": "Google Gemini 2.0 Flash model via OpenAI-compatible API"
}
```

**íŠ¹ì§•**:
- OpenAI í˜¸í™˜ API ì—”ë“œí¬ì¸íŠ¸
- 1M í† í° ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš°
- ê¸°ë³¸ í™œì„±í™” ë° ì •ìƒ ìƒíƒœ

#### 5. CLI config ëª…ë ¹ì–´
**openconfig init**:
```bash
$ openconfig init
ğŸš€ OPEN-CLI ì´ˆê¸°í™” ì¤‘...

âœ… ì´ˆê¸°í™” ì™„ë£Œ!

ìƒì„±ëœ ë””ë ‰í† ë¦¬ ë° íŒŒì¼:
  ~/.open-cli/
  ~/.open-cli/config.json
  ~/.open-cli/sessions/
  ~/.open-cli/docs/
  ~/.open-cli/backups/
  ~/.open-cli/logs/

ğŸ“¡ ê¸°ë³¸ ì—”ë“œí¬ì¸íŠ¸ ì„¤ì •:
  ì´ë¦„: Gemini 2.0 Flash (Default)
  URL: https://generativelanguage.googleapis.com/v1beta/openai/
  ëª¨ë¸: Gemini 2.0 Flash (gemini-2.0-flash)
```

**openconfig show**:
```bash
$ openconfig show
ğŸ“‹ OPEN-CLI ì„¤ì •

í˜„ì¬ ì—”ë“œí¬ì¸íŠ¸:
  ID: ep-gemini-default
  ì´ë¦„: Gemini 2.0 Flash (Default)
  URL: https://generativelanguage.googleapis.com/v1beta/openai/
  API Key: ******** (ë§ˆìŠ¤í‚¹ë¨)
  ìš°ì„ ìˆœìœ„: 1

í˜„ì¬ ëª¨ë¸:
  ID: gemini-2.0-flash
  ì´ë¦„: Gemini 2.0 Flash
  ìµœëŒ€ í† í°: 1,048,576
  ìƒíƒœ: âœ… í™œì„±
  í—¬ìŠ¤: ğŸŸ¢ ì •ìƒ

ì „ì²´ ì„¤ì •:
  ë²„ì „: 0.1.0
  ë“±ë¡ëœ ì—”ë“œí¬ì¸íŠ¸: 1ê°œ
  ìë™ ìŠ¹ì¸: âŒ OFF
  ë””ë²„ê·¸ ëª¨ë“œ: âŒ OFF
  ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ: âœ… ON
  ìë™ ì €ì¥: âœ… ON
```

**openconfig reset**:
```bash
$ openconfig reset
âš ï¸  ê²½ê³ : ëª¨ë“  ì„¤ì •ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.
ì„¸ì…˜ ë° ë°±ì—…ì€ ìœ ì§€ë©ë‹ˆë‹¤.

âœ… ì„¤ì •ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.
```

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
- âœ… config init: ë””ë ‰í† ë¦¬ ë° íŒŒì¼ ìƒì„± í™•ì¸
- âœ… config show: ì„¤ì • í‘œì‹œ ë° API í‚¤ ë§ˆìŠ¤í‚¹ í™•ì¸
- âœ… config reset: ì„¤ì • ì´ˆê¸°í™” í™•ì¸
- âœ… ì´ë¯¸ ì´ˆê¸°í™”ëœ ê²½ìš° ê²½ê³  ë©”ì‹œì§€ í™•ì¸
- âœ… TypeScript ë¹Œë“œ ì„±ê³µ (tsc ì—ëŸ¬ ì—†ìŒ)
- âœ… ESLint ê²€ì‚¬ í†µê³¼
- âœ… Prettier í¬ë§·íŒ… ì ìš©

**ìƒì„±ëœ íŒŒì¼ êµ¬ì¡°**:
```
~/.open-cli/
â”œâ”€â”€ config.json           # ì„¤ì • íŒŒì¼ (881 bytes)
â”œâ”€â”€ sessions/             # ì„¸ì…˜ ì €ì¥ ë””ë ‰í† ë¦¬
â”œâ”€â”€ docs/                 # ë¡œì»¬ ë¬¸ì„œ ë””ë ‰í† ë¦¬
â”œâ”€â”€ backups/              # ë°±ì—… ë””ë ‰í† ë¦¬
â””â”€â”€ logs/                 # ë¡œê·¸ ë””ë ‰í† ë¦¬
```

**ì´ìŠˆ ë° í•´ê²°**:
- âš ï¸ ENDPOINTS_FILE_PATH ë¯¸ì‚¬ìš© ê²½ê³ 
  - **í•´ê²°**: importì—ì„œ ì œê±° (ì¶”í›„ ë©€í‹° ì—”ë“œí¬ì¸íŠ¸ ê´€ë¦¬ ì‹œ ì‚¬ìš© ì˜ˆì •)
- âœ… API í‚¤ ë…¸ì¶œ ë°©ì§€ (config showì—ì„œ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬)

**Git Commit**:
- Commit Hash: `a1df98e`
- Commit Message: "feat: ì„¤ì • íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¶• ë° config ëª…ë ¹ì–´ êµ¬í˜„"

**ì™„ë£Œ ì‹œê°„**: 2025-11-03 14:15

**ì†Œìš” ì‹œê°„**: ì•½ 1.5ì‹œê°„

---

### [COMPLETED] 2025-11-03: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • ë° ê¸°ë³¸ CLI í”„ë ˆì„ì›Œí¬

**ì‘ì—… ë‚´ìš©**:
1. Node.js/TypeScript í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
2. ê¸°ë³¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± (src/, tests/, docs/)
3. í•„ìˆ˜ ì˜ì¡´ì„± ì„¤ì¹˜ (220ê°œ íŒ¨í‚¤ì§€)
4. ê°œë°œ í™˜ê²½ ì„¤ì • (ESLint, Prettier, tsconfig)
5. CLI Entry Point êµ¬í˜„ (src/cli.ts)
6. TypeScript íƒ€ì… ì •ì˜ ì¶”ê°€
7. README.md ë¬¸ì„œ ì‘ì„±

**ìƒíƒœ**: ì™„ë£Œë¨ (COMPLETED) âœ…

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [x] package.json ìƒì„±
- [x] TypeScript ì„¤ì • (strict mode)
- [x] í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
- [x] ê¸°ë³¸ ì˜ì¡´ì„± ì„¤ì¹˜
- [x] ESLint/Prettier ì„¤ì •
- [x] Git ì´ˆê¸°í™” ë° .gitignore ì„¤ì •

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:

#### 1. í”„ë¡œì íŠ¸ êµ¬ì¡°
```
a2g-cli/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ cli.ts              # CLI Entry Point (Commander.js ê¸°ë°˜)
â”‚   â”œâ”€â”€ index.ts            # Main Export
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts        # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ core/               # í•µì‹¬ ë¡œì§ (ì¶”í›„ êµ¬í˜„)
â”‚   â”œâ”€â”€ ui/                 # í„°ë¯¸ë„ UI (ì¶”í›„ êµ¬í˜„)
â”‚   â”œâ”€â”€ tools/              # LLM Tools (ì¶”í›„ êµ¬í˜„)
â”‚   â””â”€â”€ utils/              # ìœ í‹¸ë¦¬í‹° (ì¶”í›„ êµ¬í˜„)
â”œâ”€â”€ tests/                  # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”œâ”€â”€ docs/                   # ë¬¸ì„œ
â”œâ”€â”€ dist/                   # ë¹Œë“œ ì¶œë ¥
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .eslintrc.json
â”œâ”€â”€ .prettierrc.json
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â””â”€â”€ PROGRESS.md
```

#### 2. ì˜ì¡´ì„± ì„¤ì¹˜
**í”„ë¡œë•ì…˜ ì˜ì¡´ì„±**:
- `commander@^11.1.0` - CLI í”„ë ˆì„ì›Œí¬
- `axios@^1.6.2` - HTTP í´ë¼ì´ì–¸íŠ¸
- `chalk@^4.1.2` - í„°ë¯¸ë„ ìƒ‰ìƒ ì¶œë ¥
- `ora@^5.4.1` - ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜
- `inquirer@^8.2.6` - ì¸í„°ë™í‹°ë¸Œ í”„ë¡¬í”„íŠ¸

**ê°œë°œ ì˜ì¡´ì„±**:
- `typescript@^5.3.3` - TypeScript ì»´íŒŒì¼ëŸ¬
- `ts-node@^10.9.2` - TypeScript ì§ì ‘ ì‹¤í–‰
- `eslint@^8.56.0` - ë¦°íŒ…
- `prettier@^3.1.1` - ì½”ë“œ í¬ë§·íŒ…

#### 3. TypeScript ì„¤ì •
- **Strict Mode í™œì„±í™”**: ëª¨ë“  strict ì˜µì…˜ í™œì„±í™”
- **Target**: ES2022
- **Module**: CommonJS (Node.js í˜¸í™˜)
- **Source Map**: ë””ë²„ê¹…ì„ ìœ„í•œ ì†ŒìŠ¤ë§µ ìƒì„±
- **Type Checking**: ì—„ê²©í•œ íƒ€ì… ì²´í¬ (noImplicitAny, strictNullChecks ë“±)

#### 4. CLI ê¸°ë³¸ ëª…ë ¹ì–´
- `a2g` - ê¸°ë³¸ ì‹¤í–‰ (ì •ë³´ í‘œì‹œ + help)
- `openhelp` - ë„ì›€ë§ í‘œì‹œ
- `open--version` - ë²„ì „ ì •ë³´ í‘œì‹œ

#### 5. TypeScript íƒ€ì… ì •ì˜
ë‹¤ìŒ í•µì‹¬ íƒ€ì… ì •ì˜ ì™„ë£Œ:
- `EndpointConfig` - ì—”ë“œí¬ì¸íŠ¸ ì„¤ì •
- `ModelInfo` - ëª¨ë¸ ì •ë³´
- `Message` - LLM ë©”ì‹œì§€
- `ToolCall` - Tool Call êµ¬ì¡°
- `LLMRequestOptions` - LLM ìš”ì²­ ì˜µì…˜
- `ToolDefinition` - Tool ì •ì˜
- `SessionMemory` - ì„¸ì…˜ ë©”ëª¨ë¦¬
- `OpenConfig` - ì „ì—­ ì„¤ì •

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
- âœ… TypeScript ë¹Œë“œ ì„±ê³µ (tsc ì»´íŒŒì¼ ì—ëŸ¬ ì—†ìŒ)
- âœ… CLI ì‹¤í–‰ í™•ì¸ (`node dist/cli.js`)
- âœ… ê¸°ë³¸ ëª…ë ¹ì–´ ë™ì‘ í™•ì¸ (help, version)
- âœ… ESLint ê²€ì‚¬ í†µê³¼ (no warnings, no errors)
- âœ… Prettier í¬ë§·íŒ… ì ìš©
- âœ… Git ì»¤ë°‹ ìƒì„± (b0e6825)

**ì‹¤í–‰ ê²°ê³¼**:
```bash
$ node dist/cli.js
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      OPEN-CLI v0.1.0                        â•‘
â•‘              ì˜¤í”„ë¼ì¸ ê¸°ì—…ìš© AI ì½”ë”© ì–´ì‹œìŠ¤í„´íŠ¸              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  OPEN-CLIê°€ ì•„ì§ ì´ˆê¸° ì„¤ì • ë‹¨ê³„ì…ë‹ˆë‹¤.
Phase 1 ê¸°ëŠ¥ì´ í˜„ì¬ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.

âœ… ì™„ë£Œëœ ì‘ì—…:
  â€¢ í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
  â€¢ TypeScript ë° ë¹Œë“œ í™˜ê²½ êµ¬ì„±
  â€¢ ê¸°ë³¸ CLI í”„ë ˆì„ì›Œí¬ êµ¬ì¶•
```

**ì´ìŠˆ ë° í•´ê²°**:
- âš ï¸ ì¼ë¶€ ì˜ì¡´ì„±ì—ì„œ deprecated ê²½ê³  ë°œìƒ (eslint@8, glob@7 ë“±)
  - **í•´ê²°**: í˜„ì¬ ê¸°ëŠ¥ì— ì˜í–¥ ì—†ìŒ, Phase 2ì—ì„œ ì—…ë°ì´íŠ¸ ì˜ˆì •
- âœ… Node.js v25.0.0 í˜¸í™˜ì„± í™•ì¸ ì™„ë£Œ

**Git Commit**:
- Commit Hash: `b0e6825`
- Commit Message: "feat: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • ë° ê¸°ë³¸ CLI í”„ë ˆì„ì›Œí¬ êµ¬ì¶•"

**ì™„ë£Œ ì‹œê°„**: 2025-11-03 13:46

**ì†Œìš” ì‹œê°„**: ì•½ 40ë¶„

---

### [COMPLETED] 2025-11-03: PROGRESS.md ìƒì„±

**ì‘ì—… ë‚´ìš©**:
- ê°œë°œ í”„ë¡œì„¸ìŠ¤ ê·œì¹™ ì •ì˜ (5ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤)
- í”„ë¡œì íŠ¸ ì§„í–‰ ìƒí™© ì¶”ì  ë¬¸ì„œ ìƒì„±
- Phase 1-2 ì‘ì—… ê³„íš ìˆ˜ë¦½

**êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**:
- ëª¨ë“  ì‘ì—…ì´ ê³„íš â†’ êµ¬í˜„ â†’ í…ŒìŠ¤íŠ¸ â†’ ë¬¸ì„œí™” â†’ ë‹¤ìŒ ê³„íšì˜ 5ë‹¨ê³„ë¥¼ ê±°ì¹˜ë„ë¡ ê·œì¹™ ì •ì˜
- ê° ì‘ì—…ë³„ ìƒíƒœ ì¶”ì : PLANNED, IN_PROGRESS, TESTING, COMPLETED
- ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ í†µí•œ ì„¸ë¶€ ì‘ì—… ê´€ë¦¬

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
- âœ… PROGRESS.md íŒŒì¼ ìƒì„± ì™„ë£Œ
- âœ… ê·œì¹™ì´ ëª…í™•íˆ ë¬¸ì„œí™”ë¨

**ì´ìŠˆ ë° í•´ê²°**:
- ì—†ìŒ

**ì™„ë£Œ ì‹œê°„**: 2025-11-03

---

## ğŸ“‹ ë‹¤ìŒ ì‘ì—… ëª©ë¡ (ìš°ì„ ìˆœìœ„ ìˆœ)

### 1. [NEXT] ì„¤ì • íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¶•
**ìš°ì„ ìˆœìœ„**: ğŸ”´ ë†’ìŒ
**ì˜ˆìƒ ì‹œê°„**: 1.5ì‹œê°„
**ì˜ì¡´ì„±**: CLI ê¸°ë³¸ í”„ë ˆì„ì›Œí¬ ì™„ë£Œ

**ì‘ì—… ë‚´ìš©**:
- ~/.open-cli/ ë””ë ‰í† ë¦¬ ìƒì„± ë° ê´€ë¦¬
- ì„¤ì • íŒŒì¼ ì½ê¸°/ì“°ê¸° (JSON í˜•ì‹)
- ì—”ë“œí¬ì¸íŠ¸ ì„¤ì • ì €ì¥ì†Œ êµ¬í˜„
- ê¸°ë³¸ ì„¤ì •ê°’ ì •ì˜

---

### 2. [NEXT] LLM Tools - íŒŒì¼ ì‹œìŠ¤í…œ ë„êµ¬ êµ¬í˜„
**ìš°ì„ ìˆœìœ„**: ğŸŸ¡ ì¤‘ê°„
**ì˜ˆìƒ ì‹œê°„**: 3ì‹œê°„
**ì˜ì¡´ì„±**: CLI ê¸°ë³¸ í”„ë ˆì„ì›Œí¬ ì™„ë£Œ

**ì‘ì—… ë‚´ìš©**:
- list_files: ë””ë ‰í† ë¦¬ ëª©ë¡ ì¡°íšŒ
- read_file: íŒŒì¼ ì½ê¸°
- write_file: íŒŒì¼ ì“°ê¸°
- find_files: Glob íŒ¨í„´ íŒŒì¼ ê²€ìƒ‰
- ê¶Œí•œ í™•ì¸ ë° ì—ëŸ¬ ì²˜ë¦¬

---

## ğŸ“ˆ ì§„í–‰ë¥ 

### Phase 1 ì§„í–‰ë¥ : 40%
```
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 40%
```

**ì™„ë£Œ**: 4 / 10 ì‘ì—…
**ì§„í–‰ ì¤‘**: 0
**ê³„íšë¨**: 2

### ì‘ì—… ì™„ë£Œ ì´ë ¥
- âœ… PROGRESS.md ìƒì„± (5%)
- âœ… í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • ë° ê¸°ë³¸ CLI í”„ë ˆì„ì›Œí¬ (15%)
- âœ… ì„¤ì • íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¶• (25%)
- âœ… OpenAI Compatible API í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ (40%)

---

## ğŸ› ì´ìŠˆ ë° ë²„ê·¸

í˜„ì¬ ì´ìŠˆ ì—†ìŒ

---

## ğŸ’¡ ê¸°ìˆ ì  ê²°ì • ë¡œê·¸

### 2025-11-03: AsyncGeneratorë¥¼ ì‚¬ìš©í•œ ìŠ¤íŠ¸ë¦¬ë° êµ¬í˜„
**ê²°ì •**: AsyncGenerator íŒ¨í„´ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ êµ¬í˜„
**ì´ìœ **:
- ìì—°ìŠ¤ëŸ¬ìš´ ë¹„ë™ê¸° ë°˜ë³µ (for await...of)
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì  (chunk ë‹¨ìœ„ ì²˜ë¦¬)
- TypeScript íƒ€ì… ì•ˆì „ì„±
- ì½œë°±ì´ë‚˜ ì´ë²¤íŠ¸ë³´ë‹¤ ì§ê´€ì 
**ëŒ€ì•ˆ ê²€í† **:
- EventEmitter: ë³µì¡í•œ ì´ë²¤íŠ¸ ê´€ë¦¬
- Callback: ì½œë°± ì§€ì˜¥ ê°€ëŠ¥ì„±
**ì˜í–¥**:
```typescript
async *chatCompletionStream() {
  for await (const chunk of stream) {
    yield content;
  }
}
```

### 2025-11-03: SSE (Server-Sent Events) íŒŒì‹± êµ¬í˜„
**ê²°ì •**: ì§ì ‘ SSE íŒŒì‹± (ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ì´)
**ì´ìœ **:
- ê°„ë‹¨í•œ í˜•ì‹ (data: {json}\n\n)
- ì˜ì¡´ì„± ìµœì†Œí™”
- ë¶ˆì™„ì „í•œ ì²­í¬ ì²˜ë¦¬ ê°€ëŠ¥
**ì˜í–¥**:
- Bufferë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜ í›„ ì¤„ ë‹¨ìœ„ íŒŒì‹±
- `data: [DONE]` ì¢…ë£Œ ì‹ í˜¸ ê°ì§€
- JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ë¬´ì‹œ (ë¶ˆì™„ì „í•œ ì²­í¬)

### 2025-11-03: ì§€ìˆ˜ ë°±ì˜¤í”„ ì¬ì‹œë„ ë¡œì§
**ê²°ì •**: 3íšŒ ì¬ì‹œë„ + ì§€ìˆ˜ ë°±ì˜¤í”„ (1s, 2s, 4s)
**ì´ìœ **:
- ì¼ì‹œì  ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ëŒ€ì‘
- Rate limit íšŒë³µ ì‹œê°„ ì œê³µ
- ê³¼ë„í•œ ì¬ì‹œë„ ë°©ì§€
**ì˜í–¥**:
```typescript
// 1ì°¨: 0s â†’ 1ì°¨ ì‹¤íŒ¨ â†’ 1s ëŒ€ê¸°
// 2ì°¨: 1s â†’ 2ì°¨ ì‹¤íŒ¨ â†’ 2s ëŒ€ê¸°
// 3ì°¨: 3s â†’ 3ì°¨ ì‹¤íŒ¨ â†’ throw
```

### 2025-11-03: Axios ê¸°ë°˜ HTTP í´ë¼ì´ì–¸íŠ¸
**ê²°ì •**: Axios ì‚¬ìš© (node-fetch ëŒ€ì‹ )
**ì´ìœ **:
- íƒ€ì„ì•„ì›ƒ ê¸°ë³¸ ì§€ì›
- ì¸í„°ì…‰í„° ì§€ì›
- TypeScript íƒ€ì… ì •ì˜ ìš°ìˆ˜
- ì—ëŸ¬ ì²˜ë¦¬ ê°„í¸
**ì˜í–¥**:
- ëª¨ë“  HTTP ìš”ì²­ì€ Axios ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©
- 60ì´ˆ íƒ€ì„ì•„ì›ƒ ì„¤ì •
- Authorization í—¤ë” ìë™ ì„¤ì •

### 2025-11-03: ì‹±ê¸€í†¤ íŒ¨í„´ìœ¼ë¡œ ConfigManager êµ¬í˜„
**ê²°ì •**: ConfigManagerë¥¼ ì‹±ê¸€í†¤ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„
**ì´ìœ **:
- ì „ì—­ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ì„¤ì • ì¸ìŠ¤í„´ìŠ¤ë§Œ ìœ ì§€
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±
- ì¼ê´€ëœ ì„¤ì • ìƒíƒœ ë³´ì¥
**ì˜í–¥**:
- `export const configManager = new ConfigManager()` í˜•íƒœë¡œ export
- ëª¨ë“  ëª¨ë“ˆì—ì„œ ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ ê³µìœ 

### 2025-11-03: Promise ê¸°ë°˜ ë¹„ë™ê¸° íŒŒì¼ ì‹œìŠ¤í…œ API
**ê²°ì •**: fs.promises ëŒ€ì‹  promisify ì‚¬ìš©
**ì´ìœ **:
- Node.js 10+ í˜¸í™˜ì„±
- ëª…ì‹œì ì¸ ì—ëŸ¬ ì²˜ë¦¬
- ì»¤ìŠ¤í…€ ì—ëŸ¬ ë©”ì‹œì§€ ì¶”ê°€ ê°€ëŠ¥
**ì˜í–¥**:
- ëª¨ë“  íŒŒì¼ ì‹œìŠ¤í…œ ì‘ì—…ì´ async/await íŒ¨í„´
- try-catchë¡œ ëª…í™•í•œ ì—ëŸ¬ ì²˜ë¦¬

### 2025-11-03: JSON ê¸°ë°˜ ì„¤ì • ì €ì¥
**ê²°ì •**: SQLite ëŒ€ì‹  JSON íŒŒì¼ë¡œ ì„¤ì • ì €ì¥
**ì´ìœ **:
- ê°„ë‹¨í•œ ì„¤ì • êµ¬ì¡°
- ì‚¬ëŒì´ ì½ê³  ìˆ˜ì • ê°€ëŠ¥
- ì˜ì¡´ì„± ìµœì†Œí™” (SQLite íŒ¨í‚¤ì§€ ë¶ˆí•„ìš”)
- ë°±ì—… ë° ê³µìœ  ìš©ì´
**ëŒ€ì•ˆ ê²€í† **:
- SQLite: ë³µì¡í•œ ì¿¼ë¦¬ ë¶ˆí•„ìš”, ì˜¤ë²„ìŠ¤í™
- YAML: JSONì´ JavaScript ë„¤ì´í‹°ë¸Œ, íŒŒì‹± ë¹ ë¦„
**ì˜í–¥**:
- config.json íŒŒì¼ í•˜ë‚˜ë¡œ ëª¨ë“  ì„¤ì • ê´€ë¦¬
- í–¥í›„ ì„¸ì…˜/íˆìŠ¤í† ë¦¬ëŠ” SQLite ì‚¬ìš© ê²€í† 

### 2025-11-03: TypeScript Strict Mode ì‚¬ìš©
**ê²°ì •**: TypeScript Strict Mode ì „ì²´ í™œì„±í™”
**ì´ìœ **:
- íƒ€ì… ì•ˆì •ì„± ìµœëŒ€í™”
- ëŸ°íƒ€ì„ ì—ëŸ¬ ì‚¬ì „ ë°©ì§€
- ì½”ë“œ í’ˆì§ˆ í–¥ìƒ
**ì˜í–¥**:
- ëª¨ë“  ì½”ë“œì—ì„œ ëª…ì‹œì  íƒ€ì… ì„ ì–¸ í•„ìˆ˜
- null/undefined ì²´í¬ ê°•ì œ
- ê°œë°œ ì´ˆê¸° ë‹¨ê³„ë¶€í„° ë†’ì€ ì½”ë“œ í’ˆì§ˆ ìœ ì§€

### 2025-11-03: Commander.js ì„ íƒ
**ê²°ì •**: CLI í”„ë ˆì„ì›Œí¬ë¡œ Commander.js ì‚¬ìš©
**ì´ìœ **:
- Node.js CLI í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬
- ê°„ë‹¨í•œ APIì™€ ê°•ë ¥í•œ ê¸°ëŠ¥
- TypeScript íƒ€ì… ì§€ì›
- í™œë°œí•œ ì»¤ë®¤ë‹ˆí‹° ë° ìœ ì§€ë³´ìˆ˜
**ëŒ€ì•ˆ ê²€í† **:
- yargs: ë” ë³µì¡í•œ API
- oclif: ê³¼ë„í•˜ê²Œ ë¬´ê±°ì›€
**ì˜í–¥**: ë¹ ë¥¸ CLI ëª…ë ¹ì–´ êµ¬ì¶• ê°€ëŠ¥

### 2025-11-03: CommonJS ëª¨ë“ˆ ì‹œìŠ¤í…œ ì‚¬ìš©
**ê²°ì •**: ES Modules ëŒ€ì‹  CommonJS ì‚¬ìš©
**ì´ìœ **:
- Node.js í™˜ê²½ì—ì„œì˜ í˜¸í™˜ì„±
- ëŒ€ë¶€ë¶„ì˜ npm íŒ¨í‚¤ì§€ê°€ CommonJS ì§€ì›
- Bundling ì‹œ ì•ˆì •ì„±
**ì˜í–¥**: require/module.exports ì‚¬ìš©

### 2025-11-03: ê°œë°œ í”„ë¡œì„¸ìŠ¤ ê·œì¹™ ì •ì˜
**ê²°ì •**: 5ë‹¨ê³„ ì—„ê²© í”„ë¡œì„¸ìŠ¤ ë„ì… (ê³„íš â†’ êµ¬í˜„ â†’ í…ŒìŠ¤íŠ¸ â†’ ë¬¸ì„œí™” â†’ ë‹¤ìŒ ê³„íš)
**ì´ìœ **: ì²´ê³„ì ì¸ ê°œë°œ ì§„í–‰ ë° í’ˆì§ˆ ë³´ì¥
**ì˜í–¥**: ëª¨ë“  ì‘ì—…ì´ ë¬¸ì„œí™”ë˜ê³  ì¶”ì  ê°€ëŠ¥

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [INTEGRATED_PROJECT_DOCUMENT.md](./INTEGRATED_PROJECT_DOCUMENT.md) - ì „ì²´ í”„ë¡œì íŠ¸ ë¬¸ì„œ
- Phase 1 ëª©í‘œ: ê¸°ë³¸ CLI í”„ë ˆì„ì›Œí¬, ë¡œì»¬ ëª¨ë¸ ì—°ê²°, íŒŒì¼ ì‹œìŠ¤í…œ ë„êµ¬, ê¸°ë³¸ ëª…ë ¹ì–´ ì‹œìŠ¤í…œ
- Phase 2 ëª©í‘œ: ì¸í„°ë™í‹°ë¸Œ í„°ë¯¸ë„ UI, ê³ ê¸‰ ì„¤ì • ê´€ë¦¬, ë¡œì»¬ ë¬¸ì„œ ì‹œìŠ¤í…œ, ì„¸ì…˜ ê´€ë¦¬

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-03 15:30
**ë‹¤ìŒ ì—…ë°ì´íŠ¸ ì˜ˆì •**: LLM Tools (íŒŒì¼ ì‹œìŠ¤í…œ ë„êµ¬) êµ¬í˜„ ì™„ë£Œ í›„
